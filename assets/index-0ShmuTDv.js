var fg=e=>{throw TypeError(e)};var md=(e,t,n)=>t.has(e)||fg("Cannot "+n);var B=(e,t,n)=>(md(e,t,"read from private field"),n?n.call(e):t.get(e)),Re=(e,t,n)=>t.has(e)?fg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),we=(e,t,n,r)=>(md(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Et=(e,t,n)=>(md(e,t,"access private method"),n);var El=(e,t,n,r)=>({set _(s){we(e,t,s,n)},get _(){return B(e,t,r)}});function vS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function If(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Zy={exports:{}},nc={},Vy={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),_S=Symbol.for("react.portal"),wS=Symbol.for("react.fragment"),xS=Symbol.for("react.strict_mode"),bS=Symbol.for("react.profiler"),SS=Symbol.for("react.provider"),kS=Symbol.for("react.context"),PS=Symbol.for("react.forward_ref"),ES=Symbol.for("react.suspense"),CS=Symbol.for("react.memo"),TS=Symbol.for("react.lazy"),pg=Symbol.iterator;function jS(e){return e===null||typeof e!="object"?null:(e=pg&&e[pg]||e["@@iterator"],typeof e=="function"?e:null)}var qy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ky=Object.assign,Gy={};function bo(e,t,n){this.props=e,this.context=t,this.refs=Gy,this.updater=n||qy}bo.prototype.isReactComponent={};bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qy(){}Qy.prototype=bo.prototype;function Df(e,t,n){this.props=e,this.context=t,this.refs=Gy,this.updater=n||qy}var zf=Df.prototype=new Qy;zf.constructor=Df;Ky(zf,bo.prototype);zf.isPureReactComponent=!0;var mg=Array.isArray,Yy=Object.prototype.hasOwnProperty,Ff={current:null},Jy={key:!0,ref:!0,__self:!0,__source:!0};function Xy(e,t,n){var r,s={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Yy.call(t,r)&&!Jy.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var d=Array(u),h=0;h<u;h++)d[h]=arguments[h+2];s.children=d}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:qa,type:e,key:o,ref:l,props:s,_owner:Ff.current}}function NS(e,t){return{$$typeof:qa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $f(e){return typeof e=="object"&&e!==null&&e.$$typeof===qa}function AS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gg=/\/+/g;function gd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AS(""+e.key):t.toString(36)}function iu(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case qa:case _S:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+gd(l,0):r,mg(s)?(n="",e!=null&&(n=e.replace(gg,"$&/")+"/"),iu(s,t,n,"",function(h){return h})):s!=null&&($f(s)&&(s=NS(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(gg,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",mg(e))for(var u=0;u<e.length;u++){o=e[u];var d=r+gd(o,u);l+=iu(o,t,n,d,s)}else if(d=jS(e),typeof d=="function")for(e=d.call(e),u=0;!(o=e.next()).done;)o=o.value,d=r+gd(o,u++),l+=iu(o,t,n,d,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Cl(e,t,n){if(e==null)return e;var r=[],s=0;return iu(e,r,"","",function(o){return t.call(n,o,s++)}),r}function LS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},su={transition:null},OS={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:su,ReactCurrentOwner:Ff};function e_(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Cl,forEach:function(e,t,n){Cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cl(e,function(){t++}),t},toArray:function(e){return Cl(e,function(t){return t})||[]},only:function(e){if(!$f(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=bo;Se.Fragment=wS;Se.Profiler=bS;Se.PureComponent=Df;Se.StrictMode=xS;Se.Suspense=ES;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OS;Se.act=e_;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ky({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Ff.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)Yy.call(t,d)&&!Jy.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var h=0;h<d;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:qa,type:e.type,key:s,ref:o,props:r,_owner:l}};Se.createContext=function(e){return e={$$typeof:kS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SS,_context:e},e.Consumer=e};Se.createElement=Xy;Se.createFactory=function(e){var t=Xy.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:PS,render:e}};Se.isValidElement=$f;Se.lazy=function(e){return{$$typeof:TS,_payload:{_status:-1,_result:e},_init:LS}};Se.memo=function(e,t){return{$$typeof:CS,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=su.transition;su.transition={};try{e()}finally{su.transition=t}};Se.unstable_act=e_;Se.useCallback=function(e,t){return Ut.current.useCallback(e,t)};Se.useContext=function(e){return Ut.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Ut.current.useEffect(e,t)};Se.useId=function(){return Ut.current.useId()};Se.useImperativeHandle=function(e,t,n){return Ut.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return Ut.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Ut.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Ut.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return Ut.current.useReducer(e,t,n)};Se.useRef=function(e){return Ut.current.useRef(e)};Se.useState=function(e){return Ut.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return Ut.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return Ut.current.useTransition()};Se.version="18.3.1";Vy.exports=Se;var _=Vy.exports;const Y=If(_),t_=vS({__proto__:null,default:Y},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS=_,MS=Symbol.for("react.element"),IS=Symbol.for("react.fragment"),DS=Object.prototype.hasOwnProperty,zS=RS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FS={key:!0,ref:!0,__self:!0,__source:!0};function n_(e,t,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)DS.call(t,r)&&!FS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:MS,type:e,key:o,ref:l,props:s,_owner:zS.current}}nc.Fragment=IS;nc.jsx=n_;nc.jsxs=n_;Zy.exports=nc;var f=Zy.exports,r_={exports:{}},gn={},i_={exports:{}},s_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,V){var $=A.length;A.push(V);e:for(;0<$;){var H=$-1>>>1,te=A[H];if(0<s(te,V))A[H]=V,A[$]=te,$=H;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var V=A[0],$=A.pop();if($!==V){A[0]=$;e:for(var H=0,te=A.length,le=te>>>1;H<le;){var fe=2*(H+1)-1,pe=A[fe],D=fe+1,ee=A[D];if(0>s(pe,$))D<te&&0>s(ee,pe)?(A[H]=ee,A[D]=$,H=D):(A[H]=pe,A[fe]=$,H=fe);else if(D<te&&0>s(ee,$))A[H]=ee,A[D]=$,H=D;else break e}}return V}function s(A,V){var $=A.sortIndex-V.sortIndex;return $!==0?$:A.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,v=3,x=!1,E=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(A){for(var V=n(h);V!==null;){if(V.callback===null)r(h);else if(V.startTime<=A)r(h),V.sortIndex=V.expirationTime,t(d,V);else break;V=n(h)}}function T(A){if(w=!1,P(A),!E)if(n(d)!==null)E=!0,X(N);else{var V=n(h);V!==null&&ie(T,V.startTime-A)}}function N(A,V){E=!1,w&&(w=!1,b(z),z=-1),x=!0;var $=v;try{for(P(V),g=n(d);g!==null&&(!(g.expirationTime>V)||A&&!J());){var H=g.callback;if(typeof H=="function"){g.callback=null,v=g.priorityLevel;var te=H(g.expirationTime<=V);V=e.unstable_now(),typeof te=="function"?g.callback=te:g===n(d)&&r(d),P(V)}else r(d);g=n(d)}if(g!==null)var le=!0;else{var fe=n(h);fe!==null&&ie(T,fe.startTime-V),le=!1}return le}finally{g=null,v=$,x=!1}}var M=!1,O=null,z=-1,K=5,W=-1;function J(){return!(e.unstable_now()-W<K)}function G(){if(O!==null){var A=e.unstable_now();W=A;var V=!0;try{V=O(!0,A)}finally{V?oe():(M=!1,O=null)}}else M=!1}var oe;if(typeof S=="function")oe=function(){S(G)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Z=F.port2;F.port1.onmessage=G,oe=function(){Z.postMessage(null)}}else oe=function(){C(G,0)};function X(A){O=A,M||(M=!0,oe())}function ie(A,V){z=C(function(){A(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){E||x||(E=!0,X(N))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(A){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var $=v;v=V;try{return A()}finally{v=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=v;v=A;try{return V()}finally{v=$}},e.unstable_scheduleCallback=function(A,V,$){var H=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=$+te,A={id:m++,callback:V,priorityLevel:A,startTime:$,expirationTime:te,sortIndex:-1},$>H?(A.sortIndex=$,t(h,A),n(d)===null&&A===n(h)&&(w?(b(z),z=-1):w=!0,ie(T,$-H))):(A.sortIndex=te,t(d,A),E||x||(E=!0,X(N))),A},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(A){var V=v;return function(){var $=v;v=V;try{return A.apply(this,arguments)}finally{v=$}}}})(s_);i_.exports=s_;var $S=i_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS=_,mn=$S;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o_=new Set,ya={};function cs(e,t){uo(e,t),uo(e+"Capture",t)}function uo(e,t){for(ya[e]=t,e=0;e<t.length;e++)o_.add(t[e])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=Object.prototype.hasOwnProperty,US=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vg={},yg={};function WS(e){return ph.call(yg,e)?!0:ph.call(vg,e)?!1:US.test(e)?yg[e]=!0:(vg[e]=!0,!1)}function HS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZS(e,t,n,r){if(t===null||typeof t>"u"||HS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wt(e,t,n,r,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bf=/[\-:]([a-z])/g;function Uf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bf,Uf);kt[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bf,Uf);kt[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bf,Uf);kt[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wf(e,t,n,r){var s=kt.hasOwnProperty(t)?kt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZS(t,n,s,r)&&(n=null),r||s===null?WS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dr=BS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),mh=Symbol.for("react.profiler"),a_=Symbol.for("react.provider"),l_=Symbol.for("react.context"),Zf=Symbol.for("react.forward_ref"),gh=Symbol.for("react.suspense"),vh=Symbol.for("react.suspense_list"),Vf=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),u_=Symbol.for("react.offscreen"),_g=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=_g&&e[_g]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,vd;function ea(e){if(vd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vd=t&&t[1]||""}return`
`+vd+e}var yd=!1;function _d(e,t){if(!e||yd)return"";yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,u=o.length-1;1<=l&&0<=u&&s[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(s[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||s[l]!==o[u]){var d=`
`+s[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{yd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ea(e):""}function VS(e){switch(e.tag){case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return e=_d(e.type,!1),e;case 11:return e=_d(e.type.render,!1),e;case 1:return e=_d(e.type,!0),e;default:return""}}function yh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case Ls:return"Portal";case mh:return"Profiler";case Hf:return"StrictMode";case gh:return"Suspense";case vh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case l_:return(e.displayName||"Context")+".Consumer";case a_:return(e._context.displayName||"Context")+".Provider";case Zf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vf:return t=e.displayName||null,t!==null?t:yh(e.type)||"Memo";case Gr:t=e._payload,e=e._init;try{return yh(e(t))}catch{}}return null}function qS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yh(t);case 8:return t===Hf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function c_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KS(e){var t=c_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){e._valueTracker||(e._valueTracker=KS(e))}function d_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=c_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Su(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _h(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function h_(e,t){t=t.checked,t!=null&&Wf(e,"checked",t,!1)}function wh(e,t){h_(e,t);var n=vi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xh(e,t.type,n):t.hasOwnProperty("defaultValue")&&xh(e,t.type,vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xh(e,t,n){(t!=="number"||Su(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ta=Array.isArray;function Hs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(ta(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vi(n)}}function f_(e,t){var n=vi(t.value),r=vi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function p_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?p_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nl,m_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GS=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(e){GS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sa[t]=sa[e]})});function g_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sa.hasOwnProperty(e)&&sa[e]?(""+t).trim():t+"px"}function v_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=g_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var QS=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kh(e,t){if(t){if(QS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Ph(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eh=null;function qf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ch=null,Zs=null,Vs=null;function kg(e){if(e=Qa(e)){if(typeof Ch!="function")throw Error(q(280));var t=e.stateNode;t&&(t=ac(t),Ch(e.stateNode,e.type,t))}}function y_(e){Zs?Vs?Vs.push(e):Vs=[e]:Zs=e}function __(){if(Zs){var e=Zs,t=Vs;if(Vs=Zs=null,kg(e),t)for(e=0;e<t.length;e++)kg(t[e])}}function w_(e,t){return e(t)}function x_(){}var wd=!1;function b_(e,t,n){if(wd)return e(t,n);wd=!0;try{return w_(e,t,n)}finally{wd=!1,(Zs!==null||Vs!==null)&&(x_(),__())}}function wa(e,t){var n=e.stateNode;if(n===null)return null;var r=ac(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Th=!1;if(Ar)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Th=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Th=!1}function YS(e,t,n,r,s,o,l,u,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(m){this.onError(m)}}var oa=!1,ku=null,Pu=!1,jh=null,JS={onError:function(e){oa=!0,ku=e}};function XS(e,t,n,r,s,o,l,u,d){oa=!1,ku=null,YS.apply(JS,arguments)}function ek(e,t,n,r,s,o,l,u,d){if(XS.apply(this,arguments),oa){if(oa){var h=ku;oa=!1,ku=null}else throw Error(q(198));Pu||(Pu=!0,jh=h)}}function ds(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pg(e){if(ds(e)!==e)throw Error(q(188))}function tk(e){var t=e.alternate;if(!t){if(t=ds(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Pg(s),e;if(o===r)return Pg(s),t;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,u=s.child;u;){if(u===n){l=!0,n=s,r=o;break}if(u===r){l=!0,r=s,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=s;break}if(u===r){l=!0,r=o,n=s;break}u=u.sibling}if(!l)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function k_(e){return e=tk(e),e!==null?P_(e):null}function P_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=P_(e);if(t!==null)return t;e=e.sibling}return null}var E_=mn.unstable_scheduleCallback,Eg=mn.unstable_cancelCallback,nk=mn.unstable_shouldYield,rk=mn.unstable_requestPaint,nt=mn.unstable_now,ik=mn.unstable_getCurrentPriorityLevel,Kf=mn.unstable_ImmediatePriority,C_=mn.unstable_UserBlockingPriority,Eu=mn.unstable_NormalPriority,sk=mn.unstable_LowPriority,T_=mn.unstable_IdlePriority,rc=null,dr=null;function ok(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(rc,e,void 0,(e.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:uk,ak=Math.log,lk=Math.LN2;function uk(e){return e>>>=0,e===0?32:31-(ak(e)/lk|0)|0}var Al=64,Ll=4194304;function na(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~s;u!==0?r=na(u):(o&=l,o!==0&&(r=na(o)))}else l=n&~s,l!==0?r=na(l):o!==0&&(r=na(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$n(t),s=1<<n,r|=e[n],t&=~s;return r}function ck(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-$n(o),u=1<<l,d=s[l];d===-1?(!(u&n)||u&r)&&(s[l]=ck(u,t)):d<=t&&(e.expiredLanes|=u),o&=~u}}function Nh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function j_(){var e=Al;return Al<<=1,!(Al&4194240)&&(Al=64),e}function xd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ka(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$n(t),e[t]=n}function hk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$n(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Gf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$n(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var De=0;function N_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var A_,Qf,L_,O_,R_,Ah=!1,Ol=[],ui=null,ci=null,di=null,xa=new Map,ba=new Map,Jr=[],fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cg(e,t){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":xa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(t.pointerId)}}function Ho(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Qa(t),t!==null&&Qf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pk(e,t,n,r,s){switch(t){case"focusin":return ui=Ho(ui,e,t,n,r,s),!0;case"dragenter":return ci=Ho(ci,e,t,n,r,s),!0;case"mouseover":return di=Ho(di,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return xa.set(o,Ho(xa.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ba.set(o,Ho(ba.get(o)||null,e,t,n,r,s)),!0}return!1}function M_(e){var t=Hi(e.target);if(t!==null){var n=ds(t);if(n!==null){if(t=n.tag,t===13){if(t=S_(n),t!==null){e.blockedOn=t,R_(e.priority,function(){L_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Eh=r,n.target.dispatchEvent(r),Eh=null}else return t=Qa(n),t!==null&&Qf(t),e.blockedOn=n,!1;t.shift()}return!0}function Tg(e,t,n){ou(e)&&n.delete(t)}function mk(){Ah=!1,ui!==null&&ou(ui)&&(ui=null),ci!==null&&ou(ci)&&(ci=null),di!==null&&ou(di)&&(di=null),xa.forEach(Tg),ba.forEach(Tg)}function Zo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ah||(Ah=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,mk)))}function Sa(e){function t(s){return Zo(s,e)}if(0<Ol.length){Zo(Ol[0],e);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ui!==null&&Zo(ui,e),ci!==null&&Zo(ci,e),di!==null&&Zo(di,e),xa.forEach(t),ba.forEach(t),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)M_(n),n.blockedOn===null&&Jr.shift()}var qs=Dr.ReactCurrentBatchConfig,Tu=!0;function gk(e,t,n,r){var s=De,o=qs.transition;qs.transition=null;try{De=1,Yf(e,t,n,r)}finally{De=s,qs.transition=o}}function vk(e,t,n,r){var s=De,o=qs.transition;qs.transition=null;try{De=4,Yf(e,t,n,r)}finally{De=s,qs.transition=o}}function Yf(e,t,n,r){if(Tu){var s=Lh(e,t,n,r);if(s===null)Ad(e,t,r,ju,n),Cg(e,r);else if(pk(s,e,t,n,r))r.stopPropagation();else if(Cg(e,r),t&4&&-1<fk.indexOf(e)){for(;s!==null;){var o=Qa(s);if(o!==null&&A_(o),o=Lh(e,t,n,r),o===null&&Ad(e,t,r,ju,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ad(e,t,r,null,n)}}var ju=null;function Lh(e,t,n,r){if(ju=null,e=qf(r),e=Hi(e),e!==null)if(t=ds(e),t===null)e=null;else if(n=t.tag,n===13){if(e=S_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ju=e,null}function I_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ik()){case Kf:return 1;case C_:return 4;case Eu:case sk:return 16;case T_:return 536870912;default:return 16}default:return 16}}var oi=null,Jf=null,au=null;function D_(){if(au)return au;var e,t=Jf,n=t.length,r,s="value"in oi?oi.value:oi.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[o-r];r++);return au=s.slice(e,1<r?1-r:void 0)}function lu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function jg(){return!1}function vn(e){function t(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rl:jg,this.isPropagationStopped=jg,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),t}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xf=vn(So),Ga=Qe({},So,{view:0,detail:0}),yk=vn(Ga),bd,Sd,Vo,ic=Qe({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vo&&(Vo&&e.type==="mousemove"?(bd=e.screenX-Vo.screenX,Sd=e.screenY-Vo.screenY):Sd=bd=0,Vo=e),bd)},movementY:function(e){return"movementY"in e?e.movementY:Sd}}),Ng=vn(ic),_k=Qe({},ic,{dataTransfer:0}),wk=vn(_k),xk=Qe({},Ga,{relatedTarget:0}),kd=vn(xk),bk=Qe({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=vn(bk),kk=Qe({},So,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pk=vn(kk),Ek=Qe({},So,{data:0}),Ag=vn(Ek),Ck={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jk[e])?!!t[e]:!1}function ep(){return Nk}var Ak=Qe({},Ga,{key:function(e){if(e.key){var t=Ck[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(e){return e.type==="keypress"?lu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lk=vn(Ak),Ok=Qe({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=vn(Ok),Rk=Qe({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),Mk=vn(Rk),Ik=Qe({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dk=vn(Ik),zk=Qe({},ic,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fk=vn(zk),$k=[9,13,27,32],tp=Ar&&"CompositionEvent"in window,aa=null;Ar&&"documentMode"in document&&(aa=document.documentMode);var Bk=Ar&&"TextEvent"in window&&!aa,z_=Ar&&(!tp||aa&&8<aa&&11>=aa),Og=" ",Rg=!1;function F_(e,t){switch(e){case"keyup":return $k.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function Uk(e,t){switch(e){case"compositionend":return $_(t);case"keypress":return t.which!==32?null:(Rg=!0,Og);case"textInput":return e=t.data,e===Og&&Rg?null:e;default:return null}}function Wk(e,t){if(Rs)return e==="compositionend"||!tp&&F_(e,t)?(e=D_(),au=Jf=oi=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return z_&&t.locale!=="ko"?null:t.data;default:return null}}var Hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hk[e.type]:t==="textarea"}function B_(e,t,n,r){y_(r),t=Nu(t,"onChange"),0<t.length&&(n=new Xf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var la=null,ka=null;function Zk(e){J_(e,0)}function sc(e){var t=Ds(e);if(d_(t))return e}function Vk(e,t){if(e==="change")return t}var U_=!1;if(Ar){var Pd;if(Ar){var Ed="oninput"in document;if(!Ed){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Ed=typeof Ig.oninput=="function"}Pd=Ed}else Pd=!1;U_=Pd&&(!document.documentMode||9<document.documentMode)}function Dg(){la&&(la.detachEvent("onpropertychange",W_),ka=la=null)}function W_(e){if(e.propertyName==="value"&&sc(ka)){var t=[];B_(t,ka,e,qf(e)),b_(Zk,t)}}function qk(e,t,n){e==="focusin"?(Dg(),la=t,ka=n,la.attachEvent("onpropertychange",W_)):e==="focusout"&&Dg()}function Kk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sc(ka)}function Gk(e,t){if(e==="click")return sc(t)}function Qk(e,t){if(e==="input"||e==="change")return sc(t)}function Yk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Un=typeof Object.is=="function"?Object.is:Yk;function Pa(e,t){if(Un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ph.call(t,s)||!Un(e[s],t[s]))return!1}return!0}function zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fg(e,t){var n=zg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zg(n)}}function H_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?H_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z_(){for(var e=window,t=Su();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Su(e.document)}return t}function np(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jk(e){var t=Z_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&H_(n.ownerDocument.documentElement,n)){if(r!==null&&np(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Fg(n,o);var l=Fg(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xk=Ar&&"documentMode"in document&&11>=document.documentMode,Ms=null,Oh=null,ua=null,Rh=!1;function $g(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rh||Ms==null||Ms!==Su(r)||(r=Ms,"selectionStart"in r&&np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ua&&Pa(ua,r)||(ua=r,r=Nu(Oh,"onSelect"),0<r.length&&(t=new Xf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ms)))}function Ml(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Is={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},Cd={},V_={};Ar&&(V_=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function oc(e){if(Cd[e])return Cd[e];if(!Is[e])return e;var t=Is[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in V_)return Cd[e]=t[n];return e}var q_=oc("animationend"),K_=oc("animationiteration"),G_=oc("animationstart"),Q_=oc("transitionend"),Y_=new Map,Bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(e,t){Y_.set(e,t),cs(t,[e])}for(var Td=0;Td<Bg.length;Td++){var jd=Bg[Td],eP=jd.toLowerCase(),tP=jd[0].toUpperCase()+jd.slice(1);ki(eP,"on"+tP)}ki(q_,"onAnimationEnd");ki(K_,"onAnimationIteration");ki(G_,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(Q_,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function Ug(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ek(r,t,void 0,e),e.currentTarget=null}function J_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,h=u.currentTarget;if(u=u.listener,d!==o&&s.isPropagationStopped())break e;Ug(s,u,h),o=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,h=u.currentTarget,u=u.listener,d!==o&&s.isPropagationStopped())break e;Ug(s,u,h),o=d}}}if(Pu)throw e=jh,Pu=!1,jh=null,e}function He(e,t){var n=t[Fh];n===void 0&&(n=t[Fh]=new Set);var r=e+"__bubble";n.has(r)||(X_(t,e,2,!1),n.add(r))}function Nd(e,t,n){var r=0;t&&(r|=4),X_(n,e,r,t)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Ea(e){if(!e[Il]){e[Il]=!0,o_.forEach(function(n){n!=="selectionchange"&&(nP.has(n)||Nd(n,!1,e),Nd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Il]||(t[Il]=!0,Nd("selectionchange",!1,t))}}function X_(e,t,n,r){switch(I_(t)){case 1:var s=gk;break;case 4:s=vk;break;default:s=Yf}n=s.bind(null,t,n,e),s=void 0,!Th||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ad(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;u!==null;){if(l=Hi(u),l===null)return;if(d=l.tag,d===5||d===6){r=o=l;continue e}u=u.parentNode}}r=r.return}b_(function(){var h=o,m=qf(n),g=[];e:{var v=Y_.get(e);if(v!==void 0){var x=Xf,E=e;switch(e){case"keypress":if(lu(n)===0)break e;case"keydown":case"keyup":x=Lk;break;case"focusin":E="focus",x=kd;break;case"focusout":E="blur",x=kd;break;case"beforeblur":case"afterblur":x=kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Mk;break;case q_:case K_:case G_:x=Sk;break;case Q_:x=Dk;break;case"scroll":x=yk;break;case"wheel":x=Fk;break;case"copy":case"cut":case"paste":x=Pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Lg}var w=(t&4)!==0,C=!w&&e==="scroll",b=w?v!==null?v+"Capture":null:v;w=[];for(var S=h,P;S!==null;){P=S;var T=P.stateNode;if(P.tag===5&&T!==null&&(P=T,b!==null&&(T=wa(S,b),T!=null&&w.push(Ca(S,T,P)))),C)break;S=S.return}0<w.length&&(v=new x(v,E,null,n,m),g.push({event:v,listeners:w}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&n!==Eh&&(E=n.relatedTarget||n.fromElement)&&(Hi(E)||E[Lr]))break e;if((x||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,x?(E=n.relatedTarget||n.toElement,x=h,E=E?Hi(E):null,E!==null&&(C=ds(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(x=null,E=h),x!==E)){if(w=Ng,T="onMouseLeave",b="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(w=Lg,T="onPointerLeave",b="onPointerEnter",S="pointer"),C=x==null?v:Ds(x),P=E==null?v:Ds(E),v=new w(T,S+"leave",x,n,m),v.target=C,v.relatedTarget=P,T=null,Hi(m)===h&&(w=new w(b,S+"enter",E,n,m),w.target=P,w.relatedTarget=C,T=w),C=T,x&&E)t:{for(w=x,b=E,S=0,P=w;P;P=ks(P))S++;for(P=0,T=b;T;T=ks(T))P++;for(;0<S-P;)w=ks(w),S--;for(;0<P-S;)b=ks(b),P--;for(;S--;){if(w===b||b!==null&&w===b.alternate)break t;w=ks(w),b=ks(b)}w=null}else w=null;x!==null&&Wg(g,v,x,w,!1),E!==null&&C!==null&&Wg(g,C,E,w,!0)}}e:{if(v=h?Ds(h):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var N=Vk;else if(Mg(v))if(U_)N=Qk;else{N=Kk;var M=qk}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=Gk);if(N&&(N=N(e,h))){B_(g,N,n,m);break e}M&&M(e,v,h),e==="focusout"&&(M=v._wrapperState)&&M.controlled&&v.type==="number"&&xh(v,"number",v.value)}switch(M=h?Ds(h):window,e){case"focusin":(Mg(M)||M.contentEditable==="true")&&(Ms=M,Oh=h,ua=null);break;case"focusout":ua=Oh=Ms=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,$g(g,n,m);break;case"selectionchange":if(Xk)break;case"keydown":case"keyup":$g(g,n,m)}var O;if(tp)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Rs?F_(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(z_&&n.locale!=="ko"&&(Rs||z!=="onCompositionStart"?z==="onCompositionEnd"&&Rs&&(O=D_()):(oi=m,Jf="value"in oi?oi.value:oi.textContent,Rs=!0)),M=Nu(h,z),0<M.length&&(z=new Ag(z,e,null,n,m),g.push({event:z,listeners:M}),O?z.data=O:(O=$_(n),O!==null&&(z.data=O)))),(O=Bk?Uk(e,n):Wk(e,n))&&(h=Nu(h,"onBeforeInput"),0<h.length&&(m=new Ag("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:h}),m.data=O))}J_(g,t)})}function Ca(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=wa(e,n),o!=null&&r.unshift(Ca(e,o,s)),o=wa(e,t),o!=null&&r.push(Ca(e,o,s))),e=e.return}return r}function ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wg(e,t,n,r,s){for(var o=t._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,h=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&h!==null&&(u=h,s?(d=wa(n,o),d!=null&&l.unshift(Ca(n,d,u))):s||(d=wa(n,o),d!=null&&l.push(Ca(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var rP=/\r\n?/g,iP=/\u0000|\uFFFD/g;function Hg(e){return(typeof e=="string"?e:""+e).replace(rP,`
`).replace(iP,"")}function Dl(e,t,n){if(t=Hg(t),Hg(e)!==t&&n)throw Error(q(425))}function Au(){}var Mh=null,Ih=null;function Dh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,sP=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,oP=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(e){return Zg.resolve(null).then(e).catch(aP)}:zh;function aP(e){setTimeout(function(){throw e})}function Ld(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Sa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sa(t)}function hi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ko=Math.random().toString(36).slice(2),lr="__reactFiber$"+ko,Ta="__reactProps$"+ko,Lr="__reactContainer$"+ko,Fh="__reactEvents$"+ko,lP="__reactListeners$"+ko,uP="__reactHandles$"+ko;function Hi(e){var t=e[lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lr]||n[lr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vg(e);e!==null;){if(n=e[lr])return n;e=Vg(e)}return t}e=n,n=e.parentNode}return null}function Qa(e){return e=e[lr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function ac(e){return e[Ta]||null}var $h=[],zs=-1;function Pi(e){return{current:e}}function Ze(e){0>zs||(e.current=$h[zs],$h[zs]=null,zs--)}function Ue(e,t){zs++,$h[zs]=e.current,e.current=t}var yi={},At=Pi(yi),Qt=Pi(!1),ts=yi;function co(e,t){var n=e.type.contextTypes;if(!n)return yi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Yt(e){return e=e.childContextTypes,e!=null}function Lu(){Ze(Qt),Ze(At)}function qg(e,t,n){if(At.current!==yi)throw Error(q(168));Ue(At,t),Ue(Qt,n)}function e0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(q(108,qS(e)||"Unknown",s));return Qe({},n,r)}function Ou(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yi,ts=At.current,Ue(At,e),Ue(Qt,Qt.current),!0}function Kg(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=e0(e,t,ts),r.__reactInternalMemoizedMergedChildContext=e,Ze(Qt),Ze(At),Ue(At,e)):Ze(Qt),Ue(Qt,n)}var Pr=null,lc=!1,Od=!1;function t0(e){Pr===null?Pr=[e]:Pr.push(e)}function cP(e){lc=!0,t0(e)}function Ei(){if(!Od&&Pr!==null){Od=!0;var e=0,t=De;try{var n=Pr;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pr=null,lc=!1}catch(s){throw Pr!==null&&(Pr=Pr.slice(e+1)),E_(Kf,Ei),s}finally{De=t,Od=!1}}return null}var Fs=[],$s=0,Ru=null,Mu=0,bn=[],Sn=0,ns=null,Er=1,Cr="";function Fi(e,t){Fs[$s++]=Mu,Fs[$s++]=Ru,Ru=e,Mu=t}function n0(e,t,n){bn[Sn++]=Er,bn[Sn++]=Cr,bn[Sn++]=ns,ns=e;var r=Er;e=Cr;var s=32-$n(r)-1;r&=~(1<<s),n+=1;var o=32-$n(t)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Er=1<<32-$n(t)+s|n<<s|r,Cr=o+e}else Er=1<<o|n<<s|r,Cr=e}function rp(e){e.return!==null&&(Fi(e,1),n0(e,1,0))}function ip(e){for(;e===Ru;)Ru=Fs[--$s],Fs[$s]=null,Mu=Fs[--$s],Fs[$s]=null;for(;e===ns;)ns=bn[--Sn],bn[Sn]=null,Cr=bn[--Sn],bn[Sn]=null,Er=bn[--Sn],bn[Sn]=null}var cn=null,un=null,Ve=!1,zn=null;function r0(e,t){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cn=e,un=hi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cn=e,un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ns!==null?{id:Er,overflow:Cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,cn=e,un=null,!0):!1;default:return!1}}function Bh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uh(e){if(Ve){var t=un;if(t){var n=t;if(!Gg(e,t)){if(Bh(e))throw Error(q(418));t=hi(n.nextSibling);var r=cn;t&&Gg(e,t)?r0(r,n):(e.flags=e.flags&-4097|2,Ve=!1,cn=e)}}else{if(Bh(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ve=!1,cn=e}}}function Qg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cn=e}function zl(e){if(e!==cn)return!1;if(!Ve)return Qg(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dh(e.type,e.memoizedProps)),t&&(t=un)){if(Bh(e))throw i0(),Error(q(418));for(;t;)r0(e,t),t=hi(t.nextSibling)}if(Qg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){un=hi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}un=null}}else un=cn?hi(e.stateNode.nextSibling):null;return!0}function i0(){for(var e=un;e;)e=hi(e.nextSibling)}function ho(){un=cn=null,Ve=!1}function sp(e){zn===null?zn=[e]:zn.push(e)}var dP=Dr.ReactCurrentBatchConfig;function qo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var u=s.refs;l===null?delete u[o]:u[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function Fl(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yg(e){var t=e._init;return t(e._payload)}function s0(e){function t(b,S){if(e){var P=b.deletions;P===null?(b.deletions=[S],b.flags|=16):P.push(S)}}function n(b,S){if(!e)return null;for(;S!==null;)t(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function s(b,S){return b=gi(b,S),b.index=0,b.sibling=null,b}function o(b,S,P){return b.index=P,e?(P=b.alternate,P!==null?(P=P.index,P<S?(b.flags|=2,S):P):(b.flags|=2,S)):(b.flags|=1048576,S)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,S,P,T){return S===null||S.tag!==6?(S=$d(P,b.mode,T),S.return=b,S):(S=s(S,P),S.return=b,S)}function d(b,S,P,T){var N=P.type;return N===Os?m(b,S,P.props.children,T,P.key):S!==null&&(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gr&&Yg(N)===S.type)?(T=s(S,P.props),T.ref=qo(b,S,P),T.return=b,T):(T=mu(P.type,P.key,P.props,null,b.mode,T),T.ref=qo(b,S,P),T.return=b,T)}function h(b,S,P,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==P.containerInfo||S.stateNode.implementation!==P.implementation?(S=Bd(P,b.mode,T),S.return=b,S):(S=s(S,P.children||[]),S.return=b,S)}function m(b,S,P,T,N){return S===null||S.tag!==7?(S=Ji(P,b.mode,T,N),S.return=b,S):(S=s(S,P),S.return=b,S)}function g(b,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return S=$d(""+S,b.mode,P),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Tl:return P=mu(S.type,S.key,S.props,null,b.mode,P),P.ref=qo(b,null,S),P.return=b,P;case Ls:return S=Bd(S,b.mode,P),S.return=b,S;case Gr:var T=S._init;return g(b,T(S._payload),P)}if(ta(S)||Uo(S))return S=Ji(S,b.mode,P,null),S.return=b,S;Fl(b,S)}return null}function v(b,S,P,T){var N=S!==null?S.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return N!==null?null:u(b,S,""+P,T);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Tl:return P.key===N?d(b,S,P,T):null;case Ls:return P.key===N?h(b,S,P,T):null;case Gr:return N=P._init,v(b,S,N(P._payload),T)}if(ta(P)||Uo(P))return N!==null?null:m(b,S,P,T,null);Fl(b,P)}return null}function x(b,S,P,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(P)||null,u(S,b,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Tl:return b=b.get(T.key===null?P:T.key)||null,d(S,b,T,N);case Ls:return b=b.get(T.key===null?P:T.key)||null,h(S,b,T,N);case Gr:var M=T._init;return x(b,S,P,M(T._payload),N)}if(ta(T)||Uo(T))return b=b.get(P)||null,m(S,b,T,N,null);Fl(S,T)}return null}function E(b,S,P,T){for(var N=null,M=null,O=S,z=S=0,K=null;O!==null&&z<P.length;z++){O.index>z?(K=O,O=null):K=O.sibling;var W=v(b,O,P[z],T);if(W===null){O===null&&(O=K);break}e&&O&&W.alternate===null&&t(b,O),S=o(W,S,z),M===null?N=W:M.sibling=W,M=W,O=K}if(z===P.length)return n(b,O),Ve&&Fi(b,z),N;if(O===null){for(;z<P.length;z++)O=g(b,P[z],T),O!==null&&(S=o(O,S,z),M===null?N=O:M.sibling=O,M=O);return Ve&&Fi(b,z),N}for(O=r(b,O);z<P.length;z++)K=x(O,b,z,P[z],T),K!==null&&(e&&K.alternate!==null&&O.delete(K.key===null?z:K.key),S=o(K,S,z),M===null?N=K:M.sibling=K,M=K);return e&&O.forEach(function(J){return t(b,J)}),Ve&&Fi(b,z),N}function w(b,S,P,T){var N=Uo(P);if(typeof N!="function")throw Error(q(150));if(P=N.call(P),P==null)throw Error(q(151));for(var M=N=null,O=S,z=S=0,K=null,W=P.next();O!==null&&!W.done;z++,W=P.next()){O.index>z?(K=O,O=null):K=O.sibling;var J=v(b,O,W.value,T);if(J===null){O===null&&(O=K);break}e&&O&&J.alternate===null&&t(b,O),S=o(J,S,z),M===null?N=J:M.sibling=J,M=J,O=K}if(W.done)return n(b,O),Ve&&Fi(b,z),N;if(O===null){for(;!W.done;z++,W=P.next())W=g(b,W.value,T),W!==null&&(S=o(W,S,z),M===null?N=W:M.sibling=W,M=W);return Ve&&Fi(b,z),N}for(O=r(b,O);!W.done;z++,W=P.next())W=x(O,b,z,W.value,T),W!==null&&(e&&W.alternate!==null&&O.delete(W.key===null?z:W.key),S=o(W,S,z),M===null?N=W:M.sibling=W,M=W);return e&&O.forEach(function(G){return t(b,G)}),Ve&&Fi(b,z),N}function C(b,S,P,T){if(typeof P=="object"&&P!==null&&P.type===Os&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Tl:e:{for(var N=P.key,M=S;M!==null;){if(M.key===N){if(N=P.type,N===Os){if(M.tag===7){n(b,M.sibling),S=s(M,P.props.children),S.return=b,b=S;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gr&&Yg(N)===M.type){n(b,M.sibling),S=s(M,P.props),S.ref=qo(b,M,P),S.return=b,b=S;break e}n(b,M);break}else t(b,M);M=M.sibling}P.type===Os?(S=Ji(P.props.children,b.mode,T,P.key),S.return=b,b=S):(T=mu(P.type,P.key,P.props,null,b.mode,T),T.ref=qo(b,S,P),T.return=b,b=T)}return l(b);case Ls:e:{for(M=P.key;S!==null;){if(S.key===M)if(S.tag===4&&S.stateNode.containerInfo===P.containerInfo&&S.stateNode.implementation===P.implementation){n(b,S.sibling),S=s(S,P.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else t(b,S);S=S.sibling}S=Bd(P,b.mode,T),S.return=b,b=S}return l(b);case Gr:return M=P._init,C(b,S,M(P._payload),T)}if(ta(P))return E(b,S,P,T);if(Uo(P))return w(b,S,P,T);Fl(b,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,S!==null&&S.tag===6?(n(b,S.sibling),S=s(S,P),S.return=b,b=S):(n(b,S),S=$d(P,b.mode,T),S.return=b,b=S),l(b)):n(b,S)}return C}var fo=s0(!0),o0=s0(!1),Iu=Pi(null),Du=null,Bs=null,op=null;function ap(){op=Bs=Du=null}function lp(e){var t=Iu.current;Ze(Iu),e._currentValue=t}function Wh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ks(e,t){Du=e,op=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function En(e){var t=e._currentValue;if(op!==e)if(e={context:e,memoizedValue:t,next:null},Bs===null){if(Du===null)throw Error(q(308));Bs=e,Du.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var Zi=null;function up(e){Zi===null?Zi=[e]:Zi.push(e)}function a0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,up(t)):(n.next=s.next,s.next=n),t.interleaved=n,Or(e,r)}function Or(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qr=!1;function cp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Or(e,n)}return s=r.interleaved,s===null?(t.next=t,up(r)):(t.next=s.next,s.next=t),r.interleaved=t,Or(e,n)}function uu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gf(e,n)}}function Jg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zu(e,t,n,r){var s=e.updateQueue;Qr=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var d=u,h=d.next;d.next=null,l===null?o=h:l.next=h,l=d;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=d))}if(o!==null){var g=s.baseState;l=0,m=h=d=null,u=o;do{var v=u.lane,x=u.eventTime;if((r&v)===v){m!==null&&(m=m.next={eventTime:x,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,w=u;switch(v=t,x=n,w.tag){case 1:if(E=w.payload,typeof E=="function"){g=E.call(x,g,v);break e}g=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,v=typeof E=="function"?E.call(x,g,v):E,v==null)break e;g=Qe({},g,v);break e;case 2:Qr=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[u]:v.push(u))}else x={eventTime:x,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(h=m=x,d=g):m=m.next=x,l|=v;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;v=u,u=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(m===null&&(d=g),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);is|=l,e.lanes=l,e.memoizedState=g}}function Xg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var Ya={},hr=Pi(Ya),ja=Pi(Ya),Na=Pi(Ya);function Vi(e){if(e===Ya)throw Error(q(174));return e}function dp(e,t){switch(Ue(Na,t),Ue(ja,e),Ue(hr,Ya),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sh(t,e)}Ze(hr),Ue(hr,t)}function po(){Ze(hr),Ze(ja),Ze(Na)}function u0(e){Vi(Na.current);var t=Vi(hr.current),n=Sh(t,e.type);t!==n&&(Ue(ja,e),Ue(hr,n))}function hp(e){ja.current===e&&(Ze(hr),Ze(ja))}var Ke=Pi(0);function Fu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rd=[];function fp(){for(var e=0;e<Rd.length;e++)Rd[e]._workInProgressVersionPrimary=null;Rd.length=0}var cu=Dr.ReactCurrentDispatcher,Md=Dr.ReactCurrentBatchConfig,rs=0,Ge=null,dt=null,gt=null,$u=!1,ca=!1,Aa=0,hP=0;function Ct(){throw Error(q(321))}function pp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Un(e[n],t[n]))return!1;return!0}function mp(e,t,n,r,s,o){if(rs=o,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cu.current=e===null||e.memoizedState===null?gP:vP,e=n(r,s),ca){o=0;do{if(ca=!1,Aa=0,25<=o)throw Error(q(301));o+=1,gt=dt=null,t.updateQueue=null,cu.current=yP,e=n(r,s)}while(ca)}if(cu.current=Bu,t=dt!==null&&dt.next!==null,rs=0,gt=dt=Ge=null,$u=!1,t)throw Error(q(300));return e}function gp(){var e=Aa!==0;return Aa=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ge.memoizedState=gt=e:gt=gt.next=e,gt}function Cn(){if(dt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=gt===null?Ge.memoizedState:gt.next;if(t!==null)gt=t,dt=e;else{if(e===null)throw Error(q(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},gt===null?Ge.memoizedState=gt=e:gt=gt.next=e}return gt}function La(e,t){return typeof t=="function"?t(e):t}function Id(e){var t=Cn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=dt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var u=l=null,d=null,h=o;do{var m=h.lane;if((rs&m)===m)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var g={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(u=d=g,l=r):d=d.next=g,Ge.lanes|=m,is|=m}h=h.next}while(h!==null&&h!==o);d===null?l=r:d.next=u,Un(r,t.memoizedState)||(Gt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ge.lanes|=o,is|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dd(e){var t=Cn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);Un(o,t.memoizedState)||(Gt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function c0(){}function d0(e,t){var n=Ge,r=Cn(),s=t(),o=!Un(r.memoizedState,s);if(o&&(r.memoizedState=s,Gt=!0),r=r.queue,vp(p0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Oa(9,f0.bind(null,n,r,s,t),void 0,null),yt===null)throw Error(q(349));rs&30||h0(n,t,s)}return s}function h0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function f0(e,t,n,r){t.value=n,t.getSnapshot=r,m0(t)&&g0(e)}function p0(e,t,n){return n(function(){m0(t)&&g0(e)})}function m0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Un(e,n)}catch{return!0}}function g0(e){var t=Or(e,1);t!==null&&Bn(t,e,1,-1)}function ev(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},t.queue=e,e=e.dispatch=mP.bind(null,Ge,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function v0(){return Cn().memoizedState}function du(e,t,n,r){var s=rr();Ge.flags|=e,s.memoizedState=Oa(1|t,n,void 0,r===void 0?null:r)}function uc(e,t,n,r){var s=Cn();r=r===void 0?null:r;var o=void 0;if(dt!==null){var l=dt.memoizedState;if(o=l.destroy,r!==null&&pp(r,l.deps)){s.memoizedState=Oa(t,n,o,r);return}}Ge.flags|=e,s.memoizedState=Oa(1|t,n,o,r)}function tv(e,t){return du(8390656,8,e,t)}function vp(e,t){return uc(2048,8,e,t)}function y0(e,t){return uc(4,2,e,t)}function _0(e,t){return uc(4,4,e,t)}function w0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function x0(e,t,n){return n=n!=null?n.concat([e]):null,uc(4,4,w0.bind(null,t,e),n)}function yp(){}function b0(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function S0(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function k0(e,t,n){return rs&21?(Un(n,t)||(n=j_(),Ge.lanes|=n,is|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=n)}function fP(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=Md.transition;Md.transition={};try{e(!1),t()}finally{De=n,Md.transition=r}}function P0(){return Cn().memoizedState}function pP(e,t,n){var r=mi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E0(e))C0(t,n);else if(n=a0(e,t,n,r),n!==null){var s=Bt();Bn(n,e,r,s),T0(n,t,r)}}function mP(e,t,n){var r=mi(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E0(e))C0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,u=o(l,n);if(s.hasEagerState=!0,s.eagerState=u,Un(u,l)){var d=t.interleaved;d===null?(s.next=s,up(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}n=a0(e,t,s,r),n!==null&&(s=Bt(),Bn(n,e,r,s),T0(n,t,r))}}function E0(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function C0(e,t){ca=$u=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function T0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gf(e,n)}}var Bu={readContext:En,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},gP={readContext:En,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:tv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,du(4194308,4,w0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return du(4194308,4,e,t)},useInsertionEffect:function(e,t){return du(4,2,e,t)},useMemo:function(e,t){var n=rr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pP.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:ev,useDebugValue:yp,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=ev(!1),t=e[0];return e=fP.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,s=rr();if(Ve){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),yt===null)throw Error(q(349));rs&30||h0(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,tv(p0.bind(null,r,o,e),[e]),r.flags|=2048,Oa(9,f0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=rr(),t=yt.identifierPrefix;if(Ve){var n=Cr,r=Er;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Aa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vP={readContext:En,useCallback:b0,useContext:En,useEffect:vp,useImperativeHandle:x0,useInsertionEffect:y0,useLayoutEffect:_0,useMemo:S0,useReducer:Id,useRef:v0,useState:function(){return Id(La)},useDebugValue:yp,useDeferredValue:function(e){var t=Cn();return k0(t,dt.memoizedState,e)},useTransition:function(){var e=Id(La)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:c0,useSyncExternalStore:d0,useId:P0,unstable_isNewReconciler:!1},yP={readContext:En,useCallback:b0,useContext:En,useEffect:vp,useImperativeHandle:x0,useInsertionEffect:y0,useLayoutEffect:_0,useMemo:S0,useReducer:Dd,useRef:v0,useState:function(){return Dd(La)},useDebugValue:yp,useDeferredValue:function(e){var t=Cn();return dt===null?t.memoizedState=e:k0(t,dt.memoizedState,e)},useTransition:function(){var e=Dd(La)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:c0,useSyncExternalStore:d0,useId:P0,unstable_isNewReconciler:!1};function On(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cc={isMounted:function(e){return(e=e._reactInternals)?ds(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bt(),s=mi(e),o=Tr(r,s);o.payload=t,n!=null&&(o.callback=n),t=fi(e,o,s),t!==null&&(Bn(t,e,s,r),uu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bt(),s=mi(e),o=Tr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=fi(e,o,s),t!==null&&(Bn(t,e,s,r),uu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bt(),r=mi(e),s=Tr(n,r);s.tag=2,t!=null&&(s.callback=t),t=fi(e,s,r),t!==null&&(Bn(t,e,r,n),uu(t,e,r))}};function nv(e,t,n,r,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Pa(n,r)||!Pa(s,o):!0}function j0(e,t,n){var r=!1,s=yi,o=t.contextType;return typeof o=="object"&&o!==null?o=En(o):(s=Yt(t)?ts:At.current,r=t.contextTypes,o=(r=r!=null)?co(e,s):yi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function rv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cc.enqueueReplaceState(t,t.state,null)}function Zh(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},cp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=En(o):(o=Yt(t)?ts:At.current,s.context=co(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Hh(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cc.enqueueReplaceState(s,s.state,null),zu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,t){try{var n="",r=t;do n+=VS(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function zd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _P=typeof WeakMap=="function"?WeakMap:Map;function N0(e,t,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,nf=r),Vh(e,t)},n}function A0(e,t,n){n=Tr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Vh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Vh(e,t),typeof r!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function iv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _P;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=OP.bind(null,e,t,n),t.then(e,e))}function sv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ov(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tr(-1,1),t.tag=2,fi(n,t,1))),n.lanes|=1),e)}var wP=Dr.ReactCurrentOwner,Gt=!1;function Ft(e,t,n,r){t.child=e===null?o0(t,null,n,r):fo(t,e.child,n,r)}function av(e,t,n,r,s){n=n.render;var o=t.ref;return Ks(t,s),r=mp(e,t,n,r,o,s),n=gp(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rr(e,t,s)):(Ve&&n&&rp(t),t.flags|=1,Ft(e,t,r,s),t.child)}function lv(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ep(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,L0(e,t,o,r,s)):(e=mu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Pa,n(l,r)&&e.ref===t.ref)return Rr(e,t,s)}return t.flags|=1,e=gi(o,r),e.ref=t.ref,e.return=t,t.child=e}function L0(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Pa(o,r)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,Rr(e,t,s)}return qh(e,t,n,r,s)}function O0(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Ws,an),an|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(Ws,an),an|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(Ws,an),an|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ue(Ws,an),an|=r;return Ft(e,t,s,n),t.child}function R0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qh(e,t,n,r,s){var o=Yt(n)?ts:At.current;return o=co(t,o),Ks(t,s),n=mp(e,t,n,r,o,s),r=gp(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rr(e,t,s)):(Ve&&r&&rp(t),t.flags|=1,Ft(e,t,n,s),t.child)}function uv(e,t,n,r,s){if(Yt(n)){var o=!0;Ou(t)}else o=!1;if(Ks(t,s),t.stateNode===null)hu(e,t),j0(t,n,r),Zh(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=En(h):(h=Yt(n)?ts:At.current,h=co(t,h));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==h)&&rv(t,l,r,h),Qr=!1;var v=t.memoizedState;l.state=v,zu(t,r,l,s),d=t.memoizedState,u!==r||v!==d||Qt.current||Qr?(typeof m=="function"&&(Hh(t,n,m,r),d=t.memoizedState),(u=Qr||nv(t,n,u,r,v,d,h))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=h,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,l0(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:On(t.type,u),l.props=h,g=t.pendingProps,v=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=En(d):(d=Yt(n)?ts:At.current,d=co(t,d));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==g||v!==d)&&rv(t,l,r,d),Qr=!1,v=t.memoizedState,l.state=v,zu(t,r,l,s);var E=t.memoizedState;u!==g||v!==E||Qt.current||Qr?(typeof x=="function"&&(Hh(t,n,x,r),E=t.memoizedState),(h=Qr||nv(t,n,h,r,v,E,d)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),l.props=r,l.state=E,l.context=d,r=h):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Kh(e,t,n,r,o,s)}function Kh(e,t,n,r,s,o){R0(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Kg(t,n,!1),Rr(e,t,o);r=t.stateNode,wP.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=fo(t,e.child,null,o),t.child=fo(t,null,u,o)):Ft(e,t,u,o),t.memoizedState=r.state,s&&Kg(t,n,!0),t.child}function M0(e){var t=e.stateNode;t.pendingContext?qg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qg(e,t.context,!1),dp(e,t.containerInfo)}function cv(e,t,n,r,s){return ho(),sp(s),t.flags|=256,Ft(e,t,n,r),t.child}var Gh={dehydrated:null,treeContext:null,retryLane:0};function Qh(e){return{baseLanes:e,cachePool:null,transitions:null}}function I0(e,t,n){var r=t.pendingProps,s=Ke.current,o=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ue(Ke,s&1),e===null)return Uh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=fc(l,r,0,null),e=Ji(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Qh(n),t.memoizedState=Gh,e):_p(t,l));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return xP(e,t,l,r,u,s,n);if(o){o=r.fallback,l=t.mode,s=e.child,u=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=gi(s,d),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=gi(u,o):(o=Ji(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Qh(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Gh,r}return o=e.child,e=o.sibling,r=gi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _p(e,t){return t=fc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $l(e,t,n,r){return r!==null&&sp(r),fo(t,e.child,null,n),e=_p(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xP(e,t,n,r,s,o,l){if(n)return t.flags&256?(t.flags&=-257,r=zd(Error(q(422))),$l(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=fc({mode:"visible",children:r.children},s,0,null),o=Ji(o,s,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&fo(t,e.child,null,l),t.child.memoizedState=Qh(l),t.memoizedState=Gh,o);if(!(t.mode&1))return $l(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(q(419)),r=zd(o,r,void 0),$l(e,t,l,r)}if(u=(l&e.childLanes)!==0,Gt||u){if(r=yt,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Or(e,s),Bn(r,e,s,-1))}return Pp(),r=zd(Error(q(421))),$l(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=RP.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,un=hi(s.nextSibling),cn=t,Ve=!0,zn=null,e!==null&&(bn[Sn++]=Er,bn[Sn++]=Cr,bn[Sn++]=ns,Er=e.id,Cr=e.overflow,ns=t),t=_p(t,r.children),t.flags|=4096,t)}function dv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wh(e.return,t,n)}function Fd(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function D0(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ft(e,t,r.children,n),r=Ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dv(e,n,t);else if(e.tag===19)dv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(Ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Fu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Fd(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Fd(t,!0,n,null,o);break;case"together":Fd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=gi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bP(e,t,n){switch(t.tag){case 3:M0(t),ho();break;case 5:u0(t);break;case 1:Yt(t.type)&&Ou(t);break;case 4:dp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ue(Iu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ke,Ke.current&1),t.flags|=128,null):n&t.child.childLanes?I0(e,t,n):(Ue(Ke,Ke.current&1),e=Rr(e,t,n),e!==null?e.sibling:null);Ue(Ke,Ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return D0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(Ke,Ke.current),r)break;return null;case 22:case 23:return t.lanes=0,O0(e,t,n)}return Rr(e,t,n)}var z0,Yh,F0,$0;z0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yh=function(){};F0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Vi(hr.current);var o=null;switch(n){case"input":s=_h(e,s),r=_h(e,r),o=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":s=bh(e,s),r=bh(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Au)}kh(n,r);var l;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ya.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var d=r[h];if(u=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==u&&(d!=null||u!=null))if(h==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(o=o||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ya.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&He("scroll",e),o||u===d||(o=[])):(o=o||[]).push(h,d))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};$0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ko(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SP(e,t,n){var r=t.pendingProps;switch(ip(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Yt(t.type)&&Lu(),Tt(t),null;case 3:return r=t.stateNode,po(),Ze(Qt),Ze(At),fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zn!==null&&(of(zn),zn=null))),Yh(e,t),Tt(t),null;case 5:hp(t);var s=Vi(Na.current);if(n=t.type,e!==null&&t.stateNode!=null)F0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Tt(t),null}if(e=Vi(hr.current),zl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[lr]=t,r[Ta]=o,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<ra.length;s++)He(ra[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":wg(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":bg(r,o),He("invalid",r)}kh(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Dl(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Dl(r.textContent,u,e),s=["children",""+u]):ya.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&He("scroll",r)}switch(n){case"input":jl(r),xg(r,o,!0);break;case"textarea":jl(r),Sg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Au)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=p_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[lr]=t,e[Ta]=r,z0(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ph(n,r),n){case"dialog":He("cancel",e),He("close",e),s=r;break;case"iframe":case"object":case"embed":He("load",e),s=r;break;case"video":case"audio":for(s=0;s<ra.length;s++)He(ra[s],e);s=r;break;case"source":He("error",e),s=r;break;case"img":case"image":case"link":He("error",e),He("load",e),s=r;break;case"details":He("toggle",e),s=r;break;case"input":wg(e,r),s=_h(e,r),He("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),He("invalid",e);break;case"textarea":bg(e,r),s=bh(e,r),He("invalid",e);break;default:s=r}kh(n,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var d=u[o];o==="style"?v_(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&m_(e,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&_a(e,d):typeof d=="number"&&_a(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ya.hasOwnProperty(o)?d!=null&&o==="onScroll"&&He("scroll",e):d!=null&&Wf(e,o,d,l))}switch(n){case"input":jl(e),xg(e,r,!1);break;case"textarea":jl(e),Sg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Hs(e,!!r.multiple,o,!1):r.defaultValue!=null&&Hs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)$0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Vi(Na.current),Vi(hr.current),zl(t)){if(r=t.stateNode,n=t.memoizedProps,r[lr]=t,(o=r.nodeValue!==n)&&(e=cn,e!==null))switch(e.tag){case 3:Dl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=t,t.stateNode=r}return Tt(t),null;case 13:if(Ze(Ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&un!==null&&t.mode&1&&!(t.flags&128))i0(),ho(),t.flags|=98560,o=!1;else if(o=zl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[lr]=t}else ho(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),o=!1}else zn!==null&&(of(zn),zn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?ht===0&&(ht=3):Pp())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return po(),Yh(e,t),e===null&&Ea(t.stateNode.containerInfo),Tt(t),null;case 10:return lp(t.type._context),Tt(t),null;case 17:return Yt(t.type)&&Lu(),Tt(t),null;case 19:if(Ze(Ke),o=t.memoizedState,o===null)return Tt(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Ko(o,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Fu(e),l!==null){for(t.flags|=128,Ko(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Ke,Ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&nt()>go&&(t.flags|=128,r=!0,Ko(o,!1),t.lanes=4194304)}else{if(!r)if(e=Fu(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Ve)return Tt(t),null}else 2*nt()-o.renderingStartTime>go&&n!==1073741824&&(t.flags|=128,r=!0,Ko(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nt(),t.sibling=null,n=Ke.current,Ue(Ke,r?n&1|2:n&1),t):(Tt(t),null);case 22:case 23:return kp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?an&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function kP(e,t){switch(ip(t),t.tag){case 1:return Yt(t.type)&&Lu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return po(),Ze(Qt),Ze(At),fp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hp(t),null;case 13:if(Ze(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));ho()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(Ke),null;case 4:return po(),null;case 10:return lp(t.type._context),null;case 22:case 23:return kp(),null;case 24:return null;default:return null}}var Bl=!1,Nt=!1,PP=typeof WeakSet=="function"?WeakSet:Set,re=null;function Us(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(e,t,r)}else n.current=null}function Jh(e,t,n){try{n()}catch(r){Xe(e,t,r)}}var hv=!1;function EP(e,t){if(Mh=Tu,e=Z_(),np(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,h=0,m=0,g=e,v=null;t:for(;;){for(var x;g!==n||s!==0&&g.nodeType!==3||(u=l+s),g!==o||r!==0&&g.nodeType!==3||(d=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(x=g.firstChild)!==null;)v=g,g=x;for(;;){if(g===e)break t;if(v===n&&++h===s&&(u=l),v===o&&++m===r&&(d=l),(x=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=x}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ih={focusedElem:e,selectionRange:n},Tu=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,C=E.memoizedState,b=t.stateNode,S=b.getSnapshotBeforeUpdate(t.elementType===t.type?w:On(t.type,w),C);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(T){Xe(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return E=hv,hv=!1,E}function da(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Jh(t,n,o)}s=s.next}while(s!==r)}}function dc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function B0(e){var t=e.alternate;t!==null&&(e.alternate=null,B0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[Ta],delete t[Fh],delete t[lP],delete t[uP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function U0(e){return e.tag===5||e.tag===3||e.tag===4}function fv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ef(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Au));else if(r!==4&&(e=e.child,e!==null))for(ef(e,t,n),e=e.sibling;e!==null;)ef(e,t,n),e=e.sibling}function tf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tf(e,t,n),e=e.sibling;e!==null;)tf(e,t,n),e=e.sibling}var bt=null,In=!1;function Ur(e,t,n){for(n=n.child;n!==null;)W0(e,t,n),n=n.sibling}function W0(e,t,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(rc,n)}catch{}switch(n.tag){case 5:Nt||Us(n,t);case 6:var r=bt,s=In;bt=null,Ur(e,t,n),bt=r,In=s,bt!==null&&(In?(e=bt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(In?(e=bt,n=n.stateNode,e.nodeType===8?Ld(e.parentNode,n):e.nodeType===1&&Ld(e,n),Sa(e)):Ld(bt,n.stateNode));break;case 4:r=bt,s=In,bt=n.stateNode.containerInfo,In=!0,Ur(e,t,n),bt=r,In=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Jh(n,t,l),s=s.next}while(s!==r)}Ur(e,t,n);break;case 1:if(!Nt&&(Us(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Xe(n,t,u)}Ur(e,t,n);break;case 21:Ur(e,t,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Ur(e,t,n),Nt=r):Ur(e,t,n);break;default:Ur(e,t,n)}}function pv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new PP),t.forEach(function(r){var s=MP.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:bt=u.stateNode,In=!1;break e;case 3:bt=u.stateNode.containerInfo,In=!0;break e;case 4:bt=u.stateNode.containerInfo,In=!0;break e}u=u.return}if(bt===null)throw Error(q(160));W0(o,l,s),bt=null,In=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){Xe(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)H0(t,e),t=t.sibling}function H0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ln(t,e),tr(e),r&4){try{da(3,e,e.return),dc(3,e)}catch(w){Xe(e,e.return,w)}try{da(5,e,e.return)}catch(w){Xe(e,e.return,w)}}break;case 1:Ln(t,e),tr(e),r&512&&n!==null&&Us(n,n.return);break;case 5:if(Ln(t,e),tr(e),r&512&&n!==null&&Us(n,n.return),e.flags&32){var s=e.stateNode;try{_a(s,"")}catch(w){Xe(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&h_(s,o),Ph(u,l);var h=Ph(u,o);for(l=0;l<d.length;l+=2){var m=d[l],g=d[l+1];m==="style"?v_(s,g):m==="dangerouslySetInnerHTML"?m_(s,g):m==="children"?_a(s,g):Wf(s,m,g,h)}switch(u){case"input":wh(s,o);break;case"textarea":f_(s,o);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Hs(s,!!o.multiple,x,!1):v!==!!o.multiple&&(o.defaultValue!=null?Hs(s,!!o.multiple,o.defaultValue,!0):Hs(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ta]=o}catch(w){Xe(e,e.return,w)}}break;case 6:if(Ln(t,e),tr(e),r&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(w){Xe(e,e.return,w)}}break;case 3:if(Ln(t,e),tr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(t.containerInfo)}catch(w){Xe(e,e.return,w)}break;case 4:Ln(t,e),tr(e);break;case 13:Ln(t,e),tr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(bp=nt())),r&4&&pv(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Nt=(h=Nt)||m,Ln(t,e),Nt=h):Ln(t,e),tr(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!m&&e.mode&1)for(re=e,m=e.child;m!==null;){for(g=re=m;re!==null;){switch(v=re,x=v.child,v.tag){case 0:case 11:case 14:case 15:da(4,v,v.return);break;case 1:Us(v,v.return);var E=v.stateNode;if(typeof E.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(w){Xe(r,n,w)}}break;case 5:Us(v,v.return);break;case 22:if(v.memoizedState!==null){gv(g);continue}}x!==null?(x.return=v,re=x):gv(g)}m=m.sibling}e:for(m=null,g=e;;){if(g.tag===5){if(m===null){m=g;try{s=g.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=g.stateNode,d=g.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=g_("display",l))}catch(w){Xe(e,e.return,w)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(w){Xe(e,e.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ln(t,e),tr(e),r&4&&pv(e);break;case 21:break;default:Ln(t,e),tr(e)}}function tr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(U0(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_a(s,""),r.flags&=-33);var o=fv(e);tf(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,u=fv(e);ef(e,u,l);break;default:throw Error(q(161))}}catch(d){Xe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CP(e,t,n){re=e,Z0(e)}function Z0(e,t,n){for(var r=(e.mode&1)!==0;re!==null;){var s=re,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Bl;if(!l){var u=s.alternate,d=u!==null&&u.memoizedState!==null||Nt;u=Bl;var h=Nt;if(Bl=l,(Nt=d)&&!h)for(re=s;re!==null;)l=re,d=l.child,l.tag===22&&l.memoizedState!==null?vv(s):d!==null?(d.return=l,re=d):vv(s);for(;o!==null;)re=o,Z0(o),o=o.sibling;re=s,Bl=u,Nt=h}mv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,re=o):mv(e)}}function mv(e){for(;re!==null;){var t=re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||dc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:On(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Xg(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xg(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&Sa(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Nt||t.flags&512&&Xh(t)}catch(v){Xe(t,t.return,v)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function gv(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function vv(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dc(4,t)}catch(d){Xe(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(d){Xe(t,s,d)}}var o=t.return;try{Xh(t)}catch(d){Xe(t,o,d)}break;case 5:var l=t.return;try{Xh(t)}catch(d){Xe(t,l,d)}}}catch(d){Xe(t,t.return,d)}if(t===e){re=null;break}var u=t.sibling;if(u!==null){u.return=t.return,re=u;break}re=t.return}}var TP=Math.ceil,Uu=Dr.ReactCurrentDispatcher,wp=Dr.ReactCurrentOwner,Pn=Dr.ReactCurrentBatchConfig,je=0,yt=null,lt=null,St=0,an=0,Ws=Pi(0),ht=0,Ra=null,is=0,hc=0,xp=0,ha=null,qt=null,bp=0,go=1/0,Sr=null,Wu=!1,nf=null,pi=null,Ul=!1,ai=null,Hu=0,fa=0,rf=null,fu=-1,pu=0;function Bt(){return je&6?nt():fu!==-1?fu:fu=nt()}function mi(e){return e.mode&1?je&2&&St!==0?St&-St:dP.transition!==null?(pu===0&&(pu=j_()),pu):(e=De,e!==0||(e=window.event,e=e===void 0?16:I_(e.type)),e):1}function Bn(e,t,n,r){if(50<fa)throw fa=0,rf=null,Error(q(185));Ka(e,n,r),(!(je&2)||e!==yt)&&(e===yt&&(!(je&2)&&(hc|=n),ht===4&&Xr(e,St)),Jt(e,r),n===1&&je===0&&!(t.mode&1)&&(go=nt()+500,lc&&Ei()))}function Jt(e,t){var n=e.callbackNode;dk(e,t);var r=Cu(e,e===yt?St:0);if(r===0)n!==null&&Eg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eg(n),t===1)e.tag===0?cP(yv.bind(null,e)):t0(yv.bind(null,e)),oP(function(){!(je&6)&&Ei()}),n=null;else{switch(N_(r)){case 1:n=Kf;break;case 4:n=C_;break;case 16:n=Eu;break;case 536870912:n=T_;break;default:n=Eu}n=X0(n,V0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function V0(e,t){if(fu=-1,pu=0,je&6)throw Error(q(327));var n=e.callbackNode;if(Gs()&&e.callbackNode!==n)return null;var r=Cu(e,e===yt?St:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zu(e,r);else{t=r;var s=je;je|=2;var o=K0();(yt!==e||St!==t)&&(Sr=null,go=nt()+500,Yi(e,t));do try{AP();break}catch(u){q0(e,u)}while(!0);ap(),Uu.current=o,je=s,lt!==null?t=0:(yt=null,St=0,t=ht)}if(t!==0){if(t===2&&(s=Nh(e),s!==0&&(r=s,t=sf(e,s))),t===1)throw n=Ra,Yi(e,0),Xr(e,r),Jt(e,nt()),n;if(t===6)Xr(e,r);else{if(s=e.current.alternate,!(r&30)&&!jP(s)&&(t=Zu(e,r),t===2&&(o=Nh(e),o!==0&&(r=o,t=sf(e,o))),t===1))throw n=Ra,Yi(e,0),Xr(e,r),Jt(e,nt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:$i(e,qt,Sr);break;case 3:if(Xr(e,r),(r&130023424)===r&&(t=bp+500-nt(),10<t)){if(Cu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Bt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zh($i.bind(null,e,qt,Sr),t);break}$i(e,qt,Sr);break;case 4:if(Xr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-$n(r);o=1<<l,l=t[l],l>s&&(s=l),r&=~o}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TP(r/1960))-r,10<r){e.timeoutHandle=zh($i.bind(null,e,qt,Sr),r);break}$i(e,qt,Sr);break;case 5:$i(e,qt,Sr);break;default:throw Error(q(329))}}}return Jt(e,nt()),e.callbackNode===n?V0.bind(null,e):null}function sf(e,t){var n=ha;return e.current.memoizedState.isDehydrated&&(Yi(e,t).flags|=256),e=Zu(e,t),e!==2&&(t=qt,qt=n,t!==null&&of(t)),e}function of(e){qt===null?qt=e:qt.push.apply(qt,e)}function jP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Un(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xr(e,t){for(t&=~xp,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$n(t),r=1<<n;e[n]=-1,t&=~r}}function yv(e){if(je&6)throw Error(q(327));Gs();var t=Cu(e,0);if(!(t&1))return Jt(e,nt()),null;var n=Zu(e,t);if(e.tag!==0&&n===2){var r=Nh(e);r!==0&&(t=r,n=sf(e,r))}if(n===1)throw n=Ra,Yi(e,0),Xr(e,t),Jt(e,nt()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$i(e,qt,Sr),Jt(e,nt()),null}function Sp(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(go=nt()+500,lc&&Ei())}}function ss(e){ai!==null&&ai.tag===0&&!(je&6)&&Gs();var t=je;je|=1;var n=Pn.transition,r=De;try{if(Pn.transition=null,De=1,e)return e()}finally{De=r,Pn.transition=n,je=t,!(je&6)&&Ei()}}function kp(){an=Ws.current,Ze(Ws)}function Yi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sP(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lu();break;case 3:po(),Ze(Qt),Ze(At),fp();break;case 5:hp(r);break;case 4:po();break;case 13:Ze(Ke);break;case 19:Ze(Ke);break;case 10:lp(r.type._context);break;case 22:case 23:kp()}n=n.return}if(yt=e,lt=e=gi(e.current,null),St=an=t,ht=0,Ra=null,xp=hc=is=0,qt=ha=null,Zi!==null){for(t=0;t<Zi.length;t++)if(n=Zi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}Zi=null}return e}function q0(e,t){do{var n=lt;try{if(ap(),cu.current=Bu,$u){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$u=!1}if(rs=0,gt=dt=Ge=null,ca=!1,Aa=0,wp.current=null,n===null||n.return===null){ht=1,Ra=t,lt=null;break}e:{var o=e,l=n.return,u=n,d=t;if(t=St,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,m=u,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=sv(l);if(x!==null){x.flags&=-257,ov(x,l,u,o,t),x.mode&1&&iv(o,h,t),t=x,d=h;var E=t.updateQueue;if(E===null){var w=new Set;w.add(d),t.updateQueue=w}else E.add(d);break e}else{if(!(t&1)){iv(o,h,t),Pp();break e}d=Error(q(426))}}else if(Ve&&u.mode&1){var C=sv(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),ov(C,l,u,o,t),sp(mo(d,u));break e}}o=d=mo(d,u),ht!==4&&(ht=2),ha===null?ha=[o]:ha.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=N0(o,d,t);Jg(o,b);break e;case 1:u=d;var S=o.type,P=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(pi===null||!pi.has(P)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=A0(o,u,t);Jg(o,T);break e}}o=o.return}while(o!==null)}Q0(n)}catch(N){t=N,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function K0(){var e=Uu.current;return Uu.current=Bu,e===null?Bu:e}function Pp(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||!(is&268435455)&&!(hc&268435455)||Xr(yt,St)}function Zu(e,t){var n=je;je|=2;var r=K0();(yt!==e||St!==t)&&(Sr=null,Yi(e,t));do try{NP();break}catch(s){q0(e,s)}while(!0);if(ap(),je=n,Uu.current=r,lt!==null)throw Error(q(261));return yt=null,St=0,ht}function NP(){for(;lt!==null;)G0(lt)}function AP(){for(;lt!==null&&!nk();)G0(lt)}function G0(e){var t=J0(e.alternate,e,an);e.memoizedProps=e.pendingProps,t===null?Q0(e):lt=t,wp.current=null}function Q0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kP(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(n=SP(n,t,an),n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ht===0&&(ht=5)}function $i(e,t,n){var r=De,s=Pn.transition;try{Pn.transition=null,De=1,LP(e,t,n,r)}finally{Pn.transition=s,De=r}return null}function LP(e,t,n,r){do Gs();while(ai!==null);if(je&6)throw Error(q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(hk(e,o),e===yt&&(lt=yt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ul||(Ul=!0,X0(Eu,function(){return Gs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Pn.transition,Pn.transition=null;var l=De;De=1;var u=je;je|=4,wp.current=null,EP(e,n),H0(n,e),Jk(Ih),Tu=!!Mh,Ih=Mh=null,e.current=n,CP(n),rk(),je=u,De=l,Pn.transition=o}else e.current=n;if(Ul&&(Ul=!1,ai=e,Hu=s),o=e.pendingLanes,o===0&&(pi=null),ok(n.stateNode),Jt(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wu)throw Wu=!1,e=nf,nf=null,e;return Hu&1&&e.tag!==0&&Gs(),o=e.pendingLanes,o&1?e===rf?fa++:(fa=0,rf=e):fa=0,Ei(),null}function Gs(){if(ai!==null){var e=N_(Hu),t=Pn.transition,n=De;try{if(Pn.transition=null,De=16>e?16:e,ai===null)var r=!1;else{if(e=ai,ai=null,Hu=0,je&6)throw Error(q(331));var s=je;for(je|=4,re=e.current;re!==null;){var o=re,l=o.child;if(re.flags&16){var u=o.deletions;if(u!==null){for(var d=0;d<u.length;d++){var h=u[d];for(re=h;re!==null;){var m=re;switch(m.tag){case 0:case 11:case 15:da(8,m,o)}var g=m.child;if(g!==null)g.return=m,re=g;else for(;re!==null;){m=re;var v=m.sibling,x=m.return;if(B0(m),m===h){re=null;break}if(v!==null){v.return=x,re=v;break}re=x}}}var E=o.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}re=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,re=l;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:da(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,re=b;break e}re=o.return}}var S=e.current;for(re=S;re!==null;){l=re;var P=l.child;if(l.subtreeFlags&2064&&P!==null)P.return=l,re=P;else e:for(l=S;re!==null;){if(u=re,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:dc(9,u)}}catch(N){Xe(u,u.return,N)}if(u===l){re=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,re=T;break e}re=u.return}}if(je=s,Ei(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(rc,e)}catch{}r=!0}return r}finally{De=n,Pn.transition=t}}return!1}function _v(e,t,n){t=mo(n,t),t=N0(e,t,1),e=fi(e,t,1),t=Bt(),e!==null&&(Ka(e,1,t),Jt(e,t))}function Xe(e,t,n){if(e.tag===3)_v(e,e,n);else for(;t!==null;){if(t.tag===3){_v(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pi===null||!pi.has(r))){e=mo(n,e),e=A0(t,e,1),t=fi(t,e,1),e=Bt(),t!==null&&(Ka(t,1,e),Jt(t,e));break}}t=t.return}}function OP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bt(),e.pingedLanes|=e.suspendedLanes&n,yt===e&&(St&n)===n&&(ht===4||ht===3&&(St&130023424)===St&&500>nt()-bp?Yi(e,0):xp|=n),Jt(e,t)}function Y0(e,t){t===0&&(e.mode&1?(t=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):t=1);var n=Bt();e=Or(e,t),e!==null&&(Ka(e,t,n),Jt(e,n))}function RP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Y0(e,n)}function MP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),Y0(e,n)}var J0;J0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qt.current)Gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Gt=!1,bP(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,Ve&&t.flags&1048576&&n0(t,Mu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hu(e,t),e=t.pendingProps;var s=co(t,At.current);Ks(t,n),s=mp(null,t,r,e,s,n);var o=gp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(r)?(o=!0,Ou(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cp(t),s.updater=cc,t.stateNode=s,s._reactInternals=t,Zh(t,r,e,n),t=Kh(null,t,r,!0,o,n)):(t.tag=0,Ve&&o&&rp(t),Ft(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=DP(r),e=On(r,e),s){case 0:t=qh(null,t,r,e,n);break e;case 1:t=uv(null,t,r,e,n);break e;case 11:t=av(null,t,r,e,n);break e;case 14:t=lv(null,t,r,On(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:On(r,s),qh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:On(r,s),uv(e,t,r,s,n);case 3:e:{if(M0(t),e===null)throw Error(q(387));r=t.pendingProps,o=t.memoizedState,s=o.element,l0(e,t),zu(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=mo(Error(q(423)),t),t=cv(e,t,r,n,s);break e}else if(r!==s){s=mo(Error(q(424)),t),t=cv(e,t,r,n,s);break e}else for(un=hi(t.stateNode.containerInfo.firstChild),cn=t,Ve=!0,zn=null,n=o0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ho(),r===s){t=Rr(e,t,n);break e}Ft(e,t,r,n)}t=t.child}return t;case 5:return u0(t),e===null&&Uh(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,Dh(r,s)?l=null:o!==null&&Dh(r,o)&&(t.flags|=32),R0(e,t),Ft(e,t,l,n),t.child;case 6:return e===null&&Uh(t),null;case 13:return I0(e,t,n);case 4:return dp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fo(t,null,r,n):Ft(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:On(r,s),av(e,t,r,s,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,Ue(Iu,r._currentValue),r._currentValue=l,o!==null)if(Un(o.value,l)){if(o.children===s.children&&!Qt.current){t=Rr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=Tr(-1,n&-n),d.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?d.next=d:(d.next=m.next,m.next=d),h.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Wh(o.return,n,t),u.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(q(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Wh(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ft(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ks(t,n),s=En(s),r=r(s),t.flags|=1,Ft(e,t,r,n),t.child;case 14:return r=t.type,s=On(r,t.pendingProps),s=On(r.type,s),lv(e,t,r,s,n);case 15:return L0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:On(r,s),hu(e,t),t.tag=1,Yt(r)?(e=!0,Ou(t)):e=!1,Ks(t,n),j0(t,r,s),Zh(t,r,s,n),Kh(null,t,r,!0,e,n);case 19:return D0(e,t,n);case 22:return O0(e,t,n)}throw Error(q(156,t.tag))};function X0(e,t){return E_(e,t)}function IP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,n,r){return new IP(e,t,n,r)}function Ep(e){return e=e.prototype,!(!e||!e.isReactComponent)}function DP(e){if(typeof e=="function")return Ep(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zf)return 11;if(e===Vf)return 14}return 2}function gi(e,t){var n=e.alternate;return n===null?(n=kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function mu(e,t,n,r,s,o){var l=2;if(r=e,typeof e=="function")Ep(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Os:return Ji(n.children,s,o,t);case Hf:l=8,s|=8;break;case mh:return e=kn(12,n,t,s|2),e.elementType=mh,e.lanes=o,e;case gh:return e=kn(13,n,t,s),e.elementType=gh,e.lanes=o,e;case vh:return e=kn(19,n,t,s),e.elementType=vh,e.lanes=o,e;case u_:return fc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case a_:l=10;break e;case l_:l=9;break e;case Zf:l=11;break e;case Vf:l=14;break e;case Gr:l=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=kn(l,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Ji(e,t,n,r){return e=kn(7,e,r,t),e.lanes=n,e}function fc(e,t,n,r){return e=kn(22,e,r,t),e.elementType=u_,e.lanes=n,e.stateNode={isHidden:!1},e}function $d(e,t,n){return e=kn(6,e,null,t),e.lanes=n,e}function Bd(e,t,n){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zP(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xd(0),this.expirationTimes=xd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cp(e,t,n,r,s,o,l,u,d){return e=new zP(e,t,n,u,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=kn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(o),e}function FP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ew(e){if(!e)return yi;e=e._reactInternals;e:{if(ds(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(Yt(n))return e0(e,n,t)}return t}function tw(e,t,n,r,s,o,l,u,d){return e=Cp(n,r,!0,e,s,o,l,u,d),e.context=ew(null),n=e.current,r=Bt(),s=mi(n),o=Tr(r,s),o.callback=t??null,fi(n,o,s),e.current.lanes=s,Ka(e,s,r),Jt(e,r),e}function pc(e,t,n,r){var s=t.current,o=Bt(),l=mi(s);return n=ew(n),t.context===null?t.context=n:t.pendingContext=n,t=Tr(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fi(s,t,l),e!==null&&(Bn(e,s,l,o),uu(e,s,l)),l}function Vu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tp(e,t){wv(e,t),(e=e.alternate)&&wv(e,t)}function $P(){return null}var nw=typeof reportError=="function"?reportError:function(e){console.error(e)};function jp(e){this._internalRoot=e}mc.prototype.render=jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));pc(e,t,null,null)};mc.prototype.unmount=jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ss(function(){pc(null,e,null,null)}),t[Lr]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var t=O_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jr.length&&t!==0&&t<Jr[n].priority;n++);Jr.splice(n,0,e),n===0&&M_(e)}};function Np(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xv(){}function BP(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var h=Vu(l);o.call(h)}}var l=tw(t,r,e,0,null,!1,!1,"",xv);return e._reactRootContainer=l,e[Lr]=l.current,Ea(e.nodeType===8?e.parentNode:e),ss(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var h=Vu(d);u.call(h)}}var d=Cp(e,0,!1,null,null,!1,!1,"",xv);return e._reactRootContainer=d,e[Lr]=d.current,Ea(e.nodeType===8?e.parentNode:e),ss(function(){pc(t,d,n,r)}),d}function vc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var u=s;s=function(){var d=Vu(l);u.call(d)}}pc(t,l,e,s)}else l=BP(n,t,e,s,r);return Vu(l)}A_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=na(t.pendingLanes);n!==0&&(Gf(t,n|1),Jt(t,nt()),!(je&6)&&(go=nt()+500,Ei()))}break;case 13:ss(function(){var r=Or(e,1);if(r!==null){var s=Bt();Bn(r,e,1,s)}}),Tp(e,1)}};Qf=function(e){if(e.tag===13){var t=Or(e,134217728);if(t!==null){var n=Bt();Bn(t,e,134217728,n)}Tp(e,134217728)}};L_=function(e){if(e.tag===13){var t=mi(e),n=Or(e,t);if(n!==null){var r=Bt();Bn(n,e,t,r)}Tp(e,t)}};O_=function(){return De};R_=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};Ch=function(e,t,n){switch(t){case"input":if(wh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ac(r);if(!s)throw Error(q(90));d_(r),wh(r,s)}}}break;case"textarea":f_(e,n);break;case"select":t=n.value,t!=null&&Hs(e,!!n.multiple,t,!1)}};w_=Sp;x_=ss;var UP={usingClientEntryPoint:!1,Events:[Qa,Ds,ac,y_,__,Sp]},Go={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WP={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=k_(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||$P,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{rc=Wl.inject(WP),dr=Wl}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;gn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Np(t))throw Error(q(200));return FP(e,t,null,n)};gn.createRoot=function(e,t){if(!Np(e))throw Error(q(299));var n=!1,r="",s=nw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cp(e,1,!1,null,null,n,!1,r,s),e[Lr]=t.current,Ea(e.nodeType===8?e.parentNode:e),new jp(t)};gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=k_(t),e=e===null?null:e.stateNode,e};gn.flushSync=function(e){return ss(e)};gn.hydrate=function(e,t,n){if(!gc(t))throw Error(q(200));return vc(null,e,t,!0,n)};gn.hydrateRoot=function(e,t,n){if(!Np(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=nw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=tw(t,null,e,1,n??null,s,!1,o,l),e[Lr]=t.current,Ea(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new mc(t)};gn.render=function(e,t,n){if(!gc(t))throw Error(q(200));return vc(null,e,t,!1,n)};gn.unmountComponentAtNode=function(e){if(!gc(e))throw Error(q(40));return e._reactRootContainer?(ss(function(){vc(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};gn.unstable_batchedUpdates=Sp;gn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gc(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return vc(e,t,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function rw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rw)}catch(e){console.error(e)}}rw(),r_.exports=gn;var Ja=r_.exports;const Ap=If(Ja);var iw,bv=Ja;iw=bv.createRoot,bv.hydrateRoot;const HP=1,ZP=1e6;let Ud=0;function VP(){return Ud=(Ud+1)%Number.MAX_SAFE_INTEGER,Ud.toString()}const Wd=new Map,Sv=e=>{if(Wd.has(e))return;const t=setTimeout(()=>{Wd.delete(e),pa({type:"REMOVE_TOAST",toastId:e})},ZP);Wd.set(e,t)},qP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,HP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Sv(n):e.toasts.forEach(r=>{Sv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},gu=[];let vu={toasts:[]};function pa(e){vu=qP(vu,e),gu.forEach(t=>{t(vu)})}function KP({...e}){const t=VP(),n=s=>pa({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>pa({type:"DISMISS_TOAST",toastId:t});return pa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Xa(){const[e,t]=_.useState(vu);return _.useEffect(()=>(gu.push(t),()=>{const n=gu.indexOf(t);n>-1&&gu.splice(n,1)}),[e]),{...e,toast:KP,dismiss:n=>pa({type:"DISMISS_TOAST",toastId:n})}}function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function GP(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function sw(...e){return t=>e.forEach(n=>GP(n,t))}function Pt(...e){return _.useCallback(sw(...e),e)}function QP(e,t=[]){let n=[];function r(o,l){const u=_.createContext(l),d=n.length;n=[...n,l];function h(g){const{scope:v,children:x,...E}=g,w=(v==null?void 0:v[e][d])||u,C=_.useMemo(()=>E,Object.values(E));return f.jsx(w.Provider,{value:C,children:x})}function m(g,v){const x=(v==null?void 0:v[e][d])||u,E=_.useContext(x);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return h.displayName=o+"Provider",[h,m]}const s=()=>{const o=n.map(l=>_.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return _.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,YP(s,...t)]}function YP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:h})=>{const g=d(o)[`__scope${h}`];return{...u,...g}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var os=_.forwardRef((e,t)=>{const{children:n,...r}=e,s=_.Children.toArray(n),o=s.find(JP);if(o){const l=o.props.children,u=s.map(d=>d===o?_.Children.count(l)>1?_.Children.only(null):_.isValidElement(l)?l.props.children:null:d);return f.jsx(af,{...r,ref:t,children:_.isValidElement(l)?_.cloneElement(l,void 0,u):null})}return f.jsx(af,{...r,ref:t,children:n})});os.displayName="Slot";var af=_.forwardRef((e,t)=>{const{children:n,...r}=e;if(_.isValidElement(n)){const s=eE(n);return _.cloneElement(n,{...XP(r,n.props),ref:t?sw(t,s):s})}return _.Children.count(n)>1?_.Children.only(null):null});af.displayName="SlotClone";var ow=({children:e})=>f.jsx(f.Fragment,{children:e});function JP(e){return _.isValidElement(e)&&e.type===ow}function XP(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{o(...u),s(...u)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function eE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function tE(e){const t=e+"CollectionProvider",[n,r]=QP(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:E,children:w}=x,C=Y.useRef(null),b=Y.useRef(new Map).current;return f.jsx(s,{scope:E,itemMap:b,collectionRef:C,children:w})};l.displayName=t;const u=e+"CollectionSlot",d=Y.forwardRef((x,E)=>{const{scope:w,children:C}=x,b=o(u,w),S=Pt(E,b.collectionRef);return f.jsx(os,{ref:S,children:C})});d.displayName=u;const h=e+"CollectionItemSlot",m="data-radix-collection-item",g=Y.forwardRef((x,E)=>{const{scope:w,children:C,...b}=x,S=Y.useRef(null),P=Pt(E,S),T=o(h,w);return Y.useEffect(()=>(T.itemMap.set(S,{ref:S,...b}),()=>void T.itemMap.delete(S))),f.jsx(os,{[m]:"",ref:P,children:C})});g.displayName=h;function v(x){const E=o(e+"CollectionConsumer",x);return Y.useCallback(()=>{const C=E.collectionRef.current;if(!C)return[];const b=Array.from(C.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((T,N)=>b.indexOf(T.ref.current)-b.indexOf(N.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:d,ItemSlot:g},v,r]}function nE(e,t){const n=_.createContext(t),r=o=>{const{children:l,...u}=o,d=_.useMemo(()=>u,Object.values(u));return f.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function s(o){const l=_.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function yc(e,t=[]){let n=[];function r(o,l){const u=_.createContext(l),d=n.length;n=[...n,l];const h=g=>{var b;const{scope:v,children:x,...E}=g,w=((b=v==null?void 0:v[e])==null?void 0:b[d])||u,C=_.useMemo(()=>E,Object.values(E));return f.jsx(w.Provider,{value:C,children:x})};h.displayName=o+"Provider";function m(g,v){var w;const x=((w=v==null?void 0:v[e])==null?void 0:w[d])||u,E=_.useContext(x);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>_.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return _.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,rE(s,...t)]}function rE(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:h})=>{const g=d(o)[`__scope${h}`];return{...u,...g}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var iE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ye=iE.reduce((e,t)=>{const n=_.forwardRef((r,s)=>{const{asChild:o,...l}=r,u=o?os:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(u,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function aw(e,t){e&&Ja.flushSync(()=>e.dispatchEvent(t))}function Tn(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function sE(e,t=globalThis==null?void 0:globalThis.document){const n=Tn(e);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var oE="DismissableLayer",lf="dismissableLayer.update",aE="dismissableLayer.pointerDownOutside",lE="dismissableLayer.focusOutside",kv,lw=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),el=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,h=_.useContext(lw),[m,g]=_.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=_.useState({}),E=Pt(t,O=>g(O)),w=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(C),S=m?w.indexOf(m):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,T=S>=b,N=cE(O=>{const z=O.target,K=[...h.branches].some(W=>W.contains(z));!T||K||(s==null||s(O),l==null||l(O),O.defaultPrevented||u==null||u())},v),M=dE(O=>{const z=O.target;[...h.branches].some(W=>W.contains(z))||(o==null||o(O),l==null||l(O),O.defaultPrevented||u==null||u())},v);return sE(O=>{S===h.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},v),_.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(kv=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Pv(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=kv)}},[m,v,n,h]),_.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Pv())},[m,h]),_.useEffect(()=>{const O=()=>x({});return document.addEventListener(lf,O),()=>document.removeEventListener(lf,O)},[]),f.jsx(Ye.div,{...d,ref:E,style:{pointerEvents:P?T?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,N.onPointerDownCapture)})});el.displayName=oE;var uE="DismissableLayerBranch",uw=_.forwardRef((e,t)=>{const n=_.useContext(lw),r=_.useRef(null),s=Pt(t,r);return _.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),f.jsx(Ye.div,{...e,ref:s})});uw.displayName=uE;function cE(e,t=globalThis==null?void 0:globalThis.document){const n=Tn(e),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){cw(aE,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function dE(e,t=globalThis==null?void 0:globalThis.document){const n=Tn(e),r=_.useRef(!1);return _.useEffect(()=>{const s=o=>{o.target&&!r.current&&cw(lE,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Pv(){const e=new CustomEvent(lf);document.dispatchEvent(e)}function cw(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?aw(s,o):s.dispatchEvent(o)}var hE=el,fE=uw,_i=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},pE="Portal",_c=_.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,o]=_.useState(!1);_i(()=>o(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?Ap.createPortal(f.jsx(Ye.div,{...r,ref:t}),l):null});_c.displayName=pE;function mE(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var Ci=e=>{const{present:t,children:n}=e,r=gE(t),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),o=Pt(r.ref,vE(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:o}):null};Ci.displayName="Presence";function gE(e){const[t,n]=_.useState(),r=_.useRef({}),s=_.useRef(e),o=_.useRef("none"),l=e?"mounted":"unmounted",[u,d]=mE(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const h=Hl(r.current);o.current=u==="mounted"?h:"none"},[u]),_i(()=>{const h=r.current,m=s.current;if(m!==e){const v=o.current,x=Hl(h);e?d("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&v!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),_i(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,g=x=>{const w=Hl(r.current).includes(x.animationName);if(x.target===t&&w&&(d("ANIMATION_END"),!s.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},v=x=>{x.target===t&&(o.current=Hl(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:_.useCallback(h=>{h&&(r.current=getComputedStyle(h)),n(h)},[])}}function Hl(e){return(e==null?void 0:e.animationName)||"none"}function vE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Lp({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=yE({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:r,u=Tn(n),d=_.useCallback(h=>{if(o){const g=typeof h=="function"?h(e):h;g!==e&&u(g)}else s(h)},[o,e,s,u]);return[l,d]}function yE({defaultProp:e,onChange:t}){const n=_.useState(e),[r]=n,s=_.useRef(r),o=Tn(t);return _.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var _E="VisuallyHidden",wc=_.forwardRef((e,t)=>f.jsx(Ye.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));wc.displayName=_E;var wE=wc,Op="ToastProvider",[Rp,xE,bE]=tE("Toast"),[dw,b2]=yc("Toast",[bE]),[SE,xc]=dw(Op),hw=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=e,[u,d]=_.useState(null),[h,m]=_.useState(0),g=_.useRef(!1),v=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Op}\`. Expected non-empty \`string\`.`),f.jsx(Rp.Provider,{scope:t,children:f.jsx(SE,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:u,onViewportChange:d,onToastAdd:_.useCallback(()=>m(x=>x+1),[]),onToastRemove:_.useCallback(()=>m(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:l})})};hw.displayName=Op;var fw="ToastViewport",kE=["F8"],uf="toast.viewportPause",cf="toast.viewportResume",pw=_.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=kE,label:s="Notifications ({hotkey})",...o}=e,l=xc(fw,n),u=xE(n),d=_.useRef(null),h=_.useRef(null),m=_.useRef(null),g=_.useRef(null),v=Pt(t,g,l.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=l.toastCount>0;_.useEffect(()=>{const C=b=>{var P;r.length!==0&&r.every(T=>b[T]||b.code===T)&&((P=g.current)==null||P.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),_.useEffect(()=>{const C=d.current,b=g.current;if(E&&C&&b){const S=()=>{if(!l.isClosePausedRef.current){const M=new CustomEvent(uf);b.dispatchEvent(M),l.isClosePausedRef.current=!0}},P=()=>{if(l.isClosePausedRef.current){const M=new CustomEvent(cf);b.dispatchEvent(M),l.isClosePausedRef.current=!1}},T=M=>{!C.contains(M.relatedTarget)&&P()},N=()=>{C.contains(document.activeElement)||P()};return C.addEventListener("focusin",S),C.addEventListener("focusout",T),C.addEventListener("pointermove",S),C.addEventListener("pointerleave",N),window.addEventListener("blur",S),window.addEventListener("focus",P),()=>{C.removeEventListener("focusin",S),C.removeEventListener("focusout",T),C.removeEventListener("pointermove",S),C.removeEventListener("pointerleave",N),window.removeEventListener("blur",S),window.removeEventListener("focus",P)}}},[E,l.isClosePausedRef]);const w=_.useCallback(({tabbingDirection:C})=>{const S=u().map(P=>{const T=P.ref.current,N=[T,...DE(T)];return C==="forwards"?N:N.reverse()});return(C==="forwards"?S.reverse():S).flat()},[u]);return _.useEffect(()=>{const C=g.current;if(C){const b=S=>{var N,M,O;const P=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!P){const z=document.activeElement,K=S.shiftKey;if(S.target===C&&K){(N=h.current)==null||N.focus();return}const G=w({tabbingDirection:K?"backwards":"forwards"}),oe=G.findIndex(F=>F===z);Hd(G.slice(oe+1))?S.preventDefault():K?(M=h.current)==null||M.focus():(O=m.current)==null||O.focus()}};return C.addEventListener("keydown",b),()=>C.removeEventListener("keydown",b)}},[u,w]),f.jsxs(fE,{ref:d,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&f.jsx(df,{ref:h,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"forwards"});Hd(C)}}),f.jsx(Rp.Slot,{scope:n,children:f.jsx(Ye.ol,{tabIndex:-1,...o,ref:v})}),E&&f.jsx(df,{ref:m,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"backwards"});Hd(C)}})]})});pw.displayName=fw;var mw="ToastFocusProxy",df=_.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=xc(mw,n);return f.jsx(wc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:l=>{var h;const u=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(u))&&r()}})});df.displayName=mw;var bc="Toast",PE="toast.swipeStart",EE="toast.swipeMove",CE="toast.swipeCancel",TE="toast.swipeEnd",gw=_.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...l}=e,[u=!0,d]=Lp({prop:r,defaultProp:s,onChange:o});return f.jsx(Ci,{present:n||u,children:f.jsx(AE,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:Tn(e.onPause),onResume:Tn(e.onResume),onSwipeStart:Ie(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(e.onSwipeMove,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ie(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(e.onSwipeEnd,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});gw.displayName=bc;var[jE,NE]=dw(bc,{onClose(){}}),AE=_.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:h,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:x,...E}=e,w=xc(bc,n),[C,b]=_.useState(null),S=Pt(t,F=>b(F)),P=_.useRef(null),T=_.useRef(null),N=s||w.duration,M=_.useRef(0),O=_.useRef(N),z=_.useRef(0),{onToastAdd:K,onToastRemove:W}=w,J=Tn(()=>{var Z;(C==null?void 0:C.contains(document.activeElement))&&((Z=w.viewport)==null||Z.focus()),l()}),G=_.useCallback(F=>{!F||F===1/0||(window.clearTimeout(z.current),M.current=new Date().getTime(),z.current=window.setTimeout(J,F))},[J]);_.useEffect(()=>{const F=w.viewport;if(F){const Z=()=>{G(O.current),h==null||h()},X=()=>{const ie=new Date().getTime()-M.current;O.current=O.current-ie,window.clearTimeout(z.current),d==null||d()};return F.addEventListener(uf,X),F.addEventListener(cf,Z),()=>{F.removeEventListener(uf,X),F.removeEventListener(cf,Z)}}},[w.viewport,N,d,h,G]),_.useEffect(()=>{o&&!w.isClosePausedRef.current&&G(N)},[o,N,w.isClosePausedRef,G]),_.useEffect(()=>(K(),()=>W()),[K,W]);const oe=_.useMemo(()=>C?Sw(C):null,[C]);return w.viewport?f.jsxs(f.Fragment,{children:[oe&&f.jsx(LE,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:oe}),f.jsx(jE,{scope:n,onClose:J,children:Ja.createPortal(f.jsx(Rp.ItemSlot,{scope:n,children:f.jsx(hE,{asChild:!0,onEscapeKeyDown:Ie(u,()=>{w.isFocusedToastEscapeKeyDownRef.current||J(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":w.swipeDirection,...E,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ie(e.onKeyDown,F=>{F.key==="Escape"&&(u==null||u(F.nativeEvent),F.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:Ie(e.onPointerDown,F=>{F.button===0&&(P.current={x:F.clientX,y:F.clientY})}),onPointerMove:Ie(e.onPointerMove,F=>{if(!P.current)return;const Z=F.clientX-P.current.x,X=F.clientY-P.current.y,ie=!!T.current,A=["left","right"].includes(w.swipeDirection),V=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,$=A?V(0,Z):0,H=A?0:V(0,X),te=F.pointerType==="touch"?10:2,le={x:$,y:H},fe={originalEvent:F,delta:le};ie?(T.current=le,Zl(EE,g,fe,{discrete:!1})):Ev(le,w.swipeDirection,te)?(T.current=le,Zl(PE,m,fe,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(Z)>te||Math.abs(X)>te)&&(P.current=null)}),onPointerUp:Ie(e.onPointerUp,F=>{const Z=T.current,X=F.target;if(X.hasPointerCapture(F.pointerId)&&X.releasePointerCapture(F.pointerId),T.current=null,P.current=null,Z){const ie=F.currentTarget,A={originalEvent:F,delta:Z};Ev(Z,w.swipeDirection,w.swipeThreshold)?Zl(TE,x,A,{discrete:!0}):Zl(CE,v,A,{discrete:!0}),ie.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),LE=e=>{const{__scopeToast:t,children:n,...r}=e,s=xc(bc,t),[o,l]=_.useState(!1),[u,d]=_.useState(!1);return ME(()=>l(!0)),_.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:f.jsx(_c,{asChild:!0,children:f.jsx(wc,{...r,children:o&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},OE="ToastTitle",vw=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.jsx(Ye.div,{...r,ref:t})});vw.displayName=OE;var RE="ToastDescription",yw=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.jsx(Ye.div,{...r,ref:t})});yw.displayName=RE;var _w="ToastAction",ww=_.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?f.jsx(bw,{altText:n,asChild:!0,children:f.jsx(Mp,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_w}\`. Expected non-empty \`string\`.`),null)});ww.displayName=_w;var xw="ToastClose",Mp=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=NE(xw,n);return f.jsx(bw,{asChild:!0,children:f.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,s.onClose)})})});Mp.displayName=xw;var bw=_.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return f.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function Sw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),IE(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...Sw(r))}}),t}function Zl(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?aw(s,o):s.dispatchEvent(o)}var Ev=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function ME(e=()=>{}){const t=Tn(e);_i(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function IE(e){return e.nodeType===e.ELEMENT_NODE}function DE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var zE=hw,kw=pw,Pw=gw,Ew=vw,Cw=yw,Tw=ww,jw=Mp;function Nw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Nw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Aw(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Nw(e))&&(r&&(r+=" "),r+=t);return r}const Cv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Tv=Aw,Sc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Tv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(h=>{const m=n==null?void 0:n[h],g=o==null?void 0:o[h];if(m===null)return null;const v=Cv(m)||Cv(g);return s[h][v]}),u=n&&Object.entries(n).reduce((h,m)=>{let[g,v]=m;return v===void 0||(h[g]=v),h},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:g,className:v,...x}=m;return Object.entries(x).every(E=>{let[w,C]=E;return Array.isArray(C)?C.includes({...o,...u}[w]):{...o,...u}[w]===C})?[...h,g,v]:h},[]);return Tv(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $E={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},d)=>_.createElement("svg",{ref:d,...$E,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Lw("lucide",s),...u},[...l.map(([h,m])=>_.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(e,t)=>{const n=_.forwardRef(({className:r,...s},o)=>_.createElement(BE,{ref:o,iconNode:t,className:Lw(`lucide-${FE(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Lt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=Lt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=Lt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Lt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Lt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Lt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Lt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=Lt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Lt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=Lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=Lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Lt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Lt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ip="-",QE=e=>{const t=JE(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(Ip);return u[0]===""&&u.length!==1&&u.shift(),Rw(u,t)||YE(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},Rw=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Rw(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Ip);return(l=t.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},Lv=/^\[(.+)\]$/,YE=e=>{if(Lv.test(e)){const t=Lv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},JE=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return eC(Object.entries(e.classGroups),n).forEach(([o,l])=>{hf(l,r,o,t)}),r},hf=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Ov(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(XE(s)){hf(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{hf(l,Ov(t,o),n,r)})})},Ov=(e,t)=>{let n=e;return t.split(Ip).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},XE=e=>e.isThemeGetter,eC=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[t+l,u])):o);return[n,s]}):e,tC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},Mw="!",nC=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,l=u=>{const d=[];let h=0,m=0,g;for(let C=0;C<u.length;C++){let b=u[C];if(h===0){if(b===s&&(r||u.slice(C,C+o)===t)){d.push(u.slice(m,C)),m=C+o;continue}if(b==="/"){g=C;continue}}b==="["?h++:b==="]"&&h--}const v=d.length===0?u:u.substring(m),x=v.startsWith(Mw),E=x?v.substring(1):v,w=g&&g>m?g-m:void 0;return{modifiers:d,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:w}};return n?u=>n({className:u,parseClassName:l}):l},rC=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},iC=e=>({cache:tC(e.cacheSize),parseClassName:nC(e),...QE(e)}),sC=/\s+/,oC=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],l=e.trim().split(sC);let u="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:m,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}=n(h);let E=!!x,w=r(E?v.substring(0,x):v);if(!w){if(!E){u=h+(u.length>0?" "+u:u);continue}if(w=r(v),!w){u=h+(u.length>0?" "+u:u);continue}E=!1}const C=rC(m).join(":"),b=g?C+Mw:C,S=b+w;if(o.includes(S))continue;o.push(S);const P=s(w,E);for(let T=0;T<P.length;++T){const N=P[T];o.push(b+N)}u=h+(u.length>0?" "+u:u)}return u};function aC(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Iw(t))&&(r&&(r+=" "),r+=n);return r}const Iw=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Iw(e[r]))&&(n&&(n+=" "),n+=t);return n};function lC(e,...t){let n,r,s,o=l;function l(d){const h=t.reduce((m,g)=>g(m),e());return n=iC(h),r=n.cache.get,s=n.cache.set,o=u,u(d)}function u(d){const h=r(d);if(h)return h;const m=oC(d,n);return s(d,m),m}return function(){return o(aC.apply(null,arguments))}}const We=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Dw=/^\[(?:([a-z-]+):)?(.+)\]$/i,uC=/^\d+\/\d+$/,cC=new Set(["px","full","screen"]),dC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xr=e=>Qs(e)||cC.has(e)||uC.test(e),Wr=e=>Po(e,"length",SC),Qs=e=>!!e&&!Number.isNaN(Number(e)),Kd=e=>Po(e,"number",Qs),Qo=e=>!!e&&Number.isInteger(Number(e)),gC=e=>e.endsWith("%")&&Qs(e.slice(0,-1)),ve=e=>Dw.test(e),Hr=e=>dC.test(e),vC=new Set(["length","size","percentage"]),yC=e=>Po(e,vC,zw),_C=e=>Po(e,"position",zw),wC=new Set(["image","url"]),xC=e=>Po(e,wC,PC),bC=e=>Po(e,"",kC),Yo=()=>!0,Po=(e,t,n)=>{const r=Dw.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},SC=e=>hC.test(e)&&!fC.test(e),zw=()=>!1,kC=e=>pC.test(e),PC=e=>mC.test(e),EC=()=>{const e=We("colors"),t=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),o=We("borderRadius"),l=We("borderSpacing"),u=We("borderWidth"),d=We("contrast"),h=We("grayscale"),m=We("hueRotate"),g=We("invert"),v=We("gap"),x=We("gradientColorStops"),E=We("gradientColorStopPositions"),w=We("inset"),C=We("margin"),b=We("opacity"),S=We("padding"),P=We("saturate"),T=We("scale"),N=We("sepia"),M=We("skew"),O=We("space"),z=We("translate"),K=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",ve,t],G=()=>[ve,t],oe=()=>["",xr,Wr],F=()=>["auto",Qs,ve],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",ve],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Qs,ve];return{cacheSize:500,separator:":",theme:{colors:[Yo],spacing:[xr,Wr],blur:["none","",Hr,ve],brightness:H(),borderColor:[e],borderRadius:["none","","full",Hr,ve],borderSpacing:G(),borderWidth:oe(),contrast:H(),grayscale:V(),hueRotate:H(),invert:V(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[gC,Wr],inset:J(),margin:J(),opacity:H(),padding:G(),saturate:H(),scale:H(),sepia:V(),skew:H(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Hr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),ve]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qo,ve]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Qo,ve]}],"grid-cols":[{"grid-cols":[Yo]}],"col-start-end":[{col:["auto",{span:["full",Qo,ve]},ve]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Yo]}],"row-start-end":[{row:["auto",{span:[Qo,ve]},ve]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,t]}],"min-w":[{"min-w":[ve,t,"min","max","fit"]}],"max-w":[{"max-w":[ve,t,"none","full","min","max","fit","prose",{screen:[Hr]},Hr]}],h:[{h:[ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hr,Wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kd]}],"font-family":[{font:[Yo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Qs,Kd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xr,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xr,Wr]}],"underline-offset":[{"underline-offset":["auto",xr,ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),_C]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[xr,ve]}],"outline-w":[{outline:[xr,Wr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[xr,Wr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hr,bC]}],"shadow-color":[{shadow:[Yo]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Hr,ve]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[P]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Qo,ve]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xr,Wr,Kd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},CC=lC(EC);function xe(...e){return CC(Aw(e))}const TC=zE,Fw=_.forwardRef(({className:e,...t},n)=>f.jsx(kw,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Fw.displayName=kw.displayName;const jC=Sc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$w=_.forwardRef(({className:e,variant:t,...n},r)=>f.jsx(Pw,{ref:r,className:xe(jC({variant:t}),e),...n}));$w.displayName=Pw.displayName;const NC=_.forwardRef(({className:e,...t},n)=>f.jsx(Tw,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));NC.displayName=Tw.displayName;const Bw=_.forwardRef(({className:e,...t},n)=>f.jsx(jw,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(Ow,{className:"h-4 w-4"})}));Bw.displayName=jw.displayName;const Uw=_.forwardRef(({className:e,...t},n)=>f.jsx(Ew,{ref:n,className:xe("text-sm font-semibold",e),...t}));Uw.displayName=Ew.displayName;const Ww=_.forwardRef(({className:e,...t},n)=>f.jsx(Cw,{ref:n,className:xe("text-sm opacity-90",e),...t}));Ww.displayName=Cw.displayName;function AC(){const{toasts:e}=Xa();return f.jsxs(TC,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return f.jsxs($w,{...o,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(Uw,{children:n}),r&&f.jsx(Ww,{children:r})]}),s,f.jsx(Bw,{})]},t)}),f.jsx(Fw,{})]})}var Rv=["light","dark"],LC="(prefers-color-scheme: dark)",OC=_.createContext(void 0),RC={setTheme:e=>{},themes:[]},MC=()=>{var e;return(e=_.useContext(OC))!=null?e:RC};_.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:l,attrs:u,nonce:d})=>{let h=o==="system",m=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,g=s?Rv.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(E,w=!1,C=!0)=>{let b=l?l[E]:E,S=w?E+"|| ''":`'${b}'`,P="";return s&&C&&!w&&Rv.includes(E)&&(P+=`d.style.colorScheme = '${E}';`),n==="class"?w||b?P+=`c.add(${S})`:P+="null":b&&(P+=`d[s](n,${S})`),P},x=e?`!function(){${m}${v(e)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${LC}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${v(l?"x[e]":"e",!0)}}${h?"":"else{"+v(o,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${v(l?"x[e]":"e",!0)}}else{${v(o,!1,!1)};}${g}}catch(t){}}();`;return _.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:x}})});var IC=e=>{switch(e){case"success":return FC;case"info":return BC;case"warning":return $C;case"error":return UC;default:return null}},DC=Array(12).fill(0),zC=({visible:e})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Y.createElement("div",{className:"sonner-spinner"},DC.map((t,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),FC=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$C=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BC=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),UC=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WC=()=>{let[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ff=1,HC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ff++,o=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:n}),{...u,...e,id:s,dismissible:l,title:n}):u):this.addToast({title:n,...r,dismissible:l,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async o=>{if(VC(o)&&!o.ok){s=!1;let l=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:n,type:"error",message:l,description:u})}else if(t.success!==void 0){s=!1;let l=typeof t.success=="function"?await t.success(o):t.success,u=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"success",message:l,description:u})}}).catch(async o=>{if(t.error!==void 0){s=!1;let l=typeof t.error=="function"?await t.error(o):t.error,u=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"error",message:l,description:u})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=t.finally)==null||o.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||ff++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},on=new HC,ZC=(e,t)=>{let n=(t==null?void 0:t.id)||ff++;return on.addToast({title:e,...t,id:n}),n},VC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",qC=ZC,KC=()=>on.toasts;Object.assign(qC,{success:on.success,info:on.info,warning:on.warning,error:on.error,custom:on.custom,message:on.message,promise:on.promise,dismiss:on.dismiss,loading:on.loading},{getHistory:KC});function GC(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}GC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vl(e){return e.label!==void 0}var QC=3,YC="32px",JC=4e3,XC=356,eT=14,tT=20,nT=200;function rT(...e){return e.filter(Boolean).join(" ")}var iT=e=>{var t,n,r,s,o,l,u,d,h,m;let{invert:g,toast:v,unstyled:x,interacting:E,setHeights:w,visibleToasts:C,heights:b,index:S,toasts:P,expanded:T,removeToast:N,defaultRichColors:M,closeButton:O,style:z,cancelButtonStyle:K,actionButtonStyle:W,className:J="",descriptionClassName:G="",duration:oe,position:F,gap:Z,loadingIcon:X,expandByDefault:ie,classNames:A,icons:V,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:H,cn:te}=e,[le,fe]=Y.useState(!1),[pe,D]=Y.useState(!1),[ee,ae]=Y.useState(!1),[Ae,Te]=Y.useState(!1),[ze,Oe]=Y.useState(0),[ct,Ot]=Y.useState(0),Rt=Y.useRef(null),rt=Y.useRef(null),Q=S===0,ce=S+1<=C,se=v.type,ke=v.dismissible!==!1,_t=v.className||"",Ht=v.descriptionClassName||"",it=Y.useMemo(()=>b.findIndex(me=>me.toastId===v.id)||0,[b,v.id]),Fr=Y.useMemo(()=>{var me;return(me=v.closeButton)!=null?me:O},[v.closeButton,O]),Kn=Y.useMemo(()=>v.duration||oe||JC,[v.duration,oe]),jn=Y.useRef(0),Mt=Y.useRef(0),Gn=Y.useRef(0),It=Y.useRef(null),[Ni,Ai]=F.split("-"),Le=Y.useMemo(()=>b.reduce((me,Fe,Me)=>Me>=it?me:me+Fe.height,0),[b,it]),et=WC(),Qn=v.invert||g,wt=se==="loading";Mt.current=Y.useMemo(()=>it*Z+Le,[it,Le]),Y.useEffect(()=>{fe(!0)},[]),Y.useLayoutEffect(()=>{if(!le)return;let me=rt.current,Fe=me.style.height;me.style.height="auto";let Me=me.getBoundingClientRect().height;me.style.height=Fe,Ot(Me),w(en=>en.find(tn=>tn.toastId===v.id)?en.map(tn=>tn.toastId===v.id?{...tn,height:Me}:tn):[{toastId:v.id,height:Me,position:v.position},...en])},[le,v.title,v.description,w,v.id]);let Xt=Y.useCallback(()=>{D(!0),Oe(Mt.current),w(me=>me.filter(Fe=>Fe.toastId!==v.id)),setTimeout(()=>{N(v)},nT)},[v,N,w,Mt]);Y.useEffect(()=>{if(v.promise&&se==="loading"||v.duration===1/0||v.type==="loading")return;let me,Fe=Kn;return T||E||H&&et?(()=>{if(Gn.current<jn.current){let Me=new Date().getTime()-jn.current;Fe=Fe-Me}Gn.current=new Date().getTime()})():Fe!==1/0&&(jn.current=new Date().getTime(),me=setTimeout(()=>{var Me;(Me=v.onAutoClose)==null||Me.call(v,v),Xt()},Fe)),()=>clearTimeout(me)},[T,E,ie,v,Kn,Xt,v.promise,se,H,et]),Y.useEffect(()=>{let me=rt.current;if(me){let Fe=me.getBoundingClientRect().height;return Ot(Fe),w(Me=>[{toastId:v.id,height:Fe,position:v.position},...Me]),()=>w(Me=>Me.filter(en=>en.toastId!==v.id))}},[w,v.id]),Y.useEffect(()=>{v.delete&&Xt()},[Xt,v.delete]);function Li(){return V!=null&&V.loading?Y.createElement("div",{className:"sonner-loader","data-visible":se==="loading"},V.loading):X?Y.createElement("div",{className:"sonner-loader","data-visible":se==="loading"},X):Y.createElement(zC,{visible:se==="loading"})}return Y.createElement("li",{"aria-live":v.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:rt,className:te(J,_t,A==null?void 0:A.toast,(t=v==null?void 0:v.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[se],(n=v==null?void 0:v.classNames)==null?void 0:n[se]),"data-sonner-toast":"","data-rich-colors":(r=v.richColors)!=null?r:M,"data-styled":!(v.jsx||v.unstyled||x),"data-mounted":le,"data-promise":!!v.promise,"data-removed":pe,"data-visible":ce,"data-y-position":Ni,"data-x-position":Ai,"data-index":S,"data-front":Q,"data-swiping":ee,"data-dismissible":ke,"data-type":se,"data-invert":Qn,"data-swipe-out":Ae,"data-expanded":!!(T||ie&&le),style:{"--index":S,"--toasts-before":S,"--z-index":P.length-S,"--offset":`${pe?ze:Mt.current}px`,"--initial-height":ie?"auto":`${ct}px`,...z,...v.style},onPointerDown:me=>{wt||!ke||(Rt.current=new Date,Oe(Mt.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(ae(!0),It.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Fe,Me,en;if(Ae||!ke)return;It.current=null;let tn=Number(((me=rt.current)==null?void 0:me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ps=new Date().getTime()-((Fe=Rt.current)==null?void 0:Fe.getTime()),Bc=Math.abs(tn)/ps;if(Math.abs(tn)>=tT||Bc>.11){Oe(Mt.current),(Me=v.onDismiss)==null||Me.call(v,v),Xt(),Te(!0);return}(en=rt.current)==null||en.style.setProperty("--swipe-amount","0px"),ae(!1)},onPointerMove:me=>{var Fe;if(!It.current||!ke)return;let Me=me.clientY-It.current.y,en=me.clientX-It.current.x,tn=(Ni==="top"?Math.min:Math.max)(0,Me),ps=me.pointerType==="touch"?10:2;Math.abs(tn)>ps?(Fe=rt.current)==null||Fe.style.setProperty("--swipe-amount",`${Me}px`):Math.abs(en)>ps&&(It.current=null)}},Fr&&!v.jsx?Y.createElement("button",{"aria-label":$,"data-disabled":wt,"data-close-button":!0,onClick:wt||!ke?()=>{}:()=>{var me;Xt(),(me=v.onDismiss)==null||me.call(v,v)},className:te(A==null?void 0:A.closeButton,(s=v==null?void 0:v.classNames)==null?void 0:s.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,v.jsx||Y.isValidElement(v.title)?v.jsx||v.title:Y.createElement(Y.Fragment,null,se||v.icon||v.promise?Y.createElement("div",{"data-icon":"",className:te(A==null?void 0:A.icon,(o=v==null?void 0:v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Li():null,v.type!=="loading"?v.icon||(V==null?void 0:V[se])||IC(se):null):null,Y.createElement("div",{"data-content":"",className:te(A==null?void 0:A.content,(l=v==null?void 0:v.classNames)==null?void 0:l.content)},Y.createElement("div",{"data-title":"",className:te(A==null?void 0:A.title,(u=v==null?void 0:v.classNames)==null?void 0:u.title)},v.title),v.description?Y.createElement("div",{"data-description":"",className:te(G,Ht,A==null?void 0:A.description,(d=v==null?void 0:v.classNames)==null?void 0:d.description)},v.description):null),Y.isValidElement(v.cancel)?v.cancel:v.cancel&&Vl(v.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||K,onClick:me=>{var Fe,Me;Vl(v.cancel)&&ke&&((Me=(Fe=v.cancel).onClick)==null||Me.call(Fe,me),Xt())},className:te(A==null?void 0:A.cancelButton,(h=v==null?void 0:v.classNames)==null?void 0:h.cancelButton)},v.cancel.label):null,Y.isValidElement(v.action)?v.action:v.action&&Vl(v.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||W,onClick:me=>{var Fe,Me;Vl(v.action)&&(me.defaultPrevented||((Me=(Fe=v.action).onClick)==null||Me.call(Fe,me),Xt()))},className:te(A==null?void 0:A.actionButton,(m=v==null?void 0:v.classNames)==null?void 0:m.actionButton)},v.action.label):null))};function Mv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var sT=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:u,theme:d="light",richColors:h,duration:m,style:g,visibleToasts:v=QC,toastOptions:x,dir:E=Mv(),gap:w=eT,loadingIcon:C,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:P,cn:T=rT}=e,[N,M]=Y.useState([]),O=Y.useMemo(()=>Array.from(new Set([n].concat(N.filter(H=>H.position).map(H=>H.position)))),[N,n]),[z,K]=Y.useState([]),[W,J]=Y.useState(!1),[G,oe]=Y.useState(!1),[F,Z]=Y.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=Y.useRef(null),ie=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=Y.useRef(null),V=Y.useRef(!1),$=Y.useCallback(H=>{var te;(te=N.find(le=>le.id===H.id))!=null&&te.delete||on.dismiss(H.id),M(le=>le.filter(({id:fe})=>fe!==H.id))},[N]);return Y.useEffect(()=>on.subscribe(H=>{if(H.dismiss){M(te=>te.map(le=>le.id===H.id?{...le,delete:!0}:le));return}setTimeout(()=>{Ap.flushSync(()=>{M(te=>{let le=te.findIndex(fe=>fe.id===H.id);return le!==-1?[...te.slice(0,le),{...te[le],...H},...te.slice(le+1)]:[H,...te]})})})}),[]),Y.useEffect(()=>{if(d!=="system"){Z(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{Z(H?"dark":"light")})},[d]),Y.useEffect(()=>{N.length<=1&&J(!1)},[N]),Y.useEffect(()=>{let H=te=>{var le,fe;r.every(pe=>te[pe]||te.code===pe)&&(J(!0),(le=X.current)==null||le.focus()),te.code==="Escape"&&(document.activeElement===X.current||(fe=X.current)!=null&&fe.contains(document.activeElement))&&J(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),Y.useEffect(()=>{if(X.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,V.current=!1)}},[X.current]),N.length?Y.createElement("section",{"aria-label":`${S} ${ie}`,tabIndex:-1},O.map((H,te)=>{var le;let[fe,pe]=H.split("-");return Y.createElement("ol",{key:H,dir:E==="auto"?Mv():E,tabIndex:-1,ref:X,className:l,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":fe,"data-x-position":pe,style:{"--front-toast-height":`${((le=z[0])==null?void 0:le.height)||0}px`,"--offset":typeof u=="number"?`${u}px`:u||YC,"--width":`${XC}px`,"--gap":`${w}px`,...g},onBlur:D=>{V.current&&!D.currentTarget.contains(D.relatedTarget)&&(V.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||V.current||(V.current=!0,A.current=D.relatedTarget)},onMouseEnter:()=>J(!0),onMouseMove:()=>J(!0),onMouseLeave:()=>{G||J(!1)},onPointerDown:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||oe(!0)},onPointerUp:()=>oe(!1)},N.filter(D=>!D.position&&te===0||D.position===H).map((D,ee)=>{var ae,Ae;return Y.createElement(iT,{key:D.id,icons:b,index:ee,toast:D,defaultRichColors:h,duration:(ae=x==null?void 0:x.duration)!=null?ae:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:t,visibleToasts:v,closeButton:(Ae=x==null?void 0:x.closeButton)!=null?Ae:o,interacting:G,position:H,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:$,toasts:N.filter(Te=>Te.position==D.position),heights:z.filter(Te=>Te.position==D.position),setHeights:K,expandByDefault:s,gap:w,loadingIcon:C,expanded:W,pauseWhenPageIsHidden:P,cn:T})}))})):null};const oT=({...e})=>{const{theme:t="system"}=MC();return f.jsx(sT,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var aT=t_.useId||(()=>{}),lT=0;function _u(e){const[t,n]=_.useState(aT());return _i(()=>{e||n(r=>r??String(lT++))},[e]),e||(t?`radix-${t}`:"")}const uT=["top","right","bottom","left"],wi=Math.min,ln=Math.max,qu=Math.round,ql=Math.floor,xi=e=>({x:e,y:e}),cT={left:"right",right:"left",bottom:"top",top:"bottom"},dT={start:"end",end:"start"};function pf(e,t,n){return ln(e,wi(t,n))}function Mr(e,t){return typeof e=="function"?e(t):e}function Ir(e){return e.split("-")[0]}function Eo(e){return e.split("-")[1]}function Dp(e){return e==="x"?"y":"x"}function zp(e){return e==="y"?"height":"width"}function bi(e){return["top","bottom"].includes(Ir(e))?"y":"x"}function Fp(e){return Dp(bi(e))}function hT(e,t,n){n===void 0&&(n=!1);const r=Eo(e),s=Fp(e),o=zp(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Ku(l)),[l,Ku(l)]}function fT(e){const t=Ku(e);return[mf(e),t,mf(t)]}function mf(e){return e.replace(/start|end/g,t=>dT[t])}function pT(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:l;default:return[]}}function mT(e,t,n,r){const s=Eo(e);let o=pT(Ir(e),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(mf)))),o}function Ku(e){return e.replace(/left|right|bottom|top/g,t=>cT[t])}function gT(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hw(e){return typeof e!="number"?gT(e):{top:e,right:e,bottom:e,left:e}}function Gu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Iv(e,t,n){let{reference:r,floating:s}=e;const o=bi(t),l=Fp(t),u=zp(l),d=Ir(t),h=o==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let x;switch(d){case"top":x={x:m,y:r.y-s.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-s.width,y:g};break;default:x={x:r.x,y:r.y}}switch(Eo(t)){case"start":x[l]-=v*(n&&h?-1:1);break;case"end":x[l]+=v*(n&&h?-1:1);break}return x}const vT=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:g}=Iv(h,r,d),v=r,x={},E=0;for(let w=0;w<u.length;w++){const{name:C,fn:b}=u[w],{x:S,y:P,data:T,reset:N}=await b({x:m,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:x,rects:h,platform:l,elements:{reference:e,floating:t}});m=S??m,g=P??g,x={...x,[C]:{...x[C],...T}},N&&E<=50&&(E++,typeof N=="object"&&(N.placement&&(v=N.placement),N.rects&&(h=N.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:m,y:g}=Iv(h,v,d)),w=-1)}return{x:m,y:g,placement:v,strategy:s,middlewareData:x}};async function Ma(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:l,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:x=0}=Mr(t,e),E=Hw(x),C=u[v?g==="floating"?"reference":"floating":g],b=Gu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:d})),S=g==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),T=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},N=Gu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:S,offsetParent:P,strategy:d}):S);return{top:(b.top-N.top+E.top)/T.y,bottom:(N.bottom-b.bottom+E.bottom)/T.y,left:(b.left-N.left+E.left)/T.x,right:(N.right-b.right+E.right)/T.x}}const yT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:l,elements:u,middlewareData:d}=t,{element:h,padding:m=0}=Mr(e,t)||{};if(h==null)return{};const g=Hw(m),v={x:n,y:r},x=Fp(s),E=zp(x),w=await l.getDimensions(h),C=x==="y",b=C?"top":"left",S=C?"bottom":"right",P=C?"clientHeight":"clientWidth",T=o.reference[E]+o.reference[x]-v[x]-o.floating[E],N=v[x]-o.reference[x],M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let O=M?M[P]:0;(!O||!await(l.isElement==null?void 0:l.isElement(M)))&&(O=u.floating[P]||o.floating[E]);const z=T/2-N/2,K=O/2-w[E]/2-1,W=wi(g[b],K),J=wi(g[S],K),G=W,oe=O-w[E]-J,F=O/2-w[E]/2+z,Z=pf(G,F,oe),X=!d.arrow&&Eo(s)!=null&&F!==Z&&o.reference[E]/2-(F<G?W:J)-w[E]/2<0,ie=X?F<G?F-G:F-oe:0;return{[x]:v[x]+ie,data:{[x]:Z,centerOffset:F-Z-ie,...X&&{alignmentOffset:ie}},reset:X}}}),_T=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...C}=Mr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=Ir(s),S=bi(u),P=Ir(u)===u,T=await(d.isRTL==null?void 0:d.isRTL(h.floating)),N=v||(P||!w?[Ku(u)]:fT(u)),M=E!=="none";!v&&M&&N.push(...mT(u,w,E,T));const O=[u,...N],z=await Ma(t,C),K=[];let W=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&K.push(z[b]),g){const F=hT(s,l,T);K.push(z[F[0]],z[F[1]])}if(W=[...W,{placement:s,overflows:K}],!K.every(F=>F<=0)){var J,G;const F=(((J=o.flip)==null?void 0:J.index)||0)+1,Z=O[F];if(Z)return{data:{index:F,overflows:W},reset:{placement:Z}};let X=(G=W.filter(ie=>ie.overflows[0]<=0).sort((ie,A)=>ie.overflows[1]-A.overflows[1])[0])==null?void 0:G.placement;if(!X)switch(x){case"bestFit":{var oe;const ie=(oe=W.filter(A=>{if(M){const V=bi(A.placement);return V===S||V==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(V=>V>0).reduce((V,$)=>V+$,0)]).sort((A,V)=>A[1]-V[1])[0])==null?void 0:oe[0];ie&&(X=ie);break}case"initialPlacement":X=u;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function Dv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function zv(e){return uT.some(t=>e[t]>=0)}const wT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Mr(e,t);switch(r){case"referenceHidden":{const o=await Ma(t,{...s,elementContext:"reference"}),l=Dv(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:zv(l)}}}case"escaped":{const o=await Ma(t,{...s,altBoundary:!0}),l=Dv(o,n.floating);return{data:{escapedOffsets:l,escaped:zv(l)}}}default:return{}}}}};async function xT(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Ir(n),u=Eo(n),d=bi(n)==="y",h=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,g=Mr(t,e);let{mainAxis:v,crossAxis:x,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof E=="number"&&(x=u==="end"?E*-1:E),d?{x:x*m,y:v*h}:{x:v*h,y:x*m}}const bT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:l,middlewareData:u}=t,d=await xT(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},ST=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:b,y:S}=C;return{x:b,y:S}}},...d}=Mr(e,t),h={x:n,y:r},m=await Ma(t,d),g=bi(Ir(s)),v=Dp(g);let x=h[v],E=h[g];if(o){const C=v==="y"?"top":"left",b=v==="y"?"bottom":"right",S=x+m[C],P=x-m[b];x=pf(S,x,P)}if(l){const C=g==="y"?"top":"left",b=g==="y"?"bottom":"right",S=E+m[C],P=E-m[b];E=pf(S,E,P)}const w=u.fn({...t,[v]:x,[g]:E});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[v]:o,[g]:l}}}}}},kT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=Mr(e,t),m={x:n,y:r},g=bi(s),v=Dp(g);let x=m[v],E=m[g];const w=Mr(u,t),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const P=v==="y"?"height":"width",T=o.reference[v]-o.floating[P]+C.mainAxis,N=o.reference[v]+o.reference[P]-C.mainAxis;x<T?x=T:x>N&&(x=N)}if(h){var b,S;const P=v==="y"?"width":"height",T=["top","left"].includes(Ir(s)),N=o.reference[g]-o.floating[P]+(T&&((b=l.offset)==null?void 0:b[g])||0)+(T?0:C.crossAxis),M=o.reference[g]+o.reference[P]+(T?0:((S=l.offset)==null?void 0:S[g])||0)-(T?C.crossAxis:0);E<N?E=N:E>M&&(E=M)}return{[v]:x,[g]:E}}}},PT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:l,elements:u}=t,{apply:d=()=>{},...h}=Mr(e,t),m=await Ma(t,h),g=Ir(s),v=Eo(s),x=bi(s)==="y",{width:E,height:w}=o.floating;let C,b;g==="top"||g==="bottom"?(C=g,b=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(b=g,C=v==="end"?"top":"bottom");const S=w-m.top-m.bottom,P=E-m.left-m.right,T=wi(w-m[C],S),N=wi(E-m[b],P),M=!t.middlewareData.shift;let O=T,z=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(z=P),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=S),M&&!v){const W=ln(m.left,0),J=ln(m.right,0),G=ln(m.top,0),oe=ln(m.bottom,0);x?z=E-2*(W!==0||J!==0?W+J:ln(m.left,m.right)):O=w-2*(G!==0||oe!==0?G+oe:ln(m.top,m.bottom))}await d({...t,availableWidth:z,availableHeight:O});const K=await l.getDimensions(u.floating);return E!==K.width||w!==K.height?{reset:{rects:!0}}:{}}}};function kc(){return typeof window<"u"}function Co(e){return Zw(e)?(e.nodeName||"").toLowerCase():"#document"}function dn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mr(e){var t;return(t=(Zw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Zw(e){return kc()?e instanceof Node||e instanceof dn(e).Node:!1}function Wn(e){return kc()?e instanceof Element||e instanceof dn(e).Element:!1}function pr(e){return kc()?e instanceof HTMLElement||e instanceof dn(e).HTMLElement:!1}function Fv(e){return!kc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dn(e).ShadowRoot}function tl(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Hn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function ET(e){return["table","td","th"].includes(Co(e))}function Pc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function $p(e){const t=Bp(),n=Wn(e)?Hn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function CT(e){let t=Si(e);for(;pr(t)&&!vo(t);){if($p(t))return t;if(Pc(t))return null;t=Si(t)}return null}function Bp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vo(e){return["html","body","#document"].includes(Co(e))}function Hn(e){return dn(e).getComputedStyle(e)}function Ec(e){return Wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Si(e){if(Co(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Fv(e)&&e.host||mr(e);return Fv(t)?t.host:t}function Vw(e){const t=Si(e);return vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:pr(t)&&tl(t)?t:Vw(t)}function Ia(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Vw(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),l=dn(s);if(o){const u=gf(l);return t.concat(l,l.visualViewport||[],tl(s)?s:[],u&&n?Ia(u):[])}return t.concat(s,Ia(s,[],n))}function gf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function qw(e){const t=Hn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=pr(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:r,u=qu(n)!==o||qu(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function Up(e){return Wn(e)?e:e.contextElement}function Ys(e){const t=Up(e);if(!pr(t))return xi(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=qw(t);let l=(o?qu(n.width):n.width)/r,u=(o?qu(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const TT=xi(0);function Kw(e){const t=dn(e);return!Bp()||!t.visualViewport?TT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==dn(e)?!1:t}function as(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Up(e);let l=xi(1);t&&(r?Wn(r)&&(l=Ys(r)):l=Ys(e));const u=jT(o,n,r)?Kw(o):xi(0);let d=(s.left+u.x)/l.x,h=(s.top+u.y)/l.y,m=s.width/l.x,g=s.height/l.y;if(o){const v=dn(o),x=r&&Wn(r)?dn(r):r;let E=v,w=gf(E);for(;w&&r&&x!==E;){const C=Ys(w),b=w.getBoundingClientRect(),S=Hn(w),P=b.left+(w.clientLeft+parseFloat(S.paddingLeft))*C.x,T=b.top+(w.clientTop+parseFloat(S.paddingTop))*C.y;d*=C.x,h*=C.y,m*=C.x,g*=C.y,d+=P,h+=T,E=dn(w),w=gf(E)}}return Gu({width:m,height:g,x:d,y:h})}function NT(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",l=mr(r),u=t?Pc(t.floating):!1;if(r===l||u&&o)return n;let d={scrollLeft:0,scrollTop:0},h=xi(1);const m=xi(0),g=pr(r);if((g||!g&&!o)&&((Co(r)!=="body"||tl(l))&&(d=Ec(r)),pr(r))){const v=as(r);h=Ys(r),m.x=v.x+r.clientLeft,m.y=v.y+r.clientTop}return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x,y:n.y*h.y-d.scrollTop*h.y+m.y}}function AT(e){return Array.from(e.getClientRects())}function vf(e,t){const n=Ec(e).scrollLeft;return t?t.left+n:as(mr(e)).left+n}function LT(e){const t=mr(e),n=Ec(e),r=e.ownerDocument.body,s=ln(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ln(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+vf(e);const u=-n.scrollTop;return Hn(r).direction==="rtl"&&(l+=ln(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:u}}function OT(e,t){const n=dn(e),r=mr(e),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,d=0;if(s){o=s.width,l=s.height;const h=Bp();(!h||h&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:o,height:l,x:u,y:d}}function RT(e,t){const n=as(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=pr(e)?Ys(e):xi(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,d=s*o.x,h=r*o.y;return{width:l,height:u,x:d,y:h}}function $v(e,t,n){let r;if(t==="viewport")r=OT(e,n);else if(t==="document")r=LT(mr(e));else if(Wn(t))r=RT(t,n);else{const s=Kw(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Gu(r)}function Gw(e,t){const n=Si(e);return n===t||!Wn(n)||vo(n)?!1:Hn(n).position==="fixed"||Gw(n,t)}function MT(e,t){const n=t.get(e);if(n)return n;let r=Ia(e,[],!1).filter(u=>Wn(u)&&Co(u)!=="body"),s=null;const o=Hn(e).position==="fixed";let l=o?Si(e):e;for(;Wn(l)&&!vo(l);){const u=Hn(l),d=$p(l);!d&&u.position==="fixed"&&(s=null),(o?!d&&!s:!d&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||tl(l)&&!d&&Gw(e,l))?r=r.filter(m=>m!==l):s=u,l=Si(l)}return t.set(e,r),r}function IT(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const l=[...n==="clippingAncestors"?Pc(t)?[]:MT(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((h,m)=>{const g=$v(t,m,s);return h.top=ln(g.top,h.top),h.right=wi(g.right,h.right),h.bottom=wi(g.bottom,h.bottom),h.left=ln(g.left,h.left),h},$v(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function DT(e){const{width:t,height:n}=qw(e);return{width:t,height:n}}function zT(e,t,n){const r=pr(t),s=mr(t),o=n==="fixed",l=as(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=xi(0);if(r||!r&&!o)if((Co(t)!=="body"||tl(s))&&(u=Ec(t)),r){const x=as(t,!0,o,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else s&&(d.x=vf(s));let h=0,m=0;if(s&&!r&&!o){const x=s.getBoundingClientRect();m=x.top+u.scrollTop,h=x.left+u.scrollLeft-vf(s,x)}const g=l.left+u.scrollLeft-d.x-h,v=l.top+u.scrollTop-d.y-m;return{x:g,y:v,width:l.width,height:l.height}}function Gd(e){return Hn(e).position==="static"}function Bv(e,t){if(!pr(e)||Hn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return mr(e)===n&&(n=n.ownerDocument.body),n}function Qw(e,t){const n=dn(e);if(Pc(e))return n;if(!pr(e)){let s=Si(e);for(;s&&!vo(s);){if(Wn(s)&&!Gd(s))return s;s=Si(s)}return n}let r=Bv(e,t);for(;r&&ET(r)&&Gd(r);)r=Bv(r,t);return r&&vo(r)&&Gd(r)&&!$p(r)?n:r||CT(e)||n}const FT=async function(e){const t=this.getOffsetParent||Qw,n=this.getDimensions,r=await n(e.floating);return{reference:zT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $T(e){return Hn(e).direction==="rtl"}const BT={convertOffsetParentRelativeRectToViewportRelativeRect:NT,getDocumentElement:mr,getClippingRect:IT,getOffsetParent:Qw,getElementRects:FT,getClientRects:AT,getDimensions:DT,getScale:Ys,isElement:Wn,isRTL:$T};function UT(e,t){let n=null,r;const s=mr(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const{left:h,top:m,width:g,height:v}=e.getBoundingClientRect();if(u||t(),!g||!v)return;const x=ql(m),E=ql(s.clientWidth-(h+g)),w=ql(s.clientHeight-(m+v)),C=ql(h),S={rootMargin:-x+"px "+-E+"px "+-w+"px "+-C+"px",threshold:ln(0,wi(1,d))||1};let P=!0;function T(N){const M=N[0].intersectionRatio;if(M!==d){if(!P)return l();M?l(!1,M):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P=!1}try{n=new IntersectionObserver(T,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,S)}n.observe(e)}return l(!0),o}function WT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=Up(e),m=s||o?[...h?Ia(h):[],...Ia(t)]:[];m.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const g=h&&u?UT(h,n):null;let v=-1,x=null;l&&(x=new ResizeObserver(b=>{let[S]=b;S&&S.target===h&&x&&(x.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=x)==null||P.observe(t)})),n()}),h&&!d&&x.observe(h),x.observe(t));let E,w=d?as(e):null;d&&C();function C(){const b=as(e);w&&(b.x!==w.x||b.y!==w.y||b.width!==w.width||b.height!==w.height)&&n(),w=b,E=requestAnimationFrame(C)}return n(),()=>{var b;m.forEach(S=>{s&&S.removeEventListener("scroll",n),o&&S.removeEventListener("resize",n)}),g==null||g(),(b=x)==null||b.disconnect(),x=null,d&&cancelAnimationFrame(E)}}const HT=bT,ZT=ST,VT=_T,qT=PT,KT=wT,Uv=yT,GT=kT,QT=(e,t,n)=>{const r=new Map,s={platform:BT,...n},o={...s.platform,_c:r};return vT(e,t,{...s,platform:o})};var wu=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Qu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Qu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Qu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Yw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wv(e,t){const n=Yw(e);return Math.round(t*n)/n}function Qd(e){const t=_.useRef(e);return wu(()=>{t.current=e}),t}function YT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[m,g]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,x]=_.useState(r);Qu(v,r)||x(r);const[E,w]=_.useState(null),[C,b]=_.useState(null),S=_.useCallback(A=>{A!==M.current&&(M.current=A,w(A))},[]),P=_.useCallback(A=>{A!==O.current&&(O.current=A,b(A))},[]),T=o||E,N=l||C,M=_.useRef(null),O=_.useRef(null),z=_.useRef(m),K=d!=null,W=Qd(d),J=Qd(s),G=Qd(h),oe=_.useCallback(()=>{if(!M.current||!O.current)return;const A={placement:t,strategy:n,middleware:v};J.current&&(A.platform=J.current),QT(M.current,O.current,A).then(V=>{const $={...V,isPositioned:G.current!==!1};F.current&&!Qu(z.current,$)&&(z.current=$,Ja.flushSync(()=>{g($)}))})},[v,t,n,J,G]);wu(()=>{h===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,g(A=>({...A,isPositioned:!1})))},[h]);const F=_.useRef(!1);wu(()=>(F.current=!0,()=>{F.current=!1}),[]),wu(()=>{if(T&&(M.current=T),N&&(O.current=N),T&&N){if(W.current)return W.current(T,N,oe);oe()}},[T,N,oe,W,K]);const Z=_.useMemo(()=>({reference:M,floating:O,setReference:S,setFloating:P}),[S,P]),X=_.useMemo(()=>({reference:T,floating:N}),[T,N]),ie=_.useMemo(()=>{const A={position:n,left:0,top:0};if(!X.floating)return A;const V=Wv(X.floating,m.x),$=Wv(X.floating,m.y);return u?{...A,transform:"translate("+V+"px, "+$+"px)",...Yw(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:$}},[n,u,X.floating,m.x,m.y]);return _.useMemo(()=>({...m,update:oe,refs:Z,elements:X,floatingStyles:ie}),[m,oe,Z,X,ie])}const JT=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Uv({element:r.current,padding:s}).fn(n):{}:r?Uv({element:r,padding:s}).fn(n):{}}}},XT=(e,t)=>({...HT(e),options:[e,t]}),ej=(e,t)=>({...ZT(e),options:[e,t]}),tj=(e,t)=>({...GT(e),options:[e,t]}),nj=(e,t)=>({...VT(e),options:[e,t]}),rj=(e,t)=>({...qT(e),options:[e,t]}),ij=(e,t)=>({...KT(e),options:[e,t]}),sj=(e,t)=>({...JT(e),options:[e,t]});var oj="Arrow",Jw=_.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return f.jsx(Ye.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Jw.displayName=oj;var aj=Jw;function lj(e,t=[]){let n=[];function r(o,l){const u=_.createContext(l),d=n.length;n=[...n,l];function h(g){const{scope:v,children:x,...E}=g,w=(v==null?void 0:v[e][d])||u,C=_.useMemo(()=>E,Object.values(E));return f.jsx(w.Provider,{value:C,children:x})}function m(g,v){const x=(v==null?void 0:v[e][d])||u,E=_.useContext(x);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return h.displayName=o+"Provider",[h,m]}const s=()=>{const o=n.map(l=>_.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return _.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,uj(s,...t)]}function uj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:h})=>{const g=d(o)[`__scope${h}`];return{...u,...g}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function cj(e){const[t,n]=_.useState(void 0);return _i(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,u=h.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Wp="Popper",[Xw,Cc]=lj(Wp),[dj,ex]=Xw(Wp),tx=e=>{const{__scopePopper:t,children:n}=e,[r,s]=_.useState(null);return f.jsx(dj,{scope:t,anchor:r,onAnchorChange:s,children:n})};tx.displayName=Wp;var nx="PopperAnchor",rx=_.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=ex(nx,n),l=_.useRef(null),u=Pt(t,l);return _.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:f.jsx(Ye.div,{...s,ref:u})});rx.displayName=nx;var Hp="PopperContent",[hj,fj]=Xw(Hp),ix=_.forwardRef((e,t)=>{var ee,ae,Ae,Te,ze,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:E,...w}=e,C=ex(Hp,n),[b,S]=_.useState(null),P=Pt(t,ct=>S(ct)),[T,N]=_.useState(null),M=cj(T),O=(M==null?void 0:M.width)??0,z=(M==null?void 0:M.height)??0,K=r+(o!=="center"?"-"+o:""),W=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},J=Array.isArray(h)?h:[h],G=J.length>0,oe={padding:W,boundary:J.filter(mj),altBoundary:G},{refs:F,floatingStyles:Z,placement:X,isPositioned:ie,middlewareData:A}=YT({strategy:"fixed",placement:K,whileElementsMounted:(...ct)=>WT(...ct,{animationFrame:x==="always"}),elements:{reference:C.anchor},middleware:[XT({mainAxis:s+z,alignmentAxis:l}),d&&ej({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?tj():void 0,...oe}),d&&nj({...oe}),rj({...oe,apply:({elements:ct,rects:Ot,availableWidth:Rt,availableHeight:rt})=>{const{width:Q,height:ce}=Ot.reference,se=ct.floating.style;se.setProperty("--radix-popper-available-width",`${Rt}px`),se.setProperty("--radix-popper-available-height",`${rt}px`),se.setProperty("--radix-popper-anchor-width",`${Q}px`),se.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),T&&sj({element:T,padding:u}),gj({arrowWidth:O,arrowHeight:z}),v&&ij({strategy:"referenceHidden",...oe})]}),[V,$]=ax(X),H=Tn(E);_i(()=>{ie&&(H==null||H())},[ie,H]);const te=(ee=A.arrow)==null?void 0:ee.x,le=(ae=A.arrow)==null?void 0:ae.y,fe=((Ae=A.arrow)==null?void 0:Ae.centerOffset)!==0,[pe,D]=_.useState();return _i(()=>{b&&D(window.getComputedStyle(b).zIndex)},[b]),f.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:ie?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(Te=A.transformOrigin)==null?void 0:Te.x,(ze=A.transformOrigin)==null?void 0:ze.y].join(" "),...((Oe=A.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(hj,{scope:n,placedSide:V,onArrowChange:N,arrowX:te,arrowY:le,shouldHideArrow:fe,children:f.jsx(Ye.div,{"data-side":V,"data-align":$,...w,ref:P,style:{...w.style,animation:ie?void 0:"none"}})})})});ix.displayName=Hp;var sx="PopperArrow",pj={top:"bottom",right:"left",bottom:"top",left:"right"},ox=_.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=fj(sx,r),l=pj[o.placedSide];return f.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:f.jsx(aj,{...s,ref:n,style:{...s.style,display:"block"}})})});ox.displayName=sx;function mj(e){return e!==null}var gj=e=>({name:"transformOrigin",options:e,fn(t){var C,b,S;const{placement:n,rects:r,middlewareData:s}=t,l=((C=s.arrow)==null?void 0:C.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,m]=ax(n),g={start:"0%",center:"50%",end:"100%"}[m],v=(((b=s.arrow)==null?void 0:b.x)??0)+u/2,x=(((S=s.arrow)==null?void 0:S.y)??0)+d/2;let E="",w="";return h==="bottom"?(E=l?g:`${v}px`,w=`${-d}px`):h==="top"?(E=l?g:`${v}px`,w=`${r.floating.height+d}px`):h==="right"?(E=`${-d}px`,w=l?g:`${x}px`):h==="left"&&(E=`${r.floating.width+d}px`,w=l?g:`${x}px`),{data:{x:E,y:w}}}});function ax(e){const[t,n="center"]=e.split("-");return[t,n]}var vj=tx,Zp=rx,lx=ix,ux=ox,[Tc,S2]=yc("Tooltip",[Cc]),Vp=Cc(),cx="TooltipProvider",yj=700,Hv="tooltip.open",[_j,dx]=Tc(cx),hx=e=>{const{__scopeTooltip:t,delayDuration:n=yj,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[l,u]=_.useState(!0),d=_.useRef(!1),h=_.useRef(0);return _.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),f.jsx(_j,{scope:t,isOpenDelayed:l,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(h.current),u(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:_.useCallback(m=>{d.current=m},[]),disableHoverableContent:s,children:o})};hx.displayName=cx;var fx="Tooltip",[k2,jc]=Tc(fx),yf="TooltipTrigger",wj=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=jc(yf,n),o=dx(yf,n),l=Vp(n),u=_.useRef(null),d=Pt(t,u,s.onTriggerChange),h=_.useRef(!1),m=_.useRef(!1),g=_.useCallback(()=>h.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),f.jsx(Zp,{asChild:!0,...l,children:f.jsx(Ye.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:Ie(e.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ie(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ie(e.onBlur,s.onClose),onClick:Ie(e.onClick,s.onClose)})})});wj.displayName=yf;var xj="TooltipPortal",[P2,bj]=Tc(xj,{forceMount:void 0}),yo="TooltipContent",px=_.forwardRef((e,t)=>{const n=bj(yo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,l=jc(yo,e.__scopeTooltip);return f.jsx(Ci,{present:r||l.open,children:l.disableHoverableContent?f.jsx(mx,{side:s,...o,ref:t}):f.jsx(Sj,{side:s,...o,ref:t})})}),Sj=_.forwardRef((e,t)=>{const n=jc(yo,e.__scopeTooltip),r=dx(yo,e.__scopeTooltip),s=_.useRef(null),o=Pt(t,s),[l,u]=_.useState(null),{trigger:d,onClose:h}=n,m=s.current,{onPointerInTransitChange:g}=r,v=_.useCallback(()=>{u(null),g(!1)},[g]),x=_.useCallback((E,w)=>{const C=E.currentTarget,b={x:E.clientX,y:E.clientY},S=Cj(b,C.getBoundingClientRect()),P=Tj(b,S),T=jj(w.getBoundingClientRect()),N=Aj([...P,...T]);u(N),g(!0)},[g]);return _.useEffect(()=>()=>v(),[v]),_.useEffect(()=>{if(d&&m){const E=C=>x(C,m),w=C=>x(C,d);return d.addEventListener("pointerleave",E),m.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",E),m.removeEventListener("pointerleave",w)}}},[d,m,x,v]),_.useEffect(()=>{if(l){const E=w=>{const C=w.target,b={x:w.clientX,y:w.clientY},S=(d==null?void 0:d.contains(C))||(m==null?void 0:m.contains(C)),P=!Nj(b,l);S?v():P&&(v(),h())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[d,m,l,h,v]),f.jsx(mx,{...e,ref:o})}),[kj,Pj]=Tc(fx,{isInside:!1}),mx=_.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=e,d=jc(yo,n),h=Vp(n),{onClose:m}=d;return _.useEffect(()=>(document.addEventListener(Hv,m),()=>document.removeEventListener(Hv,m)),[m]),_.useEffect(()=>{if(d.trigger){const g=v=>{const x=v.target;x!=null&&x.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),f.jsx(el,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:f.jsxs(lx,{"data-state":d.stateAttribute,...h,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(ow,{children:r}),f.jsx(kj,{scope:n,isInside:!0,children:f.jsx(wE,{id:d.contentId,role:"tooltip",children:s||r})})]})})});px.displayName=yo;var gx="TooltipArrow",Ej=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Vp(n);return Pj(gx,n).isInside?null:f.jsx(ux,{...s,...r,ref:t})});Ej.displayName=gx;function Cj(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Tj(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function jj(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Nj(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const u=t[o].x,d=t[o].y,h=t[l].x,m=t[l].y;d>r!=m>r&&n<(h-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function Aj(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Lj(t)}function Lj(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Oj=hx,vx=px;const Rj=Oj,Mj=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>f.jsx(vx,{ref:r,sideOffset:t,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Mj.displayName=vx.displayName;var Nc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ac=typeof window>"u"||"Deno"in globalThis;function Rn(){}function Ij(e,t){return typeof e=="function"?e(t):e}function Dj(e){return typeof e=="number"&&e>=0&&e!==1/0}function zj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zv(e,t){return typeof e=="function"?e(t):e}function Fj(e,t){return typeof e=="function"?e(t):e}function Vv(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==qp(l,t.options))return!1}else if(!za(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||o&&!o(t))}function qv(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Da(t.options.mutationKey)!==Da(o))return!1}else if(!za(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function qp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Da)(e)}function Da(e){return JSON.stringify(e,(t,n)=>_f(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function za(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!za(e[n],t[n])):!1}function yx(e,t){if(e===t)return e;const n=Kv(e)&&Kv(t);if(n||_f(e)&&_f(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),l=o.length,u=n?[]:{};let d=0;for(let h=0;h<l;h++){const m=n?h:o[h];(!n&&r.includes(m)||n)&&e[m]===void 0&&t[m]===void 0?(u[m]=void 0,d++):(u[m]=yx(e[m],t[m]),u[m]===e[m]&&e[m]!==void 0&&d++)}return s===l&&d===s?e:u}return t}function Kv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _f(e){if(!Gv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Gv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gv(e){return Object.prototype.toString.call(e)==="[object Object]"}function $j(e){return new Promise(t=>{setTimeout(t,e)})}function Bj(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?yx(e,t):t}function Uj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Wj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Kp=Symbol();function _x(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Kp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qi,ti,eo,Dy,Hj=(Dy=class extends Nc{constructor(){super();Re(this,qi);Re(this,ti);Re(this,eo);we(this,eo,t=>{if(!Ac&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,ti)||this.setEventListener(B(this,eo))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,ti))==null||t.call(this),we(this,ti,void 0))}setEventListener(t){var n;we(this,eo,t),(n=B(this,ti))==null||n.call(this),we(this,ti,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,qi)!==t&&(we(this,qi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,qi)=="boolean"?B(this,qi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qi=new WeakMap,ti=new WeakMap,eo=new WeakMap,Dy),wx=new Hj,to,ni,no,zy,Zj=(zy=class extends Nc{constructor(){super();Re(this,to,!0);Re(this,ni);Re(this,no);we(this,no,t=>{if(!Ac&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,ni)||this.setEventListener(B(this,no))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,ni))==null||t.call(this),we(this,ni,void 0))}setEventListener(t){var n;we(this,no,t),(n=B(this,ni))==null||n.call(this),we(this,ni,t(this.setOnline.bind(this)))}setOnline(t){B(this,to)!==t&&(we(this,to,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,to)}},to=new WeakMap,ni=new WeakMap,no=new WeakMap,zy),Yu=new Zj;function Vj(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function qj(e){return Math.min(1e3*2**e,3e4)}function xx(e){return(e??"online")==="online"?Yu.isOnline():!0}var bx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yd(e){return e instanceof bx}function Sx(e){let t=!1,n=0,r=!1,s;const o=Vj(),l=w=>{var C;r||(v(new bx(w)),(C=e.abort)==null||C.call(e))},u=()=>{t=!0},d=()=>{t=!1},h=()=>wx.isFocused()&&(e.networkMode==="always"||Yu.isOnline())&&e.canRun(),m=()=>xx(e.networkMode)&&e.canRun(),g=w=>{var C;r||(r=!0,(C=e.onSuccess)==null||C.call(e,w),s==null||s(),o.resolve(w))},v=w=>{var C;r||(r=!0,(C=e.onError)==null||C.call(e,w),s==null||s(),o.reject(w))},x=()=>new Promise(w=>{var C;s=b=>{(r||h())&&w(b)},(C=e.onPause)==null||C.call(e)}).then(()=>{var w;s=void 0,r||(w=e.onContinue)==null||w.call(e)}),E=()=>{if(r)return;let w;const C=n===0?e.initialPromise:void 0;try{w=C??e.fn()}catch(b){w=Promise.reject(b)}Promise.resolve(w).then(g).catch(b=>{var M;if(r)return;const S=e.retry??(Ac?0:3),P=e.retryDelay??qj,T=typeof P=="function"?P(n,b):P,N=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,b);if(t||!N){v(b);return}n++,(M=e.onFail)==null||M.call(e,n,b),$j(T).then(()=>h()?void 0:x()).then(()=>{t?v(b):E()})})};return{promise:o,cancel:l,continue:()=>(s==null||s(),o),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?E():x().then(E),o)}}function Kj(){let e=[],t=0,n=u=>{u()},r=u=>{u()},s=u=>setTimeout(u,0);const o=u=>{t?e.push(u):s(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var $t=Kj(),Ki,Fy,kx=(Fy=class{constructor(){Re(this,Ki)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Dj(this.gcTime)&&we(this,Ki,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ac?1/0:5*60*1e3))}clearGcTimeout(){B(this,Ki)&&(clearTimeout(B(this,Ki)),we(this,Ki,void 0))}},Ki=new WeakMap,Fy),ro,io,xn,jt,Za,Gi,Mn,br,$y,Gj=($y=class extends kx{constructor(t){super();Re(this,Mn);Re(this,ro);Re(this,io);Re(this,xn);Re(this,jt);Re(this,Za);Re(this,Gi);we(this,Gi,!1),we(this,Za,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,xn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,ro,Yj(this.options)),this.state=t.state??B(this,ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,jt))==null?void 0:t.promise}setOptions(t){this.options={...B(this,Za),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,xn).remove(this)}setData(t,n){const r=Bj(this.state.data,t,this.options);return Et(this,Mn,br).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Et(this,Mn,br).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=B(this,jt))==null?void 0:r.promise;return(s=B(this,jt))==null||s.cancel(t),n?n.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,ro))}isActive(){return this.observers.some(t=>Fj(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!zj(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,jt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,jt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,xn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,jt)&&(B(this,Gi)?B(this,jt).cancel({revert:!0}):B(this,jt).cancelRetry()),this.scheduleGc()),B(this,xn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Et(this,Mn,br).call(this,{type:"invalidate"})}fetch(t,n){var d,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,jt))return B(this,jt).continueRetry(),B(this,jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(we(this,Gi,!0),r.signal)})},o=()=>{const g=_x(this.options,n),v={queryKey:this.queryKey,meta:this.meta};return s(v),we(this,Gi,!1),this.options.persister?this.options.persister(g,v,this):g(v)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(l),(d=this.options.behavior)==null||d.onFetch(l,this),we(this,io,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Et(this,Mn,br).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=g=>{var v,x,E,w;Yd(g)&&g.silent||Et(this,Mn,br).call(this,{type:"error",error:g}),Yd(g)||((x=(v=B(this,xn).config).onError)==null||x.call(v,g,this),(w=(E=B(this,xn).config).onSettled)==null||w.call(E,this.state.data,g,this)),this.scheduleGc()};return we(this,jt,Sx({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var v,x,E,w;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(C){u(C);return}(x=(v=B(this,xn).config).onSuccess)==null||x.call(v,g,this),(w=(E=B(this,xn).config).onSettled)==null||w.call(E,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,v)=>{Et(this,Mn,br).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{Et(this,Mn,br).call(this,{type:"pause"})},onContinue:()=>{Et(this,Mn,br).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),B(this,jt).start()}},ro=new WeakMap,io=new WeakMap,xn=new WeakMap,jt=new WeakMap,Za=new WeakMap,Gi=new WeakMap,Mn=new WeakSet,br=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Qj(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Yd(s)&&s.revert&&B(this,io)?{...B(this,io),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),$t.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,xn).notify({query:this,type:"updated",action:t})})},$y);function Qj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Yj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var sr,By,Jj=(By=class extends Nc{constructor(t={}){super();Re(this,sr);this.config=t,we(this,sr,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??qp(s,n);let l=this.get(o);return l||(l=new Gj({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){B(this,sr).has(t.queryHash)||(B(this,sr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,sr).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,sr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,sr).get(t)}getAll(){return[...B(this,sr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Vv(t,r)):n}notify(t){$t.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$t.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$t.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sr=new WeakMap,By),or,zt,Qi,ar,Zr,Uy,Xj=(Uy=class extends kx{constructor(t){super();Re(this,ar);Re(this,or);Re(this,zt);Re(this,Qi);this.mutationId=t.mutationId,we(this,zt,t.mutationCache),we(this,or,[]),this.state=t.state||eN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,or).includes(t)||(B(this,or).push(t),this.clearGcTimeout(),B(this,zt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,or,B(this,or).filter(n=>n!==t)),this.scheduleGc(),B(this,zt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,or).length||(this.state.status==="pending"?this.scheduleGc():B(this,zt).remove(this))}continue(){var t;return((t=B(this,Qi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,u,d,h,m,g,v,x,E,w,C,b,S,P,T,N,M,O;we(this,Qi,Sx({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,K)=>{Et(this,ar,Zr).call(this,{type:"failed",failureCount:z,error:K})},onPause:()=>{Et(this,ar,Zr).call(this,{type:"pause"})},onContinue:()=>{Et(this,ar,Zr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,zt).canRun(this)}));const n=this.state.status==="pending",r=!B(this,Qi).canStart();try{if(!n){Et(this,ar,Zr).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=B(this,zt).config).onMutate)==null?void 0:o.call(s,t,this));const K=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t));K!==this.state.context&&Et(this,ar,Zr).call(this,{type:"pending",context:K,variables:t,isPaused:r})}const z=await B(this,Qi).start();return await((h=(d=B(this,zt).config).onSuccess)==null?void 0:h.call(d,z,t,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,z,t,this.state.context)),await((x=(v=B(this,zt).config).onSettled)==null?void 0:x.call(v,z,null,this.state.variables,this.state.context,this)),await((w=(E=this.options).onSettled)==null?void 0:w.call(E,z,null,t,this.state.context)),Et(this,ar,Zr).call(this,{type:"success",data:z}),z}catch(z){try{throw await((b=(C=B(this,zt).config).onError)==null?void 0:b.call(C,z,t,this.state.context,this)),await((P=(S=this.options).onError)==null?void 0:P.call(S,z,t,this.state.context)),await((N=(T=B(this,zt).config).onSettled)==null?void 0:N.call(T,void 0,z,this.state.variables,this.state.context,this)),await((O=(M=this.options).onSettled)==null?void 0:O.call(M,void 0,z,t,this.state.context)),z}finally{Et(this,ar,Zr).call(this,{type:"error",error:z})}}finally{B(this,zt).runNext(this)}}},or=new WeakMap,zt=new WeakMap,Qi=new WeakMap,ar=new WeakSet,Zr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$t.batch(()=>{B(this,or).forEach(r=>{r.onMutationUpdate(t)}),B(this,zt).notify({mutation:this,type:"updated",action:t})})},Uy);function eN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sn,Va,Wy,tN=(Wy=class extends Nc{constructor(t={}){super();Re(this,sn);Re(this,Va);this.config=t,we(this,sn,new Map),we(this,Va,Date.now())}build(t,n,r){const s=new Xj({mutationCache:this,mutationId:++El(this,Va)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Kl(t),r=B(this,sn).get(n)??[];r.push(t),B(this,sn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Kl(t);if(B(this,sn).has(n)){const s=(r=B(this,sn).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?B(this,sn).delete(n):B(this,sn).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=B(this,sn).get(Kl(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=B(this,sn).get(Kl(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){$t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...B(this,sn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>qv(n,r))}findAll(t={}){return this.getAll().filter(n=>qv(t,n))}notify(t){$t.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $t.batch(()=>Promise.all(t.map(n=>n.continue().catch(Rn))))}},sn=new WeakMap,Va=new WeakMap,Wy);function Kl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Qv(e){return{onFetch:(t,n)=>{var m,g,v,x,E;const r=t.options,s=(v=(g=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:g.fetchMore)==null?void 0:v.direction,o=((x=t.state.data)==null?void 0:x.pages)||[],l=((E=t.state.data)==null?void 0:E.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const C=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},b=_x(t.options,t.fetchOptions),S=async(P,T,N)=>{if(w)return Promise.reject();if(T==null&&P.pages.length)return Promise.resolve(P);const M={queryKey:t.queryKey,pageParam:T,direction:N?"backward":"forward",meta:t.options.meta};C(M);const O=await b(M),{maxPages:z}=t.options,K=N?Wj:Uj;return{pages:K(P.pages,O,z),pageParams:K(P.pageParams,T,z)}};if(s&&o.length){const P=s==="backward",T=P?nN:Yv,N={pages:o,pageParams:l},M=T(r,N);u=await S(N,M,P)}else{const P=e??o.length;do{const T=d===0?l[0]??r.initialPageParam:Yv(r,u);if(d>0&&T==null)break;u=await S(u,T),d++}while(d<P)}return u};t.options.persister?t.fetchFn=()=>{var w,C;return(C=(w=t.options).persister)==null?void 0:C.call(w,h,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function Yv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function nN(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Je,ri,ii,so,oo,si,ao,lo,Hy,rN=(Hy=class{constructor(e={}){Re(this,Je);Re(this,ri);Re(this,ii);Re(this,so);Re(this,oo);Re(this,si);Re(this,ao);Re(this,lo);we(this,Je,e.queryCache||new Jj),we(this,ri,e.mutationCache||new tN),we(this,ii,e.defaultOptions||{}),we(this,so,new Map),we(this,oo,new Map),we(this,si,0)}mount(){El(this,si)._++,B(this,si)===1&&(we(this,ao,wx.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Je).onFocus())})),we(this,lo,Yu.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Je).onOnline())})))}unmount(){var e,t;El(this,si)._--,B(this,si)===0&&((e=B(this,ao))==null||e.call(this),we(this,ao,void 0),(t=B(this,lo))==null||t.call(this),we(this,lo,void 0))}isFetching(e){return B(this,Je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,ri).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,Je).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=B(this,Je).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Zv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return B(this,Je).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=B(this,Je).get(r.queryHash),o=s==null?void 0:s.state.data,l=Ij(t,o);if(l!==void 0)return B(this,Je).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return $t.batch(()=>B(this,Je).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,Je).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,Je);$t.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,Je),r={type:"active",...e};return $t.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=$t.batch(()=>B(this,Je).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Rn).catch(Rn)}invalidateQueries(e={},t={}){return $t.batch(()=>{if(B(this,Je).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=$t.batch(()=>B(this,Je).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Rn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Rn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,Je).build(this,t);return n.isStaleByTime(Zv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rn).catch(Rn)}fetchInfiniteQuery(e){return e.behavior=Qv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rn).catch(Rn)}ensureInfiniteQueryData(e){return e.behavior=Qv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yu.isOnline()?B(this,ri).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Je)}getMutationCache(){return B(this,ri)}getDefaultOptions(){return B(this,ii)}setDefaultOptions(e){we(this,ii,e)}setQueryDefaults(e,t){B(this,so).set(Da(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,so).values()];let n={};return t.forEach(r=>{za(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){B(this,oo).set(Da(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,oo).values()];let n={};return t.forEach(r=>{za(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,ii).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Kp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,ii).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,Je).clear(),B(this,ri).clear()}},Je=new WeakMap,ri=new WeakMap,ii=new WeakMap,so=new WeakMap,oo=new WeakMap,si=new WeakMap,ao=new WeakMap,lo=new WeakMap,Hy),iN=_.createContext(void 0),sN=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(iN.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(this,arguments)}var li;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(li||(li={}));const Jv="popstate";function oN(e){e===void 0&&(e={});function t(s,o){let{pathname:l="/",search:u="",hash:d=""}=hs(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),wf("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,h=d.indexOf("#");u=h===-1?d:d.slice(0,h)}return u+"#"+(typeof o=="string"?o:Px(o))}function r(s,o){Gp(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return lN(t,n,r,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aN(){return Math.random().toString(36).substr(2,8)}function Xv(e,t){return{usr:e.state,key:e.key,idx:t}}function wf(e,t,n,r){return n===void 0&&(n=null),Fa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hs(t):t,{state:n,key:t&&t.key||r||aN()})}function Px(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lN(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u=li.Pop,d=null,h=m();h==null&&(h=0,l.replaceState(Fa({},l.state,{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function g(){u=li.Pop;let C=m(),b=C==null?null:C-h;h=C,d&&d({action:u,location:w.location,delta:b})}function v(C,b){u=li.Push;let S=wf(w.location,C,b);n&&n(S,C),h=m()+1;let P=Xv(S,h),T=w.createHref(S);try{l.pushState(P,"",T)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(T)}o&&d&&d({action:u,location:w.location,delta:1})}function x(C,b){u=li.Replace;let S=wf(w.location,C,b);n&&n(S,C),h=m();let P=Xv(S,h),T=w.createHref(S);l.replaceState(P,"",T),o&&d&&d({action:u,location:w.location,delta:0})}function E(C){let b=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof C=="string"?C:Px(C);return S=S.replace(/ $/,"%20"),ut(b,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,b)}let w={get action(){return u},get location(){return e(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Jv,g),d=C,()=>{s.removeEventListener(Jv,g),d=null}},createHref(C){return t(s,C)},createURL:E,encodeLocation(C){let b=E(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:x,go(C){return l.go(C)}};return w}var ey;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ey||(ey={}));function uN(e,t,n){return n===void 0&&(n="/"),cN(e,t,n,!1)}function cN(e,t,n,r){let s=typeof t=="string"?hs(t):t,o=Tx(s.pathname||"/",n);if(o==null)return null;let l=Ex(e);dN(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=bN(o);u=wN(l[d],h,r)}return u}function Ex(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(ut(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=Xi([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(ut(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Ex(o.children,t,m,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:yN(h,o.index),routesMeta:m})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of Cx(o.path))s(o,l,d)}),t}function Cx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=Cx(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function dN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_N(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hN=/^:[\w-]+$/,fN=3,pN=2,mN=1,gN=10,vN=-2,ty=e=>e==="*";function yN(e,t){let n=e.split("/"),r=n.length;return n.some(ty)&&(r+=vN),t&&(r+=pN),n.filter(s=>!ty(s)).reduce((s,o)=>s+(hN.test(o)?fN:o===""?mN:gN),r)}function _N(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function wN(e,t,n){let{routesMeta:r}=e,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=o==="/"?t:t.slice(o.length)||"/",g=ny({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),v=d.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=ny({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Xi([o,g.pathname]),pathnameBase:EN(Xi([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=Xi([o,g.pathnameBase]))}return l}function ny(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xN(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,m,g)=>{let{paramName:v,isOptional:x}=m;if(v==="*"){let w=u[g]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[g];return x&&!E?h[v]=void 0:h[v]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function xN(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Gp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function bN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function SN(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?hs(e):e;return{pathname:n?n.startsWith("/")?n:kN(n,t):t,search:CN(r),hash:TN(s)}}function kN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jx(e,t){let n=PN(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nx(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=hs(e):(s=Fa({},e),ut(!s.pathname||!s.pathname.includes("?"),Jd("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),Jd("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),Jd("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=SN(s,u),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}const Xi=e=>e.join("/").replace(/\/\/+/g,"/"),EN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ax=["post","put","patch","delete"];new Set(Ax);const NN=["get",...Ax];new Set(NN);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$a.apply(this,arguments)}const Qp=_.createContext(null),AN=_.createContext(null),nl=_.createContext(null),Lc=_.createContext(null),zr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Lx=_.createContext(null);function rl(){return _.useContext(Lc)!=null}function gr(){return rl()||ut(!1),_.useContext(Lc).location}function Ox(e){_.useContext(nl).static||_.useLayoutEffect(e)}function Zn(){let{isDataRoute:e}=_.useContext(zr);return e?qN():LN()}function LN(){rl()||ut(!1);let e=_.useContext(Qp),{basename:t,future:n,navigator:r}=_.useContext(nl),{matches:s}=_.useContext(zr),{pathname:o}=gr(),l=JSON.stringify(jx(s,n.v7_relativeSplatPath)),u=_.useRef(!1);return Ox(()=>{u.current=!0}),_.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let g=Nx(h,JSON.parse(l),o,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Xi([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,l,o,e])}const ON=_.createContext(null);function RN(e){let t=_.useContext(zr).outlet;return t&&_.createElement(ON.Provider,{value:e},t)}function MN(){let{matches:e}=_.useContext(zr),t=e[e.length-1];return t?t.params:{}}function IN(e,t){return DN(e,t)}function DN(e,t,n,r){rl()||ut(!1);let{navigator:s}=_.useContext(nl),{matches:o}=_.useContext(zr),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=gr(),m;if(t){var g;let C=typeof t=="string"?hs(t):t;d==="/"||(g=C.pathname)!=null&&g.startsWith(d)||ut(!1),m=C}else m=h;let v=m.pathname||"/",x=v;if(d!=="/"){let C=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=uN(e,{pathname:x}),w=UN(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Xi([d,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Xi([d,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return t&&w?_.createElement(Lc.Provider,{value:{location:$a({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:li.Pop}},w):w}function zN(){let e=VN(),t=jN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,null)}const FN=_.createElement(zN,null);class $N extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(zr.Provider,{value:this.props.routeContext},_.createElement(Lx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BN(e){let{routeContext:t,match:n,children:r}=e,s=_.useContext(Qp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(zr.Provider,{value:t},r)}function UN(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let m=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);m>=0||ut(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:v,errors:x}=n,E=g.route.loader&&v[g.route.id]===void 0&&(!x||x[g.route.id]===void 0);if(g.route.lazy||E){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,g,v)=>{let x,E=!1,w=null,C=null;n&&(x=u&&g.route.id?u[g.route.id]:void 0,w=g.route.errorElement||FN,d&&(h<0&&v===0?(E=!0,C=null):h===v&&(E=!0,C=g.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,v+1)),S=()=>{let P;return x?P=w:E?P=C:g.route.Component?P=_.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=m,_.createElement(BN,{match:g,routeContext:{outlet:m,matches:b,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?_.createElement($N,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}var Rx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rx||{}),Ju=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ju||{});function WN(e){let t=_.useContext(Qp);return t||ut(!1),t}function HN(e){let t=_.useContext(AN);return t||ut(!1),t}function ZN(e){let t=_.useContext(zr);return t||ut(!1),t}function Mx(e){let t=ZN(),n=t.matches[t.matches.length-1];return n.route.id||ut(!1),n.route.id}function VN(){var e;let t=_.useContext(Lx),n=HN(Ju.UseRouteError),r=Mx(Ju.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function qN(){let{router:e}=WN(Rx.UseNavigateStable),t=Mx(Ju.UseNavigateStable),n=_.useRef(!1);return Ox(()=>{n.current=!0}),_.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$a({fromRouteId:t},o)))},[e,t])}function Yp(e){let{to:t,replace:n,state:r,relative:s}=e;rl()||ut(!1);let{future:o,static:l}=_.useContext(nl),{matches:u}=_.useContext(zr),{pathname:d}=gr(),h=Zn(),m=Nx(t,jx(u,o.v7_relativeSplatPath),d,s==="path"),g=JSON.stringify(m);return _.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:s}),[h,g,s,n,r]),null}function Jp(e){return RN(e.context)}function nn(e){ut(!1)}function KN(e){let{basename:t="/",children:n=null,location:r,navigationType:s=li.Pop,navigator:o,static:l=!1,future:u}=e;rl()&&ut(!1);let d=t.replace(/^\/*/,"/"),h=_.useMemo(()=>({basename:d,navigator:o,static:l,future:$a({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);typeof r=="string"&&(r=hs(r));let{pathname:m="/",search:g="",hash:v="",state:x=null,key:E="default"}=r,w=_.useMemo(()=>{let C=Tx(m,d);return C==null?null:{location:{pathname:C,search:g,hash:v,state:x,key:E},navigationType:s}},[d,m,g,v,x,E,s]);return w==null?null:_.createElement(nl.Provider,{value:h},_.createElement(Lc.Provider,{children:n,value:w}))}function GN(e){let{children:t,location:n}=e;return IN(xf(t),n)}new Promise(()=>{});function xf(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,s)=>{if(!_.isValidElement(r))return;let o=[...t,s];if(r.type===_.Fragment){n.push.apply(n,xf(r.props.children,o));return}r.type!==nn&&ut(!1),!r.props.index||!r.props.children||ut(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=xf(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function QN(e,t){let n=bf(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const YN="6";try{window.__reactRouterVersion=YN}catch{}const JN="startTransition",ry=t_[JN];function XN(e){let{basename:t,children:n,future:r,window:s}=e,o=_.useRef();o.current==null&&(o.current=oN({window:s,v5Compat:!0}));let l=o.current,[u,d]=_.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},m=_.useCallback(g=>{h&&ry?ry(()=>d(g)):d(g)},[d,h]);return _.useLayoutEffect(()=>l.listen(m),[l,m]),_.createElement(KN,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}var iy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iy||(iy={}));var sy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sy||(sy={}));function Ix(e){let t=_.useRef(bf(e)),n=_.useRef(!1),r=gr(),s=_.useMemo(()=>QN(r.search,n.current?null:t.current),[r.search]),o=Zn(),l=_.useCallback((u,d)=>{const h=bf(typeof u=="function"?u(s):u);n.current=!0,o("?"+h,d)},[o,s]);return[s,l]}const eA="modulepreload",tA=function(e){return"/"+e},oy={},_o=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(d=>{if(d=tA(d),d in oy)return;oy[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":eA,h||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,x)=>{g.addEventListener("load",v),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},nA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_o(async()=>{const{default:r}=await Promise.resolve().then(()=>To);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Xp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class rA extends Xp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class iA extends Xp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sA extends Xp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Sf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Sf||(Sf={}));var oA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(g){l(g)}}function d(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};class aA{constructor(t,{headers:n={},customFetch:r,region:s=Sf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=nA(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return oA(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:l}=n;let u={},{region:d}=n;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const m=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h}).catch(E=>{throw new rA(E)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new iA(m);if(!m.ok)throw new sA(m);let v=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield m.json():v==="application/octet-stream"?x=yield m.blob():v==="text/event-stream"?x=m:v==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null}}catch(s){return{data:null,error:s}}})}}var Kt={},em={},Oc={},il={},Rc={},Mc={},lA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wo=lA();const uA=wo.fetch,Dx=wo.fetch.bind(wo),zx=wo.Headers,cA=wo.Request,dA=wo.Response,To=Object.freeze(Object.defineProperty({__proto__:null,Headers:zx,Request:cA,Response:dA,default:Dx,fetch:uA},Symbol.toStringTag,{value:"Module"})),hA=yS(To);var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});let fA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ic.default=fA;var Fx=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mc,"__esModule",{value:!0});const pA=Fx(hA),mA=Fx(Ic);let gA=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=pA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,u,d;let h=null,m=null,g=null,v=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=b:m=JSON.parse(b))}const w=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),C=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");w&&C&&C.length>1&&(g=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,v=406,x="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const w=await o.text();try{h=JSON.parse(w),Array.isArray(h)&&o.status===404&&(m=[],h=null,v=200,x="OK")}catch{o.status===404&&w===""?(v=204,x="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,v=200,x="OK"),h&&this.shouldThrowOnError)throw new mA.default(h)}return{error:h,data:m,count:g,status:v,statusText:x}});return this.shouldThrowOnError||(s=s.catch(o=>{var l,u,d;return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(u=o==null?void 0:o.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(d=o==null?void 0:o.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Mc.default=gA;var vA=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rc,"__esModule",{value:!0});const yA=vA(Mc);let _A=class extends yA.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var u;const d=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Rc.default=_A;var wA=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(il,"__esModule",{value:!0});const xA=wA(Rc);let bA=class extends xA.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};il.default=bA;var SA=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oc,"__esModule",{value:!0});const Jo=SA(il);let kA=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Jo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const l="POST",u=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(t)){const d=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new Jo.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Jo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Jo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Oc.default=kA;var Dc={},zc={};Object.defineProperty(zc,"__esModule",{value:!0});zc.version=void 0;zc.version="0.0.0-automated";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.DEFAULT_HEADERS=void 0;const PA=zc;Dc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${PA.version}`};var $x=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(em,"__esModule",{value:!0});const EA=$x(Oc),CA=$x(il),TA=Dc;let jA=class Bx{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},TA.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new EA.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Bx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let l;const u=new URL(`${this.url}/rpc/${t}`);let d;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{u.searchParams.append(m,g)})):(l="POST",d=n);const h=Object.assign({},this.headers);return o&&(h.Prefer=`count=${o}`),new CA.default({method:l,url:u,headers:h,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};em.default=jA;var jo=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const Ux=jo(em);Kt.PostgrestClient=Ux.default;const Wx=jo(Oc);Kt.PostgrestQueryBuilder=Wx.default;const Hx=jo(il);Kt.PostgrestFilterBuilder=Hx.default;const Zx=jo(Rc);Kt.PostgrestTransformBuilder=Zx.default;const Vx=jo(Mc);Kt.PostgrestBuilder=Vx.default;const qx=jo(Ic);Kt.PostgrestError=qx.default;var NA=Kt.default={PostgrestClient:Ux.default,PostgrestQueryBuilder:Wx.default,PostgrestFilterBuilder:Hx.default,PostgrestTransformBuilder:Zx.default,PostgrestBuilder:Vx.default,PostgrestError:qx.default};const{PostgrestClient:AA,PostgrestQueryBuilder:A2,PostgrestFilterBuilder:L2,PostgrestTransformBuilder:O2,PostgrestBuilder:R2,PostgrestError:M2}=NA,LA="2.11.2",OA={"X-Client-Info":`realtime-js/${LA}`},RA="1.0.0",Kx=1e4,MA=1e3;var Js;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Js||(Js={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var Dn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dn||(Dn={}));var kf;(function(e){e.websocket="websocket"})(kf||(kf={}));var Ui;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ui||(Ui={}));class IA{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:d,payload:h}}}class Gx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Be||(Be={}));const ay=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,l)=>(o[l]=DA(l,e,t,s),o),{})},DA=(e,t,n,r)=>{const s=t.find(u=>u.name===e),o=s==null?void 0:s.type,l=n[e];return o&&!r.includes(o)?Qx(o,l):Pf(l)},Qx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return BA(t,n)}switch(e){case Be.bool:return zA(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return FA(t);case Be.json:case Be.jsonb:return $A(t);case Be.timestamp:return UA(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Pf(t);default:return Pf(t)}},Pf=e=>e,zA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$A=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},BA=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>Qx(t,u))}return e},UA=e=>typeof e=="string"?e.replace(" ","T"):e,Yx=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Xd{constructor(t,n,r={},s=Kx){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ly;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ly||(ly={}));class ma{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ma.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=ma.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ma.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(o,(h,m)=>{l[h]||(d[h]=m)}),this.map(l,(h,m)=>{const g=o[h];if(g){const v=m.map(C=>C.presence_ref),x=g.map(C=>C.presence_ref),E=m.filter(C=>x.indexOf(C.presence_ref)<0),w=g.filter(C=>v.indexOf(C.presence_ref)<0);E.length>0&&(u[h]=E),w.length>0&&(d[h]=w)}else u[h]=m}),this.syncDiff(o,{joins:u,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(u,d)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(d),m.length>0){const g=t[u].map(x=>x.presence_ref),v=m.filter(x=>g.indexOf(x.presence_ref)<0);t[u].unshift(...v)}r(u,m,d)}),this.map(l,(u,d)=>{let h=t[u];if(!h)return;const m=d.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),t[u]=h,s(u,h,d),h.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(uy||(uy={}));var cy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cy||(cy={}));var kr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class tm{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xd(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new Gx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new ma(this),this.broadcastEndpointURL=Yx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:u}}=this.params;this._onError(m=>t==null?void 0:t(kr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(kr.CLOSED));const d={},h={broadcast:o,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(kr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,E=[];for(let w=0;w<x;w++){const C=v[w],{filter:{event:b,schema:S,table:P,filter:T}}=C,N=m&&m[w];if(N&&N.event===b&&N.schema===S&&N.table===P&&N.filter===T)E.push(Object.assign(Object.assign({},C),{id:N.id}));else{this.unsubscribe(),t==null||t(kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(kr.SUBSCRIBED);return}}).receive("error",m=>{t==null||t(kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Xd(this,Dn.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xd(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:h,join:m}=Dn;if(r&&[u,d,h,m].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var E,w,C;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(w=x.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(x=>x.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var E,w,C,b,S,P;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const T=x.id,N=(E=x.filter)===null||E===void 0?void 0:E.event;return T&&((w=n.ids)===null||w===void 0?void 0:w.includes(T))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const T=(S=(b=x==null?void 0:x.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return T==="*"||T===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof v=="object"&&"ids"in v){const E=v.data,{schema:w,table:C,commit_timestamp:b,type:S,errors:P}=E;v=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:b,eventType:S,new:{},old:{},errors:P}),this._getPayloadRecords(E))}x.callback(v,r)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&tm.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dn.close,{},t)}_onError(t){this._on(Dn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ay(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ay(t.columns,t.old_record)),n}}const WA=()=>{},HA=typeof WebSocket<"u",ZA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VA{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=OA,this.params={},this.timeout=Kx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=WA,this.conn=null,this.sendBuffer=[],this.serializer=new IA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>_o(async()=>{const{default:d}=await Promise.resolve().then(()=>To);return{default:d}},void 0).then(({default:d})=>d(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${t}/${kf.websocket}`,this.httpEndpoint=Yx(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,l)=>l(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Gx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(HA){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qA(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),_o(async()=>{const{default:t}=await import("./browser-BBihqX-A.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RA}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Js.connecting:return Ui.Connecting;case Js.open:return Ui.Open;case Js.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}channel(t,n={config:{}}){const r=new tm(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:o}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Dn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(MA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:l}=n;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,l)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([ZA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class qA{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Js.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class nm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class KA extends nm{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ef extends nm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var GA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(g){l(g)}}function d(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};const Jx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_o(async()=>{const{default:r}=await Promise.resolve().then(()=>To);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},QA=()=>GA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _o(()=>Promise.resolve().then(()=>To),void 0)).Response:Response}),Cf=e=>{if(Array.isArray(e))return e.map(n=>Cf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Cf(r)}),t};var fs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(g){l(g)}}function d(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};const eh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YA=(e,t,n)=>fs(void 0,void 0,void 0,function*(){const r=yield QA();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new KA(eh(s),e.status||500))}).catch(s=>{t(new Ef(eh(s),s))}):t(new Ef(eh(e),e))}),JA=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function sl(e,t,n,r,s,o){return fs(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,JA(t,r,s,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>YA(d,u,r))})})}function Xu(e,t,n,r){return fs(this,void 0,void 0,function*(){return sl(e,"GET",t,n,r)})}function Yr(e,t,n,r,s){return fs(this,void 0,void 0,function*(){return sl(e,"POST",t,r,s,n)})}function XA(e,t,n,r,s){return fs(this,void 0,void 0,function*(){return sl(e,"PUT",t,r,s,n)})}function eL(e,t,n,r){return fs(this,void 0,void 0,function*(){return sl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Xx(e,t,n,r,s){return fs(this,void 0,void 0,function*(){return sl(e,"DELETE",t,r,s,n)})}var Vt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(g){l(g)}}function d(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};const tL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nL{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Jx(s)}uploadOrUpdate(t,n,r,s){return Vt(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},dy),s);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const h=this._removeEmptyFolders(n),m=this._getFinalPath(h),g=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:o,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),v=yield g.json();return g.ok?{data:{path:h,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Vt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let d;const h=Object.assign({upsert:dy.upsert},s),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const g=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:m}),v=yield g.json();return g.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(d){if(pt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Vt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Yr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new nm("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Vt(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Vt(this,void 0,void 0,function*(){try{return{data:{path:(yield Yr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Vt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Yr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Vt(this,void 0,void 0,function*(){try{const s=yield Yr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}download(t,n){return Vt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield Xu(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(pt(u))return{data:null,error:u};throw u}})}info(t){return Vt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Xu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cf(r),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}exists(t){return Vt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield eL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pt(r)&&r instanceof Ef){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&s.push(d);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(t){return Vt(this,void 0,void 0,function*(){try{return{data:yield Xx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Vt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tL),n),{prefix:t||""});return{data:yield Yr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const rL="2.7.1",iL={"X-Client-Info":`storage-js/${rL}`};var Ps=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(g){l(g)}}function d(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};class sL{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},iL),n),this.fetch=Jx(r)}listBuckets(){return Ps(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ps(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ps(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ps(this,void 0,void 0,function*(){try{return{data:yield XA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ps(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ps(this,void 0,void 0,function*(){try{return{data:yield Xx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}}class oL extends sL{constructor(t,n={},r){super(t,n,r)}from(t){return new nL(this.url,this.headers,t,this.fetch)}}const aL="2.49.8";let ia="";typeof Deno<"u"?ia="deno":typeof document<"u"?ia="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ia="react-native":ia="node";const lL={"X-Client-Info":`supabase-js-${ia}/${aL}`},uL={headers:lL},cL={schema:"public"},dL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hL={};var fL=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(g){l(g)}}function d(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};const pL=e=>{let t;return e?t=e:typeof fetch>"u"?t=Dx:t=fetch,(...n)=>t(...n)},mL=()=>typeof Headers>"u"?zx:Headers,gL=(e,t,n)=>{const r=pL(n),s=mL();return(o,l)=>fL(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let h=new s(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};var vL=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(g){l(g)}}function d(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};function yL(e){return e.endsWith("/")?e:e+"/"}function _L(e,t){var n,r;const{db:s,auth:o,realtime:l,global:u}=e,{db:d,auth:h,realtime:m,global:g}=t,v={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},m),l),global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>vL(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const eb="2.69.1",As=30*1e3,Tf=3,th=Tf*As,wL="http://localhost:9999",xL="supabase.auth.token",bL={"X-Client-Info":`gotrue-js/${eb}`},jf="X-Supabase-Api-Version",tb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kL=6e5;class rm extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class PL extends rm{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function EL(e){return ye(e)&&e.name==="AuthApiError"}class nb extends rm{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ti extends rm{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Vr extends Ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CL(e){return ye(e)&&e.name==="AuthSessionMissingError"}class nh extends Ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gl extends Ti{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ql extends Ti{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TL(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class hy extends Ti{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nf extends Ti{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function rh(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class fy extends Ti{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ga extends Ti{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const py="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),my=` 	
\r=`.split(""),jL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<my.length;t+=1)e[my[t].charCodeAt(0)]=-2;for(let t=0;t<py.length;t+=1)e[py[t].charCodeAt(0)]=t;return e})();function rb(e,t,n){const r=jL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gy(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{LL(l,r,n)};for(let l=0;l<e.length;l+=1)rb(e.charCodeAt(l),s,o);return t.join("")}function NL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function AL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}NL(r,t)}}function LL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function OL(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)rb(e.charCodeAt(s),n,r);return new Uint8Array(t)}function RL(e){const t=[];return AL(e,n=>t.push(n)),new Uint8Array(t)}function ML(e){return Math.round(Date.now()/1e3)+e}function IL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const nr=()=>typeof window<"u"&&typeof document<"u",zi={tested:!1,writable:!1},va=()=>{if(!nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zi.tested)return zi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zi.tested=!0,zi.writable=!0}catch{zi.tested=!0,zi.writable=!1}return zi.writable};function DL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const ib=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_o(async()=>{const{default:r}=await Promise.resolve().then(()=>To);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},zL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sb=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Yl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jl=async(e,t)=>{await e.removeItem(t)};class Fc{constructor(){this.promise=new Fc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Fc.promiseConstructor=Promise;function ih(e){const t=e.split(".");if(t.length!==3)throw new ga("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!SL.test(t[r]))throw new ga("JWT not in base64url format");return{header:JSON.parse(gy(t[0])),payload:JSON.parse(gy(t[1])),signature:OL(t[2]),raw:{header:t[0],payload:t[1]}}}async function FL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $L(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function BL(e){return("0"+e.toString(16)).substr(-2)}function UL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,BL).join("")}async function WL(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function HL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await WL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Es(e,t,n=!1){const r=UL();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await sb(e,`${t}-code-verifier`,s);const o=await HL(r);return[o,r===o?"plain":"s256"]}const ZL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VL(e){const t=e.headers.get(jf);if(!t||!t.match(ZL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function KL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var GL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Bi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QL=[502,503,504];async function vy(e){var t;if(!zL(e))throw new Nf(Bi(e),0);if(QL.includes(e.status))throw new Nf(Bi(e),e.status);let n;try{n=await e.json()}catch(o){throw new nb(Bi(o),o)}let r;const s=VL(e);if(s&&s.getTime()>=tb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new fy(Bi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Vr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new fy(Bi(n),e.status,n.weak_password.reasons);throw new PL(Bi(n),e.status||500,r)}const YL=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Pe(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[jf]||(o[jf]=tb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await JL(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function JL(e,t,n,r,s,o){const l=YL(t,r,s,o);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Nf(Bi(d),0)}if(u.ok||await vy(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await vy(d)}}function qr(e){var t;let n=null;nO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ML(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function yy(e){const t=qr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ei(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XL(e){return{data:e,error:null}}function eO(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,l=GL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function tO(e){return e}function nO(e){return e.access_token&&e.refresh_token&&e.expires_in}var rO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class iO{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ib(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ei})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=rO(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:eO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ei})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},m=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:tO});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(E=>{const w=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);h[`${C}Page`]=w}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(ye(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ei})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ei})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ei})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}}const sO={getItem:e=>va()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{va()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{va()&&globalThis.localStorage.removeItem(e)}};function _y(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function oO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cs={debug:!!(globalThis&&va()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ob extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aO extends ob{}async function lO(e,t,n){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}oO();const uO={url:wL,storageKey:xL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wy(e,t,n){return await n()}class Ba{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ba.nextInstanceID,Ba.nextInstanceID+=1,this.instanceID>0&&nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},uO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ib(s.fetch),this.lock=s.lock||wy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lO:this.lock=wy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:va()?this.storage=sO:(this.memoryStorage={},this.storage=_y(this.memoryStorage)):(this.memoryStorage={},this.storage=_y(this.memoryStorage)),nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=DL(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),nr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),TL(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?{error:n}:{error:new nb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:qr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:m,password:g,options:v}=t;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await Es(this.storage,this.storageKey)),o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:E},xform:qr})}else if("phone"in t){const{phone:m,password:g,options:v}=t;o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:qr})}else throw new Gl("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:yy})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:yy})}else throw new Gl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new nh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Yl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:l}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:qr});if(await Jl(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new nh}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(ye(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:l}=t,u=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qr}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new nh}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,l;try{if("email"in t){const{email:u,options:d}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Es(this.storage,this.storageKey));const{error:g}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:u,options:d}=t,{data:h,error:m}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new Gl("You must provide either an email or phone number.")}catch(u){if(ye(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:qr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Es(this.storage,this.storageKey)),await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:XL})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Vr;const{error:s}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:l}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:l,error:u}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Gl("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Yl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<th:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,h,m)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,m))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ei}):await this._useSession(async n=>{var r,s,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vr}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:ei})})}catch(n){if(ye(n))return CL(n)&&(await this._removeSession(),await Jl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Vr;const l=s.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Es(this.storage,this.storageKey));const{data:h,error:m}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:ei});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:l}=ih(t.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ye(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Vr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!nr())throw new Ql("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ql(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new hy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ql("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hy("No code detected.");const{data:S,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=t;if(!o||!u||!l||!h)throw new Ql("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(u);let v=m+g;d&&(v=parseInt(d));const x=v-m;x*1e3<=As&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const E=v-g;m-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,v,m):m-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,v,m);const{data:w,error:C}=await this._getUser(o);if(C)throw C;const b={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:g,expires_at:v,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(r){if(ye(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Yl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(EL(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Jl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=IL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Es(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var l,u,d,h,m;const{data:g,error:v}=o;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return nr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ye(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)throw l;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $L(async s=>(s>0&&await FL(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qr})),(s,o)=>{const l=200*Math.pow(2,s);return o&&rh(o)&&Date.now()+l-r<As})}catch(r){if(this._debug(n,"error",r),ye(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),nr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Yl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<th;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${th}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),rh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Vr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fc;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Vr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),ye(o)){const l={session:null,error:o};return rh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Jl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),As);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/As);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${As}ms, refresh threshold is ${Tf} ticks`),s<=Tf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ob)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Es(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:h}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:u}=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ih(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r||(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+kL>Date.now()))return r;const{data:s,error:o}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ga("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(l=>l.kid===t),!r)throw new ga("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:x,error:E}=await this.getSession();if(E||!x.session)return{data:null,error:E};r=x.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:d}}=ih(r);if(qL(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:s,signature:l},error:null}}const h=KL(s.alg),m=await this.fetchJwk(s.kid,n),g=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,l,RL(`${u}.${d}`)))throw new ga("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}Ba.nextInstanceID=0;const cO=Ba;class dO extends cO{constructor(t){super(t)}}var hO=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(g){l(g)}}function d(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};class fO{constructor(t,n,r){var s,o,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=yL(t),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:cL,realtime:hL,auth:Object.assign(Object.assign({},dL),{storageKey:h}),global:uL},g=_L(r??{},m);this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=gL(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new AA(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new aA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new oL(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return hO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:l,lock:u,debug:d},h,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dO({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:u,debug:d,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new VA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pO=(e,t,n)=>new fO(e,t,n),mO="https://kvlfpyfvifspllbtafnj.supabase.co",gO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2bGZweWZ2aWZzcGxsYnRhZm5qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE5NjczNTksImV4cCI6MjA1NzU0MzM1OX0.Kjo7ersYhaPxFCIbYP2YVaSNGhCso3aMvnh50nIfwiM",de=pO(mO,gO),ab=_.createContext(void 0);function vO({children:e}){const[t,n]=_.useState(null),[r,s]=_.useState(!0);_.useEffect(()=>{de.auth.getSession().then(({data:d})=>{var h;n(((h=d.session)==null?void 0:h.user)??null),s(!1)});const{data:u}=de.auth.onAuthStateChange((d,h)=>{n((h==null?void 0:h.user)??null),s(!1)});return()=>{u==null||u.subscription.unsubscribe()}},[]);const l={user:t,loading:r,signOut:async()=>{await de.auth.signOut(),n(null)},setUser:n};return f.jsx(ab.Provider,{value:l,children:e})}function Vn(){const e=_.useContext(ab);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function vt({className:e,...t}){return f.jsx("div",{className:xe("animate-pulse rounded-md bg-muted",e),...t})}function yO(){const{user:e,loading:t}=Vn(),n=gr();return t?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx(vt,{className:"h-8 w-8 rounded-full"})}):e?f.jsx(Jp,{}):f.jsx(Yp,{to:"/login",state:{from:n},replace:!0})}function _O(){const{user:e,loading:t}=Vn();return gr(),t?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx(vt,{className:"h-8 w-8 rounded-full"})}):e?f.jsx(Yp,{to:"/",replace:!0}):f.jsx(Jp,{})}function wO(){const{user:e,loading:t}=Vn(),n=gr(),[r,s]=_.useState(null);return _.useEffect(()=>{(async()=>{if(!e){s(!1);return}try{const{data:l,error:u}=await de.from("users").select("role").eq("id",e.id).single();if(u){console.error("Error checking admin status:",u),s(!1);return}s((l==null?void 0:l.role)==="admin")}catch(l){console.error("Error in checkAdminStatus:",l),s(!1)}})()},[e]),t||r===null?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx(vt,{className:"h-8 w-8 rounded-full"})}):!e||!r?f.jsx(Yp,{to:"/login",state:{from:n},replace:!0}):f.jsx(Jp,{})}function xy({children:e}){const t=Zn(),n=gr(),{user:r,setUser:s}=Vn();return _.useEffect(()=>{const{data:{subscription:o}}=de.auth.onAuthStateChange(async(d,h)=>{d==="TOKEN_REFRESHED"?s((h==null?void 0:h.user)??null):d==="SIGNED_OUT"&&(s(null),t("/login",{state:{from:n.pathname,message:"Your session has expired. Please sign in again."},replace:!0}))}),l=async()=>{const{data:{session:d},error:h}=await de.auth.getSession();(h||!d)&&(s(null),t("/login",{state:{from:n.pathname,message:"Your session has expired. Please sign in again."},replace:!0}))};l();const u=setInterval(l,5*60*1e3);return()=>{o.unsubscribe(),clearInterval(u)}},[t,n,s]),f.jsx(f.Fragment,{children:e})}const xO=Sc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-200 focus-visible:ring-opacity-75 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-900 text-white hover:bg-gray-800",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const l=r?os:"button";return f.jsx(l,{className:xe(xO({variant:t,size:n,className:e})),ref:o,...s})});Ce.displayName="Button";const ls=_.forwardRef(({className:e,type:t,...n},r)=>f.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ls.displayName="Input";var bO="Label",lb=_.forwardRef((e,t)=>f.jsx(Ye.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));lb.displayName=bO;var ub=lb;const SO=Sc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),es=_.forwardRef(({className:e,...t},n)=>f.jsx(ub,{ref:n,className:xe(SO(),e),...t}));es.displayName=ub.displayName;const hn=_.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));hn.displayName="Card";const fr=_.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));fr.displayName="CardHeader";const jr=_.forwardRef(({className:e,...t},n)=>f.jsx("h3",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));jr.displayName="CardTitle";const cb=_.forwardRef(({className:e,...t},n)=>f.jsx("p",{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));cb.displayName="CardDescription";const fn=_.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:xe("p-6 pt-0",e),...t}));fn.displayName="CardContent";const db=_.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",e),...t}));db.displayName="CardFooter";const kO=Sc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hb=_.forwardRef(({className:e,variant:t,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:xe(kO({variant:t}),e),...n}));hb.displayName="Alert";const PO=_.forwardRef(({className:e,...t},n)=>f.jsx("h5",{ref:n,className:xe("mb-1 font-medium leading-none tracking-tight",e),...t}));PO.displayName="AlertTitle";const fb=_.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:xe("text-sm [&_p]:leading-relaxed",e),...t}));fb.displayName="AlertDescription";const pb=({type:e})=>{const[t,n]=_.useState(""),[r,s]=_.useState(""),[o,l]=_.useState("user"),[u,d]=_.useState(!1),[h,m]=_.useState(!1),[g,v]=_.useState(null),{toast:x}=Xa(),E=Zn(),w=async b=>{if(b.preventDefault(),m(!0),v(null),e==="signup"){const{data:S,error:P}=await de.auth.signUp({email:t,password:r});if(P){v(P.message),m(!1);return}S.user&&await de.from("users").insert([{id:S.user.id,email:t,role:o}]),x({title:"Success",description:"Account created! You can now log in."}),E("/login"),m(!1)}else{const{data:S,error:P}=await de.auth.signInWithPassword({email:t,password:r});if(P){v(P.message),m(!1);return}const T=S.user.id;let{data:N,error:M}=await de.from("users").select("*").eq("id",T).single();if(!N){const{error:O}=await de.from("users").insert([{id:T,email:t,role:o}]);if(O){v("Login succeeded, but failed to create user profile."),m(!1);return}({data:N,error:M}=await de.from("users").select("*").eq("id",T).single())}M?v("Login succeeded, but failed to fetch user metadata."):(x({title:"Success",description:"Logged in successfully!"}),E("/")),m(!1)}},C=()=>d(!u);return f.jsxs(hn,{className:"w-full max-w-md mx-auto animate-fade-in",children:[f.jsxs(fr,{className:"space-y-1",children:[f.jsx(jr,{className:"text-2xl font-semibold tracking-tight",children:e==="login"?"Sign in to your account":"Create an account"}),f.jsx(cb,{children:e==="login"?"Enter your email and password to sign in":"Enter your email, password, and role to create an account"})]}),f.jsxs("form",{onSubmit:w,children:[f.jsxs(fn,{className:"space-y-4",children:[g&&f.jsxs(hb,{variant:"destructive",className:"mb-4",children:[f.jsx(UE,{className:"h-4 w-4 mr-2"}),f.jsx(fb,{children:g})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(es,{htmlFor:"email",children:"Email"}),f.jsx(ls,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:b=>n(b.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(es,{htmlFor:"password",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(ls,{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:r,onChange:b=>s(b.target.value),required:!0,className:"pr-10"}),f.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600 hover:text-gray-900",onClick:C,children:u?f.jsx(HE,{className:"h-4 w-4"}):f.jsx(ZE,{className:"h-4 w-4"})})]})]}),e==="signup"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(es,{htmlFor:"role",children:"Role"}),f.jsxs("select",{id:"role",value:o,onChange:b=>l(b.target.value),className:"w-full border rounded px-2 py-2",children:[f.jsx("option",{value:"admin",children:"Admin"}),f.jsx("option",{value:"user",children:"User"})]})]})]}),f.jsxs(db,{className:"flex flex-col",children:[f.jsx(Ce,{type:"submit",className:"w-full transition-all duration-300 bg-gray-900 hover:bg-white hover:text-gray-900 border-2 border-gray-900 text-white",disabled:h,children:h?f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin mr-2"}),e==="login"?"Signing in...":"Creating account..."]}):e==="login"?"Sign in":"Create account"}),e==="login"&&null]})]})]})},im="/assets/LogoWide.png",EO=()=>f.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-4",children:[f.jsx("img",{src:im,alt:"UndergroundIQ",className:"h-12 w-auto mb-8"}),f.jsx(pb,{type:"login"})]}),CO=()=>f.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-4",children:[f.jsx("img",{src:im,alt:"UndergroundIQ",className:"h-12 w-auto mb-8"}),f.jsx(pb,{type:"signup"})]}),TO=()=>(gr(),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})),Xl="https://newtiny-api.bluestakes.org/api";function jO(e){return e.reduce((t,n)=>{const r=t.find(s=>s.ticket===n.ticket);return!r||Number(n.revision)>Number(r.revision)?[...t.filter(o=>o.ticket!==n.ticket),n]:t},[])}const ur={async getAllTickets(e){const t=[];let r=0;const s=new Date,l=new Date(s.getTime()-28*24*60*60*1e3).toISOString().split("T")[0],u=s.toISOString().split("T")[0];let d=!0;try{for(;d;){const h=new URL(`${Xl}/tickets/search`);h.searchParams.append("limit","100"),h.searchParams.append("start",l),h.searchParams.append("end",u),r>0&&h.searchParams.append("offset",r.toString());const m=await fetch(h.toString(),{method:"GET",headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});if(!m.ok)throw new Error("Failed to fetch tickets from Blue Stakes");const g=await m.json(),v=Array.isArray(g)?g:g.data||[];t.push(...v),v.length<100?d=!1:r+=100}return jO(t)}catch(h){throw console.error("Error fetching all tickets:",h),h}},async getTicketSecondaryFunction(e,t){try{const n=await fetch(`${Xl}/tickets/${e}/secondary-functions`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});if(!n.ok)throw new Error(`Failed to fetch secondary functions for ticket ${e}`);return await n.json()}catch(n){throw console.error(`Error fetching secondary functions for ticket ${e}:`,n),n}},async getTicketByNumber(e,t){const n=t.startsWith("Bearer ")?t:"Bearer "+t,r=await fetch(`${Xl}/tickets/${e}`,{headers:{accept:"application/json",Authorization:n}});if(!r.ok)throw new Error("Failed to fetch ticket");return await r.json()},async getResponsesByTicket(e,t){try{const n=t.startsWith("Bearer ")?t:"Bearer "+t,r=await fetch(`${Xl}/tickets/${e}/responses`,{headers:{accept:"application/json",Authorization:n}});if(!r.ok){const d=await r.json().catch(()=>({}));throw new Error(d.message||"Failed to fetch ticket responses")}const s=await r.json(),o=Array.isArray(s)?s[0]:s;return((o==null?void 0:o.responses)||[]).map((d,h)=>({member_id:d.member_id||0,ticket:d.ticket||e,revision:d.revision||"",response:d.response||"",responded:d.responded||"",response_by:d.response_by||"",source:d.source||"",sys_id:d.sys_id||"",comments:d.comments||"",description:d.description||"",mbcode:d.mbcode||"",mbname:d.name||"",mbdescription:d.mbdescription||"",status:d.status||""}))}catch(n){throw console.error(`Error fetching responses for ticket ${e}:`,n),n}},async getTicketsNeedingUpdate(e){try{const{data:t,error:n}=await de.from("project_tickets").select("ticket_number");if(n)throw new Error(`Failed to fetch assigned tickets: ${n.message}`);if(!(t!=null&&t.length))return[];const r=new Date;r.setDate(r.getDate()+7);const o=(await Promise.all(t.map(async({ticket_number:u})=>{try{return await this.getTicketByNumber(u,e)}catch(d){return console.error(`Error fetching details for ticket ${u}:`,d),null}}))).filter(u=>{if(!(u!=null&&u.replace_by_date))return!1;const d=new Date(u.replace_by_date);return d<=r&&d>=new Date});return(await Promise.all(o.map(async u=>{try{return(await this.getTicketSecondaryFunction(u.ticket,e)).update?u:null}catch(d){return console.error(`Error checking secondary functions for ticket ${u.ticket}:`,d),null}}))).filter(u=>u!==null)}catch(t){throw console.error("Error fetching tickets needing update:",t),t}},async assignTicketToProject(e,t){const{error:n}=await de.from("project_tickets").insert([{project_id:t,ticket_number:e}]);if(n)throw new Error(`Failed to assign ticket to project: ${n.message}`)},async loginToBluestakes(e,t){const n=await fetch("https://newtin-api.bluestakes.org/api/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e,password:t}).toString()}),r=await n.json();if(!n.ok||!r.Authorization)throw new Error("Failed to log in to Blue Stakes");return r.Authorization.replace("Bearer ","")}};function sm(){const{user:e}=Vn(),[t,n]=_.useState(null),[r,s]=_.useState(!0),[o,l]=_.useState(null),u=async()=>{if(!e){n(null);return}s(!0),l(null);try{const{data:d,error:h}=await de.from("users").select("company_id").eq("id",e.id).single();if(h)throw h;if(!(d!=null&&d.company_id))throw new Error("User does not have a company_id");const{data:m,error:g}=await de.from("companies").select("bluestakes_username, bluestakes_password").eq("id",d.company_id).single();if(g)throw g;if(!(m!=null&&m.bluestakes_username)||!(m!=null&&m.bluestakes_password))throw new Error("Company Blue Stakes credentials not found");const v=await ur.loginToBluestakes(m.bluestakes_username,m.bluestakes_password);n(v)}catch(d){const h=d instanceof Error?d.message:"Failed to authenticate with Blue Stakes";l(h),n(null)}finally{s(!1)}};return _.useEffect(()=>{e?u():(n(null),s(!1))},[e]),{bluestakesToken:t,isLoading:r,error:o,refreshToken:u}}var Af={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(pn,function(n){var r="1.9.4";function s(i){var a,c,p,y;for(c=1,p=arguments.length;c<p;c++){y=arguments[c];for(a in y)i[a]=y[a]}return i}var o=Object.create||function(){function i(){}return function(a){return i.prototype=a,new i}}();function l(i,a){var c=Array.prototype.slice;if(i.bind)return i.bind.apply(i,c.call(arguments,1));var p=c.call(arguments,2);return function(){return i.apply(a,p.length?p.concat(c.call(arguments)):arguments)}}var u=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++u),i._leaflet_id}function h(i,a,c){var p,y,k,j;return j=function(){p=!1,y&&(k.apply(c,y),y=!1)},k=function(){p?y=arguments:(i.apply(c,arguments),setTimeout(j,a),p=!0)},k}function m(i,a,c){var p=a[1],y=a[0],k=p-y;return i===p&&c?i:((i-y)%k+k)%k+y}function g(){return!1}function v(i,a){if(a===!1)return i;var c=Math.pow(10,a===void 0?6:a);return Math.round(i*c)/c}function x(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function E(i){return x(i).split(/\s+/)}function w(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?o(i.options):{});for(var c in a)i.options[c]=a[c];return i.options}function C(i,a,c){var p=[];for(var y in i)p.push(encodeURIComponent(c?y.toUpperCase():y)+"="+encodeURIComponent(i[y]));return(!a||a.indexOf("?")===-1?"?":"&")+p.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function S(i,a){return i.replace(b,function(c,p){var y=a[p];if(y===void 0)throw new Error("No value provided for variable "+c);return typeof y=="function"&&(y=y(a)),y})}var P=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function T(i,a){for(var c=0;c<i.length;c++)if(i[c]===a)return c;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var O=0;function z(i){var a=+new Date,c=Math.max(0,16-(a-O));return O=a+c,window.setTimeout(i,c)}var K=window.requestAnimationFrame||M("RequestAnimationFrame")||z,W=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function J(i,a,c){if(c&&K===z)i.call(a);else return K.call(window,l(i,a))}function G(i){i&&W.call(window,i)}var oe={__proto__:null,extend:s,create:o,bind:l,get lastId(){return u},stamp:d,throttle:h,wrapNum:m,falseFn:g,formatNum:v,trim:x,splitWords:E,setOptions:w,getParamString:C,template:S,isArray:P,indexOf:T,emptyImageUrl:N,requestFn:K,cancelFn:W,requestAnimFrame:J,cancelAnimFrame:G};function F(){}F.extend=function(i){var a=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,p=o(c);p.constructor=a,a.prototype=p;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(a[y]=this[y]);return i.statics&&s(a,i.statics),i.includes&&(Z(i.includes),s.apply(null,[p].concat(i.includes))),s(p,i),delete p.statics,delete p.includes,p.options&&(p.options=c.options?o(c.options):{},s(p.options,i.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,j=p._initHooks.length;k<j;k++)p._initHooks[k].call(this)}},a},F.include=function(i){var a=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},F.mergeOptions=function(i){return s(this.prototype.options,i),this},F.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),c=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Z(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=P(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(i,a,c){if(typeof i=="object")for(var p in i)this._on(p,i[p],a);else{i=E(i);for(var y=0,k=i.length;y<k;y++)this._on(i[y],a,c)}return this},off:function(i,a,c){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var p in i)this._off(p,i[p],a);else{i=E(i);for(var y=arguments.length===1,k=0,j=i.length;k<j;k++)y?this._off(i[k]):this._off(i[k],a,c)}return this},_on:function(i,a,c,p){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,c)===!1){c===this&&(c=void 0);var y={fn:a,ctx:c};p&&(y.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(y)}},_off:function(i,a,c){var p,y,k;if(this._events&&(p=this._events[i],!!p)){if(arguments.length===1){if(this._firingCount)for(y=0,k=p.length;y<k;y++)p[y].fn=g;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var j=this._listens(i,a,c);if(j!==!1){var R=p[j];this._firingCount&&(R.fn=g,this._events[i]=p=p.slice()),p.splice(j,1)}}},fire:function(i,a,c){if(!this.listens(i,c))return this;var p=s({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var y=this._events[i];if(y){this._firingCount=this._firingCount+1||1;for(var k=0,j=y.length;k<j;k++){var R=y[k],I=R.fn;R.once&&this.off(i,I,R.ctx),I.call(R.ctx||this,p)}this._firingCount--}}return c&&this._propagateEvent(p),this},listens:function(i,a,c,p){typeof i!="string"&&console.warn('"string" type argument expected');var y=a;typeof a!="function"&&(p=!!a,y=void 0,c=void 0);var k=this._events&&this._events[i];if(k&&k.length&&this._listens(i,y,c)!==!1)return!0;if(p){for(var j in this._eventParents)if(this._eventParents[j].listens(i,a,c,p))return!0}return!1},_listens:function(i,a,c){if(!this._events)return!1;var p=this._events[i]||[];if(!a)return!!p.length;c===this&&(c=void 0);for(var y=0,k=p.length;y<k;y++)if(p[y].fn===a&&p[y].ctx===c)return y;return!1},once:function(i,a,c){if(typeof i=="object")for(var p in i)this._on(p,i[p],a,!0);else{i=E(i);for(var y=0,k=i.length;y<k;y++)this._on(i[y],a,c,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var ie=F.extend(X);function A(i,a,c){this.x=c?Math.round(i):i,this.y=c?Math.round(a):a}var V=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(i){return this.clone()._add($(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract($(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new A(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new A(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(i){i=$(i);var a=i.x-this.x,c=i.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(i){return i=$(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=$(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function $(i,a,c){return i instanceof A?i:P(i)?new A(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new A(i.x,i.y):new A(i,a,c)}function H(i,a){if(i)for(var c=a?[i,a]:i,p=0,y=c.length;p<y;p++)this.extend(c[p])}H.prototype={extend:function(i){var a,c;if(!i)return this;if(i instanceof A||typeof i[0]=="number"||"x"in i)a=c=$(i);else if(i=te(i),a=i.min,c=i.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(i){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,c;return typeof i[0]=="number"||i instanceof A?i=$(i):i=te(i),i instanceof H?(a=i.min,c=i.max):a=c=i,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(i){i=te(i);var a=this.min,c=this.max,p=i.min,y=i.max,k=y.x>=a.x&&p.x<=c.x,j=y.y>=a.y&&p.y<=c.y;return k&&j},overlaps:function(i){i=te(i);var a=this.min,c=this.max,p=i.min,y=i.max,k=y.x>a.x&&p.x<c.x,j=y.y>a.y&&p.y<c.y;return k&&j},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,c=this.max,p=Math.abs(a.x-c.x)*i,y=Math.abs(a.y-c.y)*i;return te($(a.x-p,a.y-y),$(c.x+p,c.y+y))},equals:function(i){return i?(i=te(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function te(i,a){return!i||i instanceof H?i:new H(i,a)}function le(i,a){if(i)for(var c=a?[i,a]:i,p=0,y=c.length;p<y;p++)this.extend(c[p])}le.prototype={extend:function(i){var a=this._southWest,c=this._northEast,p,y;if(i instanceof pe)p=i,y=i;else if(i instanceof le){if(p=i._southWest,y=i._northEast,!p||!y)return this}else return i?this.extend(D(i)||fe(i)):this;return!a&&!c?(this._southWest=new pe(p.lat,p.lng),this._northEast=new pe(y.lat,y.lng)):(a.lat=Math.min(p.lat,a.lat),a.lng=Math.min(p.lng,a.lng),c.lat=Math.max(y.lat,c.lat),c.lng=Math.max(y.lng,c.lng)),this},pad:function(i){var a=this._southWest,c=this._northEast,p=Math.abs(a.lat-c.lat)*i,y=Math.abs(a.lng-c.lng)*i;return new le(new pe(a.lat-p,a.lng-y),new pe(c.lat+p,c.lng+y))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof pe||"lat"in i?i=D(i):i=fe(i);var a=this._southWest,c=this._northEast,p,y;return i instanceof le?(p=i.getSouthWest(),y=i.getNorthEast()):p=y=i,p.lat>=a.lat&&y.lat<=c.lat&&p.lng>=a.lng&&y.lng<=c.lng},intersects:function(i){i=fe(i);var a=this._southWest,c=this._northEast,p=i.getSouthWest(),y=i.getNorthEast(),k=y.lat>=a.lat&&p.lat<=c.lat,j=y.lng>=a.lng&&p.lng<=c.lng;return k&&j},overlaps:function(i){i=fe(i);var a=this._southWest,c=this._northEast,p=i.getSouthWest(),y=i.getNorthEast(),k=y.lat>a.lat&&p.lat<c.lat,j=y.lng>a.lng&&p.lng<c.lng;return k&&j},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=fe(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(i,a){return i instanceof le?i:new le(i,a)}function pe(i,a,c){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,c!==void 0&&(this.alt=+c)}pe.prototype={equals:function(i,a){if(!i)return!1;i=D(i);var c=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return c<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return ae.distance(this,D(i))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,c=a/Math.cos(Math.PI/180*this.lat);return fe([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function D(i,a,c){return i instanceof pe?i:P(i)&&typeof i[0]!="object"?i.length===3?new pe(i[0],i[1],i[2]):i.length===2?new pe(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new pe(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new pe(i,a,c)}var ee={latLngToPoint:function(i,a){var c=this.projection.project(i),p=this.scale(a);return this.transformation._transform(c,p)},pointToLatLng:function(i,a){var c=this.scale(a),p=this.transformation.untransform(i,c);return this.projection.unproject(p)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(i),p=this.transformation.transform(a.min,c),y=this.transformation.transform(a.max,c);return new H(p,y)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?m(i.lng,this.wrapLng,!0):i.lng,c=this.wrapLat?m(i.lat,this.wrapLat,!0):i.lat,p=i.alt;return new pe(c,a,p)},wrapLatLngBounds:function(i){var a=i.getCenter(),c=this.wrapLatLng(a),p=a.lat-c.lat,y=a.lng-c.lng;if(p===0&&y===0)return i;var k=i.getSouthWest(),j=i.getNorthEast(),R=new pe(k.lat-p,k.lng-y),I=new pe(j.lat-p,j.lng-y);return new le(R,I)}},ae=s({},ee,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var c=Math.PI/180,p=i.lat*c,y=a.lat*c,k=Math.sin((a.lat-i.lat)*c/2),j=Math.sin((a.lng-i.lng)*c/2),R=k*k+Math.cos(p)*Math.cos(y)*j*j,I=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*I}}),Ae=6378137,Te={R:Ae,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,c=this.MAX_LATITUDE,p=Math.max(Math.min(c,i.lat),-c),y=Math.sin(p*a);return new A(this.R*i.lng*a,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(i){var a=180/Math.PI;return new pe((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:function(){var i=Ae*Math.PI;return new H([-i,-i],[i,i])}()};function ze(i,a,c,p){if(P(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=c,this._d=p}ze.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new A((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function Oe(i,a,c,p){return new ze(i,a,c,p)}var ct=s({},ae,{code:"EPSG:3857",projection:Te,transformation:function(){var i=.5/(Math.PI*Te.R);return Oe(i,.5,-i,.5)}()}),Ot=s({},ct,{code:"EPSG:900913"});function Rt(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function rt(i,a){var c="",p,y,k,j,R,I;for(p=0,k=i.length;p<k;p++){for(R=i[p],y=0,j=R.length;y<j;y++)I=R[y],c+=(y?"L":"M")+I.x+" "+I.y;c+=a?ue.svg?"z":"x":""}return c||"M0 0"}var Q=document.documentElement.style,ce="ActiveXObject"in window,se=ce&&!document.addEventListener,ke="msLaunchUri"in navigator&&!("documentMode"in document),_t=Yn("webkit"),Ht=Yn("android"),it=Yn("android 2")||Yn("android 3"),Fr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Kn=Ht&&Yn("Google")&&Fr<537&&!("AudioNode"in window),jn=!!window.opera,Mt=!ke&&Yn("chrome"),Gn=Yn("gecko")&&!_t&&!jn&&!ce,It=!Mt&&Yn("safari"),Ni=Yn("phantom"),Ai="OTransition"in Q,Le=navigator.platform.indexOf("Win")===0,et=ce&&"transition"in Q,Qn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,wt="MozPerspective"in Q,Xt=!window.L_DISABLE_3D&&(et||Qn||wt)&&!Ai&&!Ni,Li=typeof orientation<"u"||Yn("mobile"),me=Li&&_t,Fe=Li&&Qn,Me=!window.PointerEvent&&window.MSPointerEvent,en=!!(window.PointerEvent||Me),tn="ontouchstart"in window||!!window.TouchEvent,ps=!window.L_NO_TOUCH&&(tn||en),Bc=Li&&jn,i1=Li&&Gn,s1=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,o1=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",g,a),window.removeEventListener("testPassiveEventSupport",g,a)}catch{}return i}(),a1=function(){return!!document.createElement("canvas").getContext}(),Uc=!!(document.createElementNS&&Rt("svg").createSVGRect),l1=!!Uc&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),u1=!Uc&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),c1=navigator.platform.indexOf("Mac")===0,d1=navigator.platform.indexOf("Linux")===0;function Yn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var ue={ie:ce,ielt9:se,edge:ke,webkit:_t,android:Ht,android23:it,androidStock:Kn,opera:jn,chrome:Mt,gecko:Gn,safari:It,phantom:Ni,opera12:Ai,win:Le,ie3d:et,webkit3d:Qn,gecko3d:wt,any3d:Xt,mobile:Li,mobileWebkit:me,mobileWebkit3d:Fe,msPointer:Me,pointer:en,touch:ps,touchNative:tn,mobileOpera:Bc,mobileGecko:i1,retina:s1,passiveEvents:o1,canvas:a1,svg:Uc,vml:u1,inlineSvg:l1,mac:c1,linux:d1},ym=ue.msPointer?"MSPointerDown":"pointerdown",_m=ue.msPointer?"MSPointerMove":"pointermove",wm=ue.msPointer?"MSPointerUp":"pointerup",xm=ue.msPointer?"MSPointerCancel":"pointercancel",Wc={touchstart:ym,touchmove:_m,touchend:wm,touchcancel:xm},bm={touchstart:v1,touchmove:ll,touchend:ll,touchcancel:ll},ms={},Sm=!1;function h1(i,a,c){return a==="touchstart"&&g1(),bm[a]?(c=bm[a].bind(this,c),i.addEventListener(Wc[a],c,!1),c):(console.warn("wrong event specified:",a),g)}function f1(i,a,c){if(!Wc[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(Wc[a],c,!1)}function p1(i){ms[i.pointerId]=i}function m1(i){ms[i.pointerId]&&(ms[i.pointerId]=i)}function km(i){delete ms[i.pointerId]}function g1(){Sm||(document.addEventListener(ym,p1,!0),document.addEventListener(_m,m1,!0),document.addEventListener(wm,km,!0),document.addEventListener(xm,km,!0),Sm=!0)}function ll(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in ms)a.touches.push(ms[c]);a.changedTouches=[a],i(a)}}function v1(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&xt(a),ll(i,a)}function y1(i){var a={},c,p;for(p in i)c=i[p],a[p]=c&&c.bind?c.bind(i):c;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var _1=200;function w1(i,a){i.addEventListener("dblclick",a);var c=0,p;function y(k){if(k.detail!==1){p=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var j=jm(k);if(!(j.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})&&!j.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement}))){var R=Date.now();R-c<=_1?(p++,p===2&&a(y1(k))):p=1,c=R}}}return i.addEventListener("click",y),{dblclick:a,simDblclick:y}}function x1(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var Hc=dl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),No=dl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pm=No==="webkitTransition"||No==="OTransition"?No+"End":"transitionend";function Em(i){return typeof i=="string"?document.getElementById(i):i}function Ao(i,a){var c=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(i,null);c=p?p[a]:null}return c==="auto"?null:c}function Ne(i,a,c){var p=document.createElement(i);return p.className=a||"",c&&c.appendChild(p),p}function qe(i){var a=i.parentNode;a&&a.removeChild(i)}function ul(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function gs(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function vs(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Zc(i,a){if(i.classList!==void 0)return i.classList.contains(a);var c=cl(i);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function _e(i,a){if(i.classList!==void 0)for(var c=E(a),p=0,y=c.length;p<y;p++)i.classList.add(c[p]);else if(!Zc(i,a)){var k=cl(i);Vc(i,(k?k+" ":"")+a)}}function tt(i,a){i.classList!==void 0?i.classList.remove(a):Vc(i,x((" "+cl(i)+" ").replace(" "+a+" "," ")))}function Vc(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function cl(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function yn(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&b1(i,a)}function b1(i,a){var c=!1,p="DXImageTransform.Microsoft.Alpha";try{c=i.filters.item(p)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):i.style.filter+=" progid:"+p+"(opacity="+a+")"}function dl(i){for(var a=document.documentElement.style,c=0;c<i.length;c++)if(i[c]in a)return i[c];return!1}function Oi(i,a,c){var p=a||new A(0,0);i.style[Hc]=(ue.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(c?" scale("+c+")":"")}function st(i,a){i._leaflet_pos=a,ue.any3d?Oi(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function Ri(i){return i._leaflet_pos||new A(0,0)}var Lo,Oo,qc;if("onselectstart"in document)Lo=function(){ge(window,"selectstart",xt)},Oo=function(){$e(window,"selectstart",xt)};else{var Ro=dl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Lo=function(){if(Ro){var i=document.documentElement.style;qc=i[Ro],i[Ro]="none"}},Oo=function(){Ro&&(document.documentElement.style[Ro]=qc,qc=void 0)}}function Kc(){ge(window,"dragstart",xt)}function Gc(){$e(window,"dragstart",xt)}var hl,Qc;function Yc(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(fl(),hl=i,Qc=i.style.outlineStyle,i.style.outlineStyle="none",ge(window,"keydown",fl))}function fl(){hl&&(hl.style.outlineStyle=Qc,hl=void 0,Qc=void 0,$e(window,"keydown",fl))}function Cm(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Jc(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var S1={__proto__:null,TRANSFORM:Hc,TRANSITION:No,TRANSITION_END:Pm,get:Em,getStyle:Ao,create:Ne,remove:qe,empty:ul,toFront:gs,toBack:vs,hasClass:Zc,addClass:_e,removeClass:tt,setClass:Vc,getClass:cl,setOpacity:yn,testProp:dl,setTransform:Oi,setPosition:st,getPosition:Ri,get disableTextSelection(){return Lo},get enableTextSelection(){return Oo},disableImageDrag:Kc,enableImageDrag:Gc,preventOutline:Yc,restoreOutline:fl,getSizedParentNode:Cm,getScale:Jc};function ge(i,a,c,p){if(a&&typeof a=="object")for(var y in a)ed(i,y,a[y],c);else{a=E(a);for(var k=0,j=a.length;k<j;k++)ed(i,a[k],c,p)}return this}var Jn="_leaflet_events";function $e(i,a,c,p){if(arguments.length===1)Tm(i),delete i[Jn];else if(a&&typeof a=="object")for(var y in a)td(i,y,a[y],c);else if(a=E(a),arguments.length===2)Tm(i,function(R){return T(a,R)!==-1});else for(var k=0,j=a.length;k<j;k++)td(i,a[k],c,p);return this}function Tm(i,a){for(var c in i[Jn]){var p=c.split(/\d/)[0];(!a||a(p))&&td(i,p,null,null,c)}}var Xc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ed(i,a,c,p){var y=a+d(c)+(p?"_"+d(p):"");if(i[Jn]&&i[Jn][y])return this;var k=function(R){return c.call(p||i,R||window.event)},j=k;!ue.touchNative&&ue.pointer&&a.indexOf("touch")===0?k=h1(i,a,k):ue.touch&&a==="dblclick"?k=w1(i,k):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(Xc[a]||a,k,ue.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(k=function(R){R=R||window.event,rd(i,R)&&j(R)},i.addEventListener(Xc[a],k,!1)):i.addEventListener(a,j,!1):i.attachEvent("on"+a,k),i[Jn]=i[Jn]||{},i[Jn][y]=k}function td(i,a,c,p,y){y=y||a+d(c)+(p?"_"+d(p):"");var k=i[Jn]&&i[Jn][y];if(!k)return this;!ue.touchNative&&ue.pointer&&a.indexOf("touch")===0?f1(i,a,k):ue.touch&&a==="dblclick"?x1(i,k):"removeEventListener"in i?i.removeEventListener(Xc[a]||a,k,!1):i.detachEvent("on"+a,k),i[Jn][y]=null}function Mi(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function nd(i){return ed(i,"wheel",Mi),this}function Mo(i){return ge(i,"mousedown touchstart dblclick contextmenu",Mi),i._leaflet_disable_click=!0,this}function xt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Ii(i){return xt(i),Mi(i),this}function jm(i){if(i.composedPath)return i.composedPath();for(var a=[],c=i.target;c;)a.push(c),c=c.parentNode;return a}function Nm(i,a){if(!a)return new A(i.clientX,i.clientY);var c=Jc(a),p=c.boundingClientRect;return new A((i.clientX-p.left)/c.x-a.clientLeft,(i.clientY-p.top)/c.y-a.clientTop)}var k1=ue.linux&&ue.chrome?window.devicePixelRatio:ue.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Am(i){return ue.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/k1:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function rd(i,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==i;)c=c.parentNode}catch{return!1}return c!==i}var P1={__proto__:null,on:ge,off:$e,stopPropagation:Mi,disableScrollPropagation:nd,disableClickPropagation:Mo,preventDefault:xt,stop:Ii,getPropagationPath:jm,getMousePosition:Nm,getWheelDelta:Am,isExternalTarget:rd,addListener:ge,removeListener:$e},Lm=ie.extend({run:function(i,a,c,p){this.stop(),this._el=i,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Ri(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var c=this._startPos.add(this._offset.multiplyBy(i));a&&c._round(),st(this._el,c),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Ee=ie.extend({options:{crs:ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=w(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(D(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=No&&ue.any3d&&!ue.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ge(this._proxy,Pm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(D(i),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=s({animate:c.animate},c.zoom),c.pan=s({animate:c.animate,duration:c.duration},c.pan));var p=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,c.zoom):this._tryAnimatedPan(i,c.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,c){var p=this.getZoomScale(a),y=this.getSize().divideBy(2),k=i instanceof A?i:this.latLngToContainerPoint(i),j=k.subtract(y).multiplyBy(1-1/p),R=this.containerPointToLatLng(y.add(j));return this.setView(R,a,{zoom:c})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():fe(i);var c=$(a.paddingTopLeft||a.padding||[0,0]),p=$(a.paddingBottomRight||a.padding||[0,0]),y=this.getBoundsZoom(i,!1,c.add(p));if(y=typeof a.maxZoom=="number"?Math.min(a.maxZoom,y):y,y===1/0)return{center:i.getCenter(),zoom:y};var k=p.subtract(c).divideBy(2),j=this.project(i.getSouthWest(),y),R=this.project(i.getNorthEast(),y),I=this.unproject(j.add(R).divideBy(2).add(k),y);return{center:I,zoom:y}},fitBounds:function(i,a){if(i=fe(i),!i.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(i,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=$(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Lm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){_e(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,c){if(c=c||{},c.animate===!1||!ue.any3d)return this.setView(i,a,c);this._stop();var p=this.project(this.getCenter()),y=this.project(i),k=this.getSize(),j=this._zoom;i=D(i),a=a===void 0?j:a;var R=Math.max(k.x,k.y),I=R*this.getZoomScale(j,a),U=y.distanceTo(p)||1,ne=1.42,he=ne*ne;function be(ot){var Pl=ot?-1:1,fS=ot?I:R,pS=I*I-R*R+Pl*he*he*U*U,mS=2*fS*he*U,pd=pS/mS,hg=Math.sqrt(pd*pd+1)-pd,gS=hg<1e-9?-18:Math.log(hg);return gS}function Dt(ot){return(Math.exp(ot)-Math.exp(-ot))/2}function ft(ot){return(Math.exp(ot)+Math.exp(-ot))/2}function wn(ot){return Dt(ot)/ft(ot)}var Zt=be(0);function Ss(ot){return R*(ft(Zt)/ft(Zt+ne*ot))}function uS(ot){return R*(ft(Zt)*wn(Zt+ne*ot)-Dt(Zt))/he}function cS(ot){return 1-Math.pow(1-ot,1.5)}var dS=Date.now(),cg=(be(1)-Zt)/ne,hS=c.duration?1e3*c.duration:1e3*cg*.8;function dg(){var ot=(Date.now()-dS)/hS,Pl=cS(ot)*cg;ot<=1?(this._flyToFrame=J(dg,this),this._move(this.unproject(p.add(y.subtract(p).multiplyBy(uS(Pl)/U)),j),this.getScaleZoom(R/Ss(Pl),j),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),dg.call(this),this},flyToBounds:function(i,a){var c=this._getBoundsCenterZoom(i,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(i){return i=fe(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var c=this.getCenter(),p=this._limitCenter(c,this._zoom,fe(i));return c.equals(p)||this.panTo(p,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var c=$(a.paddingTopLeft||a.padding||[0,0]),p=$(a.paddingBottomRight||a.padding||[0,0]),y=this.project(this.getCenter()),k=this.project(i),j=this.getPixelBounds(),R=te([j.min.add(c),j.max.subtract(p)]),I=R.getSize();if(!R.contains(k)){this._enforcingBounds=!0;var U=k.subtract(R.getCenter()),ne=R.extend(k).getSize().subtract(I);y.x+=U.x<0?-ne.x:ne.x,y.y+=U.y<0?-ne.y:ne.y,this.panTo(this.unproject(y),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),p=a.divideBy(2).round(),y=c.divideBy(2).round(),k=p.subtract(y);return!k.x&&!k.y?this:(i.animate&&i.pan?this.panBy(k):(i.pan&&this._rawPanBy(k),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,i):navigator.geolocation.getCurrentPosition(a,c,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,c=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,c=i.coords.longitude,p=new pe(a,c),y=p.toBounds(i.coords.accuracy*2),k=this._locateOptions;if(k.setView){var j=this.getBoundsZoom(y);this.setView(p,k.maxZoom?Math.min(j,k.maxZoom):j)}var R={latlng:p,bounds:y,timestamp:i.timestamp};for(var I in i.coords)typeof i.coords[I]=="number"&&(R[I]=i.coords[I]);this.fire("locationfound",R)}},addHandler:function(i,a){if(!a)return this;var c=this[i]=new a(this);return this._handlers.push(c),this.options[i]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)qe(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var c="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),p=Ne("div",c,a||this._mapPane);return i&&(this._panes[i]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),c=this.unproject(i.getTopRight());return new le(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,c){i=fe(i),c=$(c||[0,0]);var p=this.getZoom()||0,y=this.getMinZoom(),k=this.getMaxZoom(),j=i.getNorthWest(),R=i.getSouthEast(),I=this.getSize().subtract(c),U=te(this.project(R,p),this.project(j,p)).getSize(),ne=ue.any3d?this.options.zoomSnap:1,he=I.x/U.x,be=I.y/U.y,Dt=a?Math.max(he,be):Math.min(he,be);return p=this.getScaleZoom(Dt,p),ne&&(p=Math.round(p/(ne/100))*(ne/100),p=a?Math.ceil(p/ne)*ne:Math.floor(p/ne)*ne),Math.max(y,Math.min(k,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var c=this._getTopLeftPoint(i,a);return new H(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(i)/c.scale(a)},getScaleZoom:function(i,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var p=c.zoom(i*c.scale(a));return isNaN(p)?1/0:p},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(D(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng($(i),a)},layerPointToLatLng:function(i){var a=$(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(D(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(D(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(fe(i))},distance:function(i,a){return this.options.crs.distance(D(i),D(a))},containerPointToLayerPoint:function(i){return $(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return $(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint($(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(D(i)))},mouseEventToContainerPoint:function(i){return Nm(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=Em(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ge(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&ue.any3d,_e(i,"leaflet-container"+(ue.touch?" leaflet-touch":"")+(ue.retina?" leaflet-retina":"")+(ue.ielt9?" leaflet-oldie":"")+(ue.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Ao(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),st(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(i.markerPane,"leaflet-zoom-hide"),_e(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,c){st(this._mapPane,new A(0,0));var p=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var y=this._zoom!==a;this._moveStart(y,c)._move(i,a)._moveEnd(y),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,c,p){a===void 0&&(a=this._zoom);var y=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),p?c&&c.pinch&&this.fire("zoom",c):((y||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){st(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var a=i?$e:ge;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),ue.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var c=[],p,y=a==="mouseout"||a==="mouseover",k=i.target||i.srcElement,j=!1;k;){if(p=this._targets[d(k)],p&&(a==="click"||a==="preclick")&&this._draggableMoved(p)){j=!0;break}if(p&&p.listens(a,!0)&&(y&&!rd(k,i)||(c.push(p),y))||k===this._container)break;k=k.parentNode}return!c.length&&!j&&!y&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var c=i.type;c==="mousedown"&&Yc(a),this._fireDOMEvent(i,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,c){if(i.type==="click"){var p=s({},i);p.type="preclick",this._fireDOMEvent(p,p.type,c)}var y=this._findEventTargets(i,a);if(c){for(var k=[],j=0;j<c.length;j++)c[j].listens(a,!0)&&k.push(c[j]);y=k.concat(y)}if(y.length){a==="contextmenu"&&xt(i);var R=y[0],I={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var U=R.getLatLng&&(!R._radius||R._radius<=10);I.containerPoint=U?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(i),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=U?R.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(j=0;j<y.length;j++)if(y[j].fire(a,I,!0),I.originalEvent._stopped||y[j].options.bubblingMouseEvents===!1&&T(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return Ri(this._mapPane)||new A(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var c=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var c=this.getSize()._divideBy(2);return this.project(i,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,c){var p=this._getNewPixelOrigin(c,a);return this.project(i,a)._subtract(p)},_latLngBoundsToNewLayerBounds:function(i,a,c){var p=this._getNewPixelOrigin(c,a);return te([this.project(i.getSouthWest(),a)._subtract(p),this.project(i.getNorthWest(),a)._subtract(p),this.project(i.getSouthEast(),a)._subtract(p),this.project(i.getNorthEast(),a)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,c){if(!c)return i;var p=this.project(i,a),y=this.getSize().divideBy(2),k=new H(p.subtract(y),p.add(y)),j=this._getBoundsOffset(k,c,a);return Math.abs(j.x)<=1&&Math.abs(j.y)<=1?i:this.unproject(p.add(j),a)},_limitOffset:function(i,a){if(!a)return i;var c=this.getPixelBounds(),p=new H(c.min.add(i),c.max.add(i));return i.add(this._getBoundsOffset(p,a))},_getBoundsOffset:function(i,a,c){var p=te(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),y=p.min.subtract(i.min),k=p.max.subtract(i.max),j=this._rebound(y.x,-k.x),R=this._rebound(y.y,-k.y);return new A(j,R)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),c=this.getMaxZoom(),p=ue.any3d?this.options.zoomSnap:1;return p&&(i=Math.round(i/p)*p),Math.max(a,Math.min(c,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var c=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var i=this._proxy=Ne("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var c=Hc,p=this._proxy.style[c];Oi(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),p===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();Oi(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(a),y=this._getCenterOffset(i)._divideBy(1-1/p);return c.animate!==!0&&!this.getSize().contains(y)?!1:(J(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,c,p){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function E1(i,a){return new Ee(i,a)}var Nn=F.extend({options:{position:"topright"},initialize:function(i){w(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),c=this.getPosition(),p=i._controlCorners[c];return _e(a,"leaflet-control"),c.indexOf("bottom")!==-1?p.insertBefore(a,p.firstChild):p.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Io=function(i){return new Nn(i)};Ee.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",c=this._controlContainer=Ne("div",a+"control-container",this._container);function p(y,k){var j=a+y+" "+a+k;i[y+k]=Ne("div",j,c)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)qe(this._controlCorners[i]);qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Om=Nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,c,p){return c<p?-1:p<c?1:0}},initialize:function(i,a,c){w(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in i)this._addLayer(i[p],p);for(p in a)this._addLayer(a[p],p,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Nn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=Ne("div",i),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Mo(a),nd(a);var p=this._section=Ne("section",i+"-list");c&&(this._map.on("click",this.collapse,this),ge(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Ne("a",i+"-toggle",a);y.href="#",y.title="Layers",y.setAttribute("role","button"),ge(y,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){xt(k),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Ne("div",i+"-base",p),this._separator=Ne("div",i+"-separator",p),this._overlaysList=Ne("div",i+"-overlays",p),a.appendChild(p)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,c){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(p,y){return this.options.sortFunction(p.layer,y.layer,p.name,y.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ul(this._baseLayersList),ul(this._overlaysList),this._layerControlInputs=[];var i,a,c,p,y=0;for(c=0;c<this._layers.length;c++)p=this._layers[c],this._addItem(p),a=a||p.overlay,i=i||!p.overlay,y+=p.overlay?0:1;return this.options.hideSingleBase&&(i=i&&y>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(d(i.target)),c=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(i,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=c,p.firstChild},_addItem:function(i){var a=document.createElement("label"),c=this._map.hasLayer(i.layer),p;i.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=c):p=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(p),p.layerId=d(i.layer),ge(p,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+i.name;var k=document.createElement("span");a.appendChild(k),k.appendChild(p),k.appendChild(y);var j=i.overlay?this._overlaysList:this._baseLayersList;return j.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,c,p=[],y=[];this._handlingClick=!0;for(var k=i.length-1;k>=0;k--)a=i[k],c=this._getLayer(a.layerId).layer,a.checked?p.push(c):a.checked||y.push(c);for(k=0;k<y.length;k++)this._map.hasLayer(y[k])&&this._map.removeLayer(y[k]);for(k=0;k<p.length;k++)this._map.hasLayer(p[k])||this._map.addLayer(p[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,c,p=this._map.getZoom(),y=i.length-1;y>=0;y--)a=i[y],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&p<c.options.minZoom||c.options.maxZoom!==void 0&&p>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,ge(i,"click",xt),this.expand();var a=this;setTimeout(function(){$e(i,"click",xt),a._preventClick=!1})}}),C1=function(i,a,c){return new Om(i,a,c)},id=Nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",c=Ne("div",a+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,c,p,y){var k=Ne("a",c,p);return k.innerHTML=i,k.href="#",k.title=a,k.setAttribute("role","button"),k.setAttribute("aria-label",a),Mo(k),ge(k,"click",Ii),ge(k,"click",y,this),ge(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";tt(this._zoomInButton,a),tt(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(_e(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(_e(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ee.mergeOptions({zoomControl:!0}),Ee.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new id,this.addControl(this.zoomControl))});var T1=function(i){return new id(i)},Rm=Nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",c=Ne("div",a),p=this.options;return this._addScales(p,a+"-line",c),i.on(p.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),c},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,c){i.metric&&(this._mScale=Ne("div",a,c)),i.imperial&&(this._iScale=Ne("div",a,c))},_update:function(){var i=this._map,a=i.getSize().y/2,c=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/i)},_updateImperial:function(i){var a=i*3.2808399,c,p,y;a>5280?(c=a/5280,p=this._getRoundNum(c),this._updateScale(this._iScale,p+" mi",p/c)):(y=this._getRoundNum(a),this._updateScale(this._iScale,y+" ft",y/a))},_updateScale:function(i,a,c){i.style.width=Math.round(this.options.maxWidth*c)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),c=i/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),j1=function(i){return new Rm(i)},N1='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',sd=Nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ue.inlineSvg?N1+" ":"")+"Leaflet</a>"},initialize:function(i){w(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Ne("div","leaflet-control-attribution"),Mo(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),i.length&&c.push(i.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Ee.mergeOptions({attributionControl:!0}),Ee.addInitHook(function(){this.options.attributionControl&&new sd().addTo(this)});var A1=function(i){return new sd(i)};Nn.Layers=Om,Nn.Zoom=id,Nn.Scale=Rm,Nn.Attribution=sd,Io.layers=C1,Io.zoom=T1,Io.scale=j1,Io.attribution=A1;var Xn=F.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xn.addTo=function(i,a){return i.addHandler(a,this),this};var L1={Events:X},Mm=ue.touch?"touchstart mousedown":"mousedown",$r=ie.extend({options:{clickTolerance:3},initialize:function(i,a,c,p){w(this,p),this._element=i,this._dragStartTarget=a||i,this._preventOutline=c},enable:function(){this._enabled||(ge(this._dragStartTarget,Mm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($r._dragging===this&&this.finishDrag(!0),$e(this._dragStartTarget,Mm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Zc(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){$r._dragging===this&&this.finishDrag();return}if(!($r._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&($r._dragging=this,this._preventOutline&&Yc(this._element),Kc(),Lo(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,c=Cm(this._element);this._startPoint=new A(a.clientX,a.clientY),this._startPos=Ri(this._element),this._parentScale=Jc(c);var p=i.type==="mousedown";ge(document,p?"mousemove":"touchmove",this._onMove,this),ge(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,c=new A(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,xt(i),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),st(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){tt(document.body,"leaflet-dragging"),this._lastTarget&&(tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),$e(document,"mousemove touchmove",this._onMove,this),$e(document,"mouseup touchend touchcancel",this._onUp,this),Gc(),Oo();var a=this._moved&&this._moving;this._moving=!1,$r._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Im(i,a,c){var p,y=[1,4,2,8],k,j,R,I,U,ne,he,be;for(k=0,ne=i.length;k<ne;k++)i[k]._code=Di(i[k],a);for(R=0;R<4;R++){for(he=y[R],p=[],k=0,ne=i.length,j=ne-1;k<ne;j=k++)I=i[k],U=i[j],I._code&he?U._code&he||(be=pl(U,I,he,a,c),be._code=Di(be,a),p.push(be)):(U._code&he&&(be=pl(U,I,he,a,c),be._code=Di(be,a),p.push(be)),p.push(I));i=p}return i}function Dm(i,a){var c,p,y,k,j,R,I,U,ne;if(!i||i.length===0)throw new Error("latlngs not passed");_n(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var he=D([0,0]),be=fe(i),Dt=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());Dt<1700&&(he=od(i));var ft=i.length,wn=[];for(c=0;c<ft;c++){var Zt=D(i[c]);wn.push(a.project(D([Zt.lat-he.lat,Zt.lng-he.lng])))}for(R=I=U=0,c=0,p=ft-1;c<ft;p=c++)y=wn[c],k=wn[p],j=y.y*k.x-k.y*y.x,I+=(y.x+k.x)*j,U+=(y.y+k.y)*j,R+=j*3;R===0?ne=wn[0]:ne=[I/R,U/R];var Ss=a.unproject($(ne));return D([Ss.lat+he.lat,Ss.lng+he.lng])}function od(i){for(var a=0,c=0,p=0,y=0;y<i.length;y++){var k=D(i[y]);a+=k.lat,c+=k.lng,p++}return D([a/p,c/p])}var O1={__proto__:null,clipPolygon:Im,polygonCenter:Dm,centroid:od};function zm(i,a){if(!a||!i.length)return i.slice();var c=a*a;return i=I1(i,c),i=M1(i,c),i}function Fm(i,a,c){return Math.sqrt(Do(i,a,c,!0))}function R1(i,a,c){return Do(i,a,c)}function M1(i,a){var c=i.length,p=typeof Uint8Array<"u"?Uint8Array:Array,y=new p(c);y[0]=y[c-1]=1,ad(i,y,a,0,c-1);var k,j=[];for(k=0;k<c;k++)y[k]&&j.push(i[k]);return j}function ad(i,a,c,p,y){var k=0,j,R,I;for(R=p+1;R<=y-1;R++)I=Do(i[R],i[p],i[y],!0),I>k&&(j=R,k=I);k>c&&(a[j]=1,ad(i,a,c,p,j),ad(i,a,c,j,y))}function I1(i,a){for(var c=[i[0]],p=1,y=0,k=i.length;p<k;p++)D1(i[p],i[y])>a&&(c.push(i[p]),y=p);return y<k-1&&c.push(i[k-1]),c}var $m;function Bm(i,a,c,p,y){var k=p?$m:Di(i,c),j=Di(a,c),R,I,U;for($m=j;;){if(!(k|j))return[i,a];if(k&j)return!1;R=k||j,I=pl(i,a,R,c,y),U=Di(I,c),R===k?(i=I,k=U):(a=I,j=U)}}function pl(i,a,c,p,y){var k=a.x-i.x,j=a.y-i.y,R=p.min,I=p.max,U,ne;return c&8?(U=i.x+k*(I.y-i.y)/j,ne=I.y):c&4?(U=i.x+k*(R.y-i.y)/j,ne=R.y):c&2?(U=I.x,ne=i.y+j*(I.x-i.x)/k):c&1&&(U=R.x,ne=i.y+j*(R.x-i.x)/k),new A(U,ne,y)}function Di(i,a){var c=0;return i.x<a.min.x?c|=1:i.x>a.max.x&&(c|=2),i.y<a.min.y?c|=4:i.y>a.max.y&&(c|=8),c}function D1(i,a){var c=a.x-i.x,p=a.y-i.y;return c*c+p*p}function Do(i,a,c,p){var y=a.x,k=a.y,j=c.x-y,R=c.y-k,I=j*j+R*R,U;return I>0&&(U=((i.x-y)*j+(i.y-k)*R)/I,U>1?(y=c.x,k=c.y):U>0&&(y+=j*U,k+=R*U)),j=i.x-y,R=i.y-k,p?j*j+R*R:new A(y,k)}function _n(i){return!P(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Um(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_n(i)}function Wm(i,a){var c,p,y,k,j,R,I,U;if(!i||i.length===0)throw new Error("latlngs not passed");_n(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ne=D([0,0]),he=fe(i),be=he.getNorthWest().distanceTo(he.getSouthWest())*he.getNorthEast().distanceTo(he.getNorthWest());be<1700&&(ne=od(i));var Dt=i.length,ft=[];for(c=0;c<Dt;c++){var wn=D(i[c]);ft.push(a.project(D([wn.lat-ne.lat,wn.lng-ne.lng])))}for(c=0,p=0;c<Dt-1;c++)p+=ft[c].distanceTo(ft[c+1])/2;if(p===0)U=ft[0];else for(c=0,k=0;c<Dt-1;c++)if(j=ft[c],R=ft[c+1],y=j.distanceTo(R),k+=y,k>p){I=(k-p)/y,U=[R.x-I*(R.x-j.x),R.y-I*(R.y-j.y)];break}var Zt=a.unproject($(U));return D([Zt.lat+ne.lat,Zt.lng+ne.lng])}var z1={__proto__:null,simplify:zm,pointToSegmentDistance:Fm,closestPointOnSegment:R1,clipSegment:Bm,_getEdgeIntersection:pl,_getBitCode:Di,_sqClosestPointOnSegment:Do,isFlat:_n,_flat:Um,polylineCenter:Wm},ld={project:function(i){return new A(i.lng,i.lat)},unproject:function(i){return new pe(i.y,i.x)},bounds:new H([-180,-90],[180,90])},ud={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,c=this.R,p=i.lat*a,y=this.R_MINOR/c,k=Math.sqrt(1-y*y),j=k*Math.sin(p),R=Math.tan(Math.PI/4-p/2)/Math.pow((1-j)/(1+j),k/2);return p=-c*Math.log(Math.max(R,1e-10)),new A(i.lng*a*c,p)},unproject:function(i){for(var a=180/Math.PI,c=this.R,p=this.R_MINOR/c,y=Math.sqrt(1-p*p),k=Math.exp(-i.y/c),j=Math.PI/2-2*Math.atan(k),R=0,I=.1,U;R<15&&Math.abs(I)>1e-7;R++)U=y*Math.sin(j),U=Math.pow((1-U)/(1+U),y/2),I=Math.PI/2-2*Math.atan(k*U)-j,j+=I;return new pe(j*a,i.x*a/c)}},F1={__proto__:null,LonLat:ld,Mercator:ud,SphericalMercator:Te},$1=s({},ae,{code:"EPSG:3395",projection:ud,transformation:function(){var i=.5/(Math.PI*ud.R);return Oe(i,.5,-i,.5)}()}),Hm=s({},ae,{code:"EPSG:4326",projection:ld,transformation:Oe(1/180,1,-1/180,.5)}),B1=s({},ee,{projection:ld,transformation:Oe(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var c=a.lng-i.lng,p=a.lat-i.lat;return Math.sqrt(c*c+p*p)},infinite:!0});ee.Earth=ae,ee.EPSG3395=$1,ee.EPSG3857=ct,ee.EPSG900913=Ot,ee.EPSG4326=Hm,ee.Simple=B1;var An=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Ee.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=d(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,a){for(var c in this._layers)i.call(a,this._layers[c]);return this},_addLayers:function(i){i=i?P(i)?i:[i]:[];for(var a=0,c=i.length;a<c;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=d(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,c=this._getZoomSpan();for(var p in this._zoomBoundLayers){var y=this._zoomBoundLayers[p].options;i=y.minZoom===void 0?i:Math.min(i,y.minZoom),a=y.maxZoom===void 0?a:Math.max(a,y.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ys=An.extend({initialize:function(i,a){w(this,a),this._layers={};var c,p;if(i)for(c=0,p=i.length;c<p;c++)this.addLayer(i[c])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),c,p;for(c in this._layers)p=this._layers[c],p[i]&&p[i].apply(p,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var c in this._layers)i.call(a,this._layers[c]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),U1=function(i,a){return new ys(i,a)},vr=ys.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),ys.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),ys.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new le;for(var a in this._layers){var c=this._layers[a];i.extend(c.getBounds?c.getBounds():c.getLatLng())}return i}}),W1=function(i,a){return new vr(i,a)},_s=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){w(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var c=this._getIconUrl(i);if(!c){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(p,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(i,a){var c=this.options,p=c[a+"Size"];typeof p=="number"&&(p=[p,p]);var y=$(p),k=$(a==="shadow"&&c.shadowAnchor||c.iconAnchor||y&&y.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(c.className||""),k&&(i.style.marginLeft=-k.x+"px",i.style.marginTop=-k.y+"px"),y&&(i.style.width=y.x+"px",i.style.height=y.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return ue.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function H1(i){return new _s(i)}var zo=_s.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof zo.imagePath!="string"&&(zo.imagePath=this._detectIconPath()),(this.options.imagePath||zo.imagePath)+_s.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(c,p,y){var k=p.exec(c);return k&&k[y]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Ne("div","leaflet-default-icon-path",document.body),a=Ao(i,"background-image")||Ao(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Zm=Xn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new $r(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,c=a._map,p=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,k=Ri(a._icon),j=c.getPixelBounds(),R=c.getPixelOrigin(),I=te(j.min._subtract(R).add(y),j.max._subtract(R).subtract(y));if(!I.contains(k)){var U=$((Math.max(I.max.x,k.x)-I.max.x)/(j.max.x-I.max.x)-(Math.min(I.min.x,k.x)-I.min.x)/(j.min.x-I.min.x),(Math.max(I.max.y,k.y)-I.max.y)/(j.max.y-I.max.y)-(Math.min(I.min.y,k.y)-I.min.y)/(j.min.y-I.min.y)).multiplyBy(p);c.panBy(U,{animate:!1}),this._draggable._newPos._add(U),this._draggable._startPos._add(U),st(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=J(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,c=a._shadow,p=Ri(a._icon),y=a._map.layerPointToLatLng(p);c&&st(c,p),a._latlng=y,i.latlng=y,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),ml=An.extend({options:{icon:new zo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){w(this,a),this._latlng=D(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=D(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=i.icon.createIcon(this._icon),p=!1;c!==this._icon&&(this._icon&&this._removeIcon(),p=!0,i.title&&(c.title=i.title),c.tagName==="IMG"&&(c.alt=i.alt||"")),_e(c,a),i.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(c,"focus",this._panOnFocus,this);var y=i.icon.createShadow(this._shadow),k=!1;y!==this._shadow&&(this._removeShadow(),k=!0),y&&(_e(y,a),y.alt=""),this._shadow=y,i.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&k&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(this._icon,"focus",this._panOnFocus,this),qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qe(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&st(this._icon,i),this._shadow&&st(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Zm)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Zm(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&yn(this._icon,i),this._shadow&&yn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,c=a.iconSize?$(a.iconSize):$(0,0),p=a.iconAnchor?$(a.iconAnchor):$(0,0);i.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:c.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Z1(i,a){return new ml(i,a)}var Br=An.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return w(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gl=Br.extend({options:{fill:!0,radius:10},initialize:function(i,a){w(this,a),this._latlng=D(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=D(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return Br.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,c=this._clickTolerance(),p=[i+c,a+c];this._pxBounds=new H(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function V1(i,a){return new gl(i,a)}var cd=gl.extend({initialize:function(i,a,c){if(typeof a=="number"&&(a=s({},c,{radius:a})),w(this,a),this._latlng=D(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new le(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Br.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,c=this._map,p=c.options.crs;if(p.distance===ae.distance){var y=Math.PI/180,k=this._mRadius/ae.R/y,j=c.project([a+k,i]),R=c.project([a-k,i]),I=j.add(R).divideBy(2),U=c.unproject(I).lat,ne=Math.acos((Math.cos(k*y)-Math.sin(a*y)*Math.sin(U*y))/(Math.cos(a*y)*Math.cos(U*y)))/y;(isNaN(ne)||ne===0)&&(ne=k/Math.cos(Math.PI/180*a)),this._point=I.subtract(c.getPixelOrigin()),this._radius=isNaN(ne)?0:I.x-c.project([U,i-ne]).x,this._radiusY=I.y-j.y}else{var he=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(he).x}this._updateBounds()}});function q1(i,a,c){return new cd(i,a,c)}var yr=Br.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){w(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,c=null,p=Do,y,k,j=0,R=this._parts.length;j<R;j++)for(var I=this._parts[j],U=1,ne=I.length;U<ne;U++){y=I[U-1],k=I[U];var he=p(i,y,k,!0);he<a&&(a=he,c=p(i,y,k))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wm(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=D(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new le,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return _n(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],c=_n(i),p=0,y=i.length;p<y;p++)c?(a[p]=D(i[p]),this._bounds.extend(a[p])):a[p]=this._convertLatLngs(i[p]);return a},_project:function(){var i=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new A(i,i);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,c){var p=i[0]instanceof pe,y=i.length,k,j;if(p){for(j=[],k=0;k<y;k++)j[k]=this._map.latLngToLayerPoint(i[k]),c.extend(j[k]);a.push(j)}else for(k=0;k<y;k++)this._projectLatlngs(i[k],a,c)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,p,y,k,j,R,I;for(c=0,y=0,k=this._rings.length;c<k;c++)for(I=this._rings[c],p=0,j=I.length;p<j-1;p++)R=Bm(I[p],I[p+1],i,p,!0),R&&(a[y]=a[y]||[],a[y].push(R[0]),(R[1]!==I[p+1]||p===j-2)&&(a[y].push(R[1]),y++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,c=0,p=i.length;c<p;c++)i[c]=zm(i[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var c,p,y,k,j,R,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(c=0,k=this._parts.length;c<k;c++)for(R=this._parts[c],p=0,j=R.length,y=j-1;p<j;y=p++)if(!(!a&&p===0)&&Fm(i,R[y],R[p])<=I)return!0;return!1}});function K1(i,a){return new yr(i,a)}yr._flat=Um;var ws=yr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dm(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=yr.prototype._convertLatLngs.call(this,i),c=a.length;return c>=2&&a[0]instanceof pe&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(i){yr.prototype._setLatLngs.call(this,i),_n(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _n(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,c=new A(a,a);if(i=new H(i.min.subtract(c),i.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,y=this._rings.length,k;p<y;p++)k=Im(this._rings[p],i,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,c,p,y,k,j,R,I,U;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(k=0,I=this._parts.length;k<I;k++)for(c=this._parts[k],j=0,U=c.length,R=U-1;j<U;R=j++)p=c[j],y=c[R],p.y>i.y!=y.y>i.y&&i.x<(y.x-p.x)*(i.y-p.y)/(y.y-p.y)+p.x&&(a=!a);return a||yr.prototype._containsPoint.call(this,i,!0)}});function G1(i,a){return new ws(i,a)}var _r=vr.extend({initialize:function(i,a){w(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=P(i)?i:i.features,c,p,y;if(a){for(c=0,p=a.length;c<p;c++)y=a[c],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var k=this.options;if(k.filter&&!k.filter(i))return this;var j=vl(i,k);return j?(j.feature=wl(i),j.defaultOptions=j.options,this.resetStyle(j),k.onEachFeature&&k.onEachFeature(i,j),this.addLayer(j)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function vl(i,a){var c=i.type==="Feature"?i.geometry:i,p=c?c.coordinates:null,y=[],k=a&&a.pointToLayer,j=a&&a.coordsToLatLng||dd,R,I,U,ne;if(!p&&!c)return null;switch(c.type){case"Point":return R=j(p),Vm(k,i,R,a);case"MultiPoint":for(U=0,ne=p.length;U<ne;U++)R=j(p[U]),y.push(Vm(k,i,R,a));return new vr(y);case"LineString":case"MultiLineString":return I=yl(p,c.type==="LineString"?0:1,j),new yr(I,a);case"Polygon":case"MultiPolygon":return I=yl(p,c.type==="Polygon"?1:2,j),new ws(I,a);case"GeometryCollection":for(U=0,ne=c.geometries.length;U<ne;U++){var he=vl({geometry:c.geometries[U],type:"Feature",properties:i.properties},a);he&&y.push(he)}return new vr(y);case"FeatureCollection":for(U=0,ne=c.features.length;U<ne;U++){var be=vl(c.features[U],a);be&&y.push(be)}return new vr(y);default:throw new Error("Invalid GeoJSON object.")}}function Vm(i,a,c,p){return i?i(a,c):new ml(c,p&&p.markersInheritOptions&&p)}function dd(i){return new pe(i[1],i[0],i[2])}function yl(i,a,c){for(var p=[],y=0,k=i.length,j;y<k;y++)j=a?yl(i[y],a-1,c):(c||dd)(i[y]),p.push(j);return p}function hd(i,a){return i=D(i),i.alt!==void 0?[v(i.lng,a),v(i.lat,a),v(i.alt,a)]:[v(i.lng,a),v(i.lat,a)]}function _l(i,a,c,p){for(var y=[],k=0,j=i.length;k<j;k++)y.push(a?_l(i[k],_n(i[k])?0:a-1,c,p):hd(i[k],p));return!a&&c&&y.length>0&&y.push(y[0].slice()),y}function xs(i,a){return i.feature?s({},i.feature,{geometry:a}):wl(a)}function wl(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var fd={toGeoJSON:function(i){return xs(this,{type:"Point",coordinates:hd(this.getLatLng(),i)})}};ml.include(fd),cd.include(fd),gl.include(fd),yr.include({toGeoJSON:function(i){var a=!_n(this._latlngs),c=_l(this._latlngs,a?1:0,!1,i);return xs(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),ws.include({toGeoJSON:function(i){var a=!_n(this._latlngs),c=a&&!_n(this._latlngs[0]),p=_l(this._latlngs,c?2:a?1:0,!0,i);return a||(p=[p]),xs(this,{type:(c?"Multi":"")+"Polygon",coordinates:p})}}),ys.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(i).geometry.coordinates)}),xs(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var c=a==="GeometryCollection",p=[];return this.eachLayer(function(y){if(y.toGeoJSON){var k=y.toGeoJSON(i);if(c)p.push(k.geometry);else{var j=wl(k);j.type==="FeatureCollection"?p.push.apply(p,j.features):p.push(j)}}}),c?xs(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function qm(i,a){return new _r(i,a)}var Q1=qm,xl=An.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,c){this._url=i,this._bounds=fe(a),w(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&gs(this._image),this},bringToBack:function(){return this._map&&vs(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=fe(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:Ne("img");if(_e(a,"leaflet-image-layer"),this._zoomAnimated&&_e(a,"leaflet-zoom-animated"),this.options.className&&_e(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Oi(this._image,c,a)},_reset:function(){var i=this._image,a=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();st(i,a.min),i.style.width=c.x+"px",i.style.height=c.y+"px"},_updateOpacity:function(){yn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Y1=function(i,a,c){return new xl(i,a,c)},Km=xl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:Ne("video");if(_e(a,"leaflet-image-layer"),this._zoomAnimated&&_e(a,"leaflet-zoom-animated"),this.options.className&&_e(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onloadeddata=l(this.fire,this,"load"),i){for(var c=a.getElementsByTagName("source"),p=[],y=0;y<c.length;y++)p.push(c[y].src);this._url=c.length>0?p:[a.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var j=Ne("source");j.src=this._url[k],a.appendChild(j)}}});function J1(i,a,c){return new Km(i,a,c)}var Gm=xl.extend({_initImage:function(){var i=this._image=this._url;_e(i,"leaflet-image-layer"),this._zoomAnimated&&_e(i,"leaflet-zoom-animated"),this.options.className&&_e(i,this.options.className),i.onselectstart=g,i.onmousemove=g}});function X1(i,a,c){return new Gm(i,a,c)}var er=An.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof pe||P(i))?(this._latlng=D(i),w(this,a)):(w(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&yn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&yn(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(yn(this._container,0),this._removeTimeout=setTimeout(l(qe,void 0,this._container),200)):qe(this._container),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=D(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gs(this._container),this},bringToBack:function(){return this._map&&vs(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof vr){a=null;var c=this._source._layers;for(var p in c)if(c[p]._map){a=c[p];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=$(this.options.offset),c=this._getAnchor();this._zoomAnimated?st(this._container,i.add(c)):a=a.add(i).add(c);var p=this._containerBottom=-a.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=p+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Ee.include({_initOverlay:function(i,a,c,p){var y=a;return y instanceof i||(y=new i(p).setContent(a)),c&&y.setLatLng(c),y}}),An.include({_initOverlay:function(i,a,c,p){var y=c;return y instanceof i?(w(y,p),y._source=this):(y=a&&!p?a:new i(p,this),y.setContent(c)),y}});var bl=er.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,er.prototype.openOn.call(this,i)},onAdd:function(i){er.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Br||this._source.on("preclick",Mi))},onRemove:function(i){er.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Br||this._source.off("preclick",Mi))},getEvents:function(){var i=er.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=Ne("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Ne("div",i+"-content-wrapper",a);if(this._contentNode=Ne("div",i+"-content",c),Mo(a),nd(this._contentNode),ge(a,"contextmenu",Mi),this._tipContainer=Ne("div",i+"-tip-container",a),this._tip=Ne("div",i+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Ne("a",i+"-close-button",a);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ge(p,"click",function(y){xt(y),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var c=i.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var p=i.offsetHeight,y=this.options.maxHeight,k="leaflet-popup-scrolled";y&&p>y?(a.height=y+"px",_e(i,k)):tt(i,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),c=this._getAnchor();st(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(Ao(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,p=this._containerWidth,y=new A(this._containerLeft,-c-this._containerBottom);y._add(Ri(this._container));var k=i.layerPointToContainerPoint(y),j=$(this.options.autoPanPadding),R=$(this.options.autoPanPaddingTopLeft||j),I=$(this.options.autoPanPaddingBottomRight||j),U=i.getSize(),ne=0,he=0;k.x+p+I.x>U.x&&(ne=k.x+p-U.x+I.x),k.x-ne-R.x<0&&(ne=k.x-R.x),k.y+c+I.y>U.y&&(he=k.y+c-U.y+I.y),k.y-he-R.y<0&&(he=k.y-R.y),(ne||he)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([ne,he]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),eS=function(i,a){return new bl(i,a)};Ee.mergeOptions({closePopupOnClick:!0}),Ee.include({openPopup:function(i,a,c){return this._initOverlay(bl,i,a,c).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),An.include({bindPopup:function(i,a){return this._popup=this._initOverlay(bl,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof vr||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Ii(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof Br)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Sl=er.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){er.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){er.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=er.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ne("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,c,p=this._map,y=this._container,k=p.latLngToContainerPoint(p.getCenter()),j=p.layerPointToContainerPoint(i),R=this.options.direction,I=y.offsetWidth,U=y.offsetHeight,ne=$(this.options.offset),he=this._getAnchor();R==="top"?(a=I/2,c=U):R==="bottom"?(a=I/2,c=0):R==="center"?(a=I/2,c=U/2):R==="right"?(a=0,c=U/2):R==="left"?(a=I,c=U/2):j.x<k.x?(R="right",a=0,c=U/2):(R="left",a=I+(ne.x+he.x)*2,c=U/2),i=i.subtract($(a,c,!0)).add(ne).add(he),tt(y,"leaflet-tooltip-right"),tt(y,"leaflet-tooltip-left"),tt(y,"leaflet-tooltip-top"),tt(y,"leaflet-tooltip-bottom"),_e(y,"leaflet-tooltip-"+R),st(y,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&yn(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tS=function(i,a){return new Sl(i,a)};Ee.include({openTooltip:function(i,a,c){return this._initOverlay(Sl,i,a,c).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),An.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Sl,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof vr||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(ge(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),ge(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,c,p;this._tooltip.options.sticky&&i.originalEvent&&(c=this._map.mouseEventToContainerPoint(i.originalEvent),p=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(a)}});var Qm=_s.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),c=this.options;if(c.html instanceof Element?(ul(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var p=$(c.bgPos);a.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function nS(i){return new Qm(i)}_s.Default=zo;var Fo=An.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ue.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){w(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),qe(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof A?i:new A(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,c=-i(-1/0,1/0),p=0,y=a.length,k;p<y;p++)k=a[p].style.zIndex,a[p]!==this._container&&k&&(c=i(c,+k));isFinite(c)&&(this.options.zIndex=c+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ue.ielt9){yn(this._container,this.options.opacity);var i=+new Date,a=!1,c=!1;for(var p in this._tiles){var y=this._tiles[p];if(!(!y.current||!y.loaded)){var k=Math.min(1,(i-y.loaded)/200);yn(y.el,k),k<1?a=!0:(y.active?c=!0:this._onOpaqueTile(y),y.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(G(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Ne("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===i?(this._levels[c].el.style.zIndex=a-Math.abs(i-c),this._onUpdateLevel(c)):(qe(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var p=this._levels[i],y=this._map;return p||(p=this._levels[i]={},p.el=Ne("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=a,p.origin=y.project(y.unproject(y.getPixelOrigin()),i).round(),p.zoom=i,this._setZoomTransform(p,y.getCenter(),y.getZoom()),g(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var i,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var p=a.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)qe(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,c,p){var y=Math.floor(i/2),k=Math.floor(a/2),j=c-1,R=new A(+y,+k);R.z=+j;var I=this._tileCoordsToKey(R),U=this._tiles[I];return U&&U.active?(U.retain=!0,!0):(U&&U.loaded&&(U.retain=!0),j>p?this._retainParent(y,k,j,p):!1)},_retainChildren:function(i,a,c,p){for(var y=2*i;y<2*i+2;y++)for(var k=2*a;k<2*a+2;k++){var j=new A(y,k);j.z=c+1;var R=this._tileCoordsToKey(j),I=this._tiles[R];if(I&&I.active){I.retain=!0;continue}else I&&I.loaded&&(I.retain=!0);c+1<p&&this._retainChildren(y,k,c+1,p)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,c,p){var y=Math.round(a);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var k=this.options.updateWhenZooming&&y!==this._tileZoom;(!p||k)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(i),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],i,a)},_setZoomTransform:function(i,a,c){var p=this._map.getZoomScale(c,i.zoom),y=i.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(a,c)).round();ue.any3d?Oi(i.el,y,p):st(i.el,y)},_resetGrid:function(){var i=this._map,a=i.options.crs,c=this._tileSize=this.getTileSize(),p=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],p).x/c.x),Math.ceil(i.project([0,a.wrapLng[1]],p).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],p).y/c.x),Math.ceil(i.project([a.wrapLat[1],0],p).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),p=a.getZoomScale(c,this._tileZoom),y=a.project(i,this._tileZoom).floor(),k=a.getSize().divideBy(p*2);return new H(y.subtract(k),y.add(k))},_update:function(i){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(i),y=this._pxBoundsToTileRange(p),k=y.getCenter(),j=[],R=this.options.keepBuffer,I=new H(y.getBottomLeft().subtract([R,-R]),y.getTopRight().add([R,-R]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var U in this._tiles){var ne=this._tiles[U].coords;(ne.z!==this._tileZoom||!I.contains(new A(ne.x,ne.y)))&&(this._tiles[U].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(i,c);return}for(var he=y.min.y;he<=y.max.y;he++)for(var be=y.min.x;be<=y.max.x;be++){var Dt=new A(be,he);if(Dt.z=this._tileZoom,!!this._isValidTile(Dt)){var ft=this._tiles[this._tileCoordsToKey(Dt)];ft?ft.current=!0:j.push(Dt)}}if(j.sort(function(Zt,Ss){return Zt.distanceTo(k)-Ss.distanceTo(k)}),j.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wn=document.createDocumentFragment();for(be=0;be<j.length;be++)this._addTile(j[be],wn);this._level.el.appendChild(wn)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(i.x<c.min.x||i.x>c.max.x)||!a.wrapLat&&(i.y<c.min.y||i.y>c.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(i);return fe(this.options.bounds).overlaps(p)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,c=this.getTileSize(),p=i.scaleBy(c),y=p.add(c),k=a.unproject(p,i.z),j=a.unproject(y,i.z);return[k,j]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),c=new le(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),c=new A(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(i){var a=this._tiles[i];a&&(qe(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){_e(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=g,i.onmousemove=g,ue.ielt9&&this.options.opacity<1&&yn(i,this.options.opacity)},_addTile:function(i,a){var c=this._getTilePos(i),p=this._tileCoordsToKey(i),y=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(y),this.createTile.length<2&&J(l(this._tileReady,this,i,null,y)),st(y,c),this._tiles[p]={el:y,coords:i,current:!0},a.appendChild(y),this.fire("tileloadstart",{tile:y,coords:i})},_tileReady:function(i,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:i});var p=this._tileCoordsToKey(i);c=this._tiles[p],c&&(c.loaded=+new Date,this._map._fadeAnimated?(yn(c.el,0),G(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(_e(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ue.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new A(this._wrapX?m(i.x,this._wrapX):i.x,this._wrapY?m(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new H(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function rS(i){return new Fo(i)}var bs=Fo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=w(this,a),a.detectRetina&&ue.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var c=document.createElement("img");return ge(c,"load",l(this._tileOnLoad,this,a,c)),ge(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(i),c},getTileUrl:function(i){var a={r:ue.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=c),a["-y"]=c}return S(this._url,s(a,this.options))},_tileOnLoad:function(i,a){ue.ielt9?setTimeout(l(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,c){var p=this.options.errorTileUrl;p&&a.getAttribute("src")!==p&&(a.src=p),i(c,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,p=this.options.zoomOffset;return c&&(i=a-i),i+p},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=g,a.onerror=g,!a.complete)){a.src=N;var c=this._tiles[i].coords;qe(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",N),Fo.prototype._removeTile.call(this,i)},_tileReady:function(i,a,c){if(!(!this._map||c&&c.getAttribute("src")===N))return Fo.prototype._tileReady.call(this,i,a,c)}});function Ym(i,a){return new bs(i,a)}var Jm=bs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var c=s({},this.defaultWmsParams);for(var p in a)p in this.options||(c[p]=a[p]);a=w(this,a);var y=a.detectRetina&&ue.retina?2:1,k=this.getTileSize();c.width=k.x*y,c.height=k.y*y,this.wmsParams=c},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,bs.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),c=this._crs,p=te(c.project(a[0]),c.project(a[1])),y=p.min,k=p.max,j=(this._wmsVersion>=1.3&&this._crs===Hm?[y.y,y.x,k.y,k.x]:[y.x,y.y,k.x,k.y]).join(","),R=bs.prototype.getTileUrl.call(this,i);return R+C(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+j},setParams:function(i,a){return s(this.wmsParams,i),a||this.redraw(),this}});function iS(i,a){return new Jm(i,a)}bs.WMS=Jm,Ym.wms=iS;var wr=An.extend({options:{padding:.1},initialize:function(i){w(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var c=this._map.getZoomScale(a,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,a),k=p.multiplyBy(-c).add(y).subtract(this._map._getNewPixelOrigin(i,a));ue.any3d?Oi(this._container,k,c):st(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new H(c,c.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xm=wr.extend({options:{tolerance:0},getEvents:function(){var i=wr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){wr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");ge(i,"mousemove",this._onMouseMove,this),ge(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ge(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,qe(this._container),$e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wr.prototype._update.call(this);var i=this._bounds,a=this._container,c=i.getSize(),p=ue.retina?2:1;st(a,i.min),a.width=p*c.x,a.height=p*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",ue.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){wr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,c=a.next,p=a.prev;c?c.prev=p:this._drawLast=p,p?p.next=c:this._drawFirst=c,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),c=[],p,y;for(y=0;y<a.length;y++){if(p=Number(a[y]),isNaN(p))return;c.push(p)}i.options._dashArray=c}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)i=p.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var c,p,y,k,j=i._parts,R=j.length,I=this._ctx;if(R){for(I.beginPath(),c=0;c<R;c++){for(p=0,y=j[c].length;p<y;p++)k=j[c][p],I[p?"lineTo":"moveTo"](k.x,k.y);a&&I.closePath()}this._fillStroke(I,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,c=this._ctx,p=Math.max(Math.round(i._radius),1),y=(Math.max(Math.round(i._radiusY),1)||p)/p;y!==1&&(c.save(),c.scale(1,y)),c.beginPath(),c.arc(a.x,a.y/y,p,0,Math.PI*2,!1),y!==1&&c.restore(),this._fillStroke(c,i)}},_fillStroke:function(i,a){var c=a.options;c.fill&&(i.globalAlpha=c.fillOpacity,i.fillStyle=c.fillColor||c.color,i.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=c.opacity,i.lineWidth=c.weight,i.strokeStyle=c.color,i.lineCap=c.lineCap,i.lineJoin=c.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),c,p,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(c))&&(p=c);this._fireEvent(p?[p]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(tt(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var c,p,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(a)&&(p=c);p!==this._hoveredLayer&&(this._handleMouseOut(i),p&&(_e(this._container,"leaflet-interactive"),this._fireEvent([p],i,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,c){this._map._fireDOMEvent(a,c||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var c=a.next,p=a.prev;if(c)c.prev=p;else return;p?p.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var c=a.next,p=a.prev;if(p)p.next=c;else return;c?c.prev=p:p&&(this._drawLast=p),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function eg(i){return ue.canvas?new Xm(i):null}var $o=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),sS={_initContainer:function(){this._container=Ne("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(wr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=$o("shape");_e(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=$o("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;qe(a),i.removeInteractiveTarget(a),delete this._layers[d(i)]},_updateStyle:function(i){var a=i._stroke,c=i._fill,p=i.options,y=i._container;y.stroked=!!p.stroke,y.filled=!!p.fill,p.stroke?(a||(a=i._stroke=$o("stroke")),y.appendChild(a),a.weight=p.weight+"px",a.color=p.color,a.opacity=p.opacity,p.dashArray?a.dashStyle=P(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=p.lineCap.replace("butt","flat"),a.joinstyle=p.lineJoin):a&&(y.removeChild(a),i._stroke=null),p.fill?(c||(c=i._fill=$o("fill")),y.appendChild(c),c.color=p.fillColor||p.color,c.opacity=p.fillOpacity):c&&(y.removeChild(c),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),c=Math.round(i._radius),p=Math.round(i._radiusY||c);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+p+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){gs(i._container)},_bringToBack:function(i){vs(i._container)}},kl=ue.vml?$o:Rt,Bo=wr.extend({_initContainer:function(){this._container=kl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qe(this._container),$e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wr.prototype._update.call(this);var i=this._bounds,a=i.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),st(c,i.min),c.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=kl("path");i.options.className&&_e(a,i.options.className),i.options.interactive&&_e(a,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){qe(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,c=i.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,rt(i._parts,a))},_updateCircle:function(i){var a=i._point,c=Math.max(Math.round(i._radius),1),p=Math.max(Math.round(i._radiusY),1)||c,y="a"+c+","+p+" 0 1,0 ",k=i._empty()?"M0 0":"M"+(a.x-c)+","+a.y+y+c*2+",0 "+y+-c*2+",0 ";this._setPath(i,k)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){gs(i._path)},_bringToBack:function(i){vs(i._path)}});ue.vml&&Bo.include(sS);function tg(i){return ue.svg||ue.vml?new Bo(i):null}Ee.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&eg(i)||tg(i)}});var ng=ws.extend({initialize:function(i,a){ws.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=fe(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function oS(i,a){return new ng(i,a)}Bo.create=kl,Bo.pointsToPath=rt,_r.geometryToLayer=vl,_r.coordsToLatLng=dd,_r.coordsToLatLngs=yl,_r.latLngToCoords=hd,_r.latLngsToCoords=_l,_r.getFeature=xs,_r.asFeature=wl,Ee.mergeOptions({boxZoom:!0});var rg=Xn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Lo(),Kc(),this._startPoint=this._map.mouseEventToContainerPoint(i),ge(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Ne("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new H(this._point,this._startPoint),c=a.getSize();st(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(qe(this._box),tt(this._container,"leaflet-crosshair")),Oo(),Gc(),$e(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ee.addInitHook("addHandler","boxZoom",rg),Ee.mergeOptions({doubleClickZoom:!0});var ig=Xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,c=a.getZoom(),p=a.options.zoomDelta,y=i.originalEvent.shiftKey?c-p:c+p;a.options.doubleClickZoom==="center"?a.setZoom(y):a.setZoomAround(i.containerPoint,y)}});Ee.addInitHook("addHandler","doubleClickZoom",ig),Ee.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sg=Xn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new $r(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tt(this._map._container,"leaflet-grab"),tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=fe(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),c=this._initialWorldOffset,p=this._draggable._newPos.x,y=(p-a+c)%i+a-c,k=(p+a+c)%i-a-c,j=Math.abs(y+c)<Math.abs(k+c)?y:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=j},_onDragEnd:function(i){var a=this._map,c=a.options,p=!c.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),p)a.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,j=c.easeLinearity,R=y.multiplyBy(j/k),I=R.distanceTo([0,0]),U=Math.min(c.inertiaMaxSpeed,I),ne=R.multiplyBy(U/I),he=U/(c.inertiaDeceleration*j),be=ne.multiplyBy(-he/2).round();!be.x&&!be.y?a.fire("moveend"):(be=a._limitOffset(be,a.options.maxBounds),J(function(){a.panBy(be,{duration:he,easeLinearity:j,noMoveStart:!0,animate:!0})}))}}});Ee.addInitHook("addHandler","dragging",sg),Ee.mergeOptions({keyboard:!0,keyboardPanDelta:80});var og=Xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),ge(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,c=i.scrollTop||a.scrollTop,p=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(p,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},c=this.keyCodes,p,y;for(p=0,y=c.left.length;p<y;p++)a[c.left[p]]=[-1*i,0];for(p=0,y=c.right.length;p<y;p++)a[c.right[p]]=[i,0];for(p=0,y=c.down.length;p<y;p++)a[c.down[p]]=[0,i];for(p=0,y=c.up.length;p<y;p++)a[c.up[p]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},c=this.keyCodes,p,y;for(p=0,y=c.zoomIn.length;p<y;p++)a[c.zoomIn[p]]=i;for(p=0,y=c.zoomOut.length;p<y;p++)a[c.zoomOut[p]]=-i},_addHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,c=this._map,p;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(p=this._panKeys[a],i.shiftKey&&(p=$(p).multiplyBy(3)),c.options.maxBounds&&(p=c._limitOffset($(p),c.options.maxBounds)),c.options.worldCopyJump){var y=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(p)));c.panTo(y)}else c.panBy(p)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Ii(i)}}});Ee.addInitHook("addHandler","keyboard",og),Ee.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ag=Xn.extend({addHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=Am(i),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var p=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),p),Ii(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),c=this._map.options.zoomSnap||0;i._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,k=c?Math.ceil(y/c)*c:y,j=i._limitZoom(a+(this._delta>0?k:-k))-a;this._delta=0,this._startTime=null,j&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+j):i.setZoomAround(this._lastMousePos,a+j))}});Ee.addInitHook("addHandler","scrollWheelZoom",ag);var aS=600;Ee.mergeOptions({tapHold:ue.touchNative&&ue.safari&&ue.mobile,tapTolerance:15});var lg=Xn.extend({addHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new A(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ge(document,"touchend",xt),ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),aS),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){$e(document,"touchend",xt),$e(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new A(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var c=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});Ee.addInitHook("addHandler","tapHold",lg),Ee.mergeOptions({touchZoom:ue.touch,bounceAtZoomLimits:!0});var ug=Xn.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(i.touches[0]),p=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(p)._divideBy(2))),this._startDist=c.distanceTo(p),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),xt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(i.touches[0]),p=a.mouseEventToContainerPoint(i.touches[1]),y=c.distanceTo(p)/this._startDist;if(this._zoom=a.getScaleZoom(y,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&y<1||this._zoom>a.getMaxZoom()&&y>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var k=c._add(p)._divideBy(2)._subtract(this._centerPoint);if(y===1&&k.x===0&&k.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var j=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(j,this,!0),xt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ee.addInitHook("addHandler","touchZoom",ug),Ee.BoxZoom=rg,Ee.DoubleClickZoom=ig,Ee.Drag=sg,Ee.Keyboard=og,Ee.ScrollWheelZoom=ag,Ee.TapHold=lg,Ee.TouchZoom=ug,n.Bounds=H,n.Browser=ue,n.CRS=ee,n.Canvas=Xm,n.Circle=cd,n.CircleMarker=gl,n.Class=F,n.Control=Nn,n.DivIcon=Qm,n.DivOverlay=er,n.DomEvent=P1,n.DomUtil=S1,n.Draggable=$r,n.Evented=ie,n.FeatureGroup=vr,n.GeoJSON=_r,n.GridLayer=Fo,n.Handler=Xn,n.Icon=_s,n.ImageOverlay=xl,n.LatLng=pe,n.LatLngBounds=le,n.Layer=An,n.LayerGroup=ys,n.LineUtil=z1,n.Map=Ee,n.Marker=ml,n.Mixin=L1,n.Path=Br,n.Point=A,n.PolyUtil=O1,n.Polygon=ws,n.Polyline=yr,n.Popup=bl,n.PosAnimation=Lm,n.Projection=F1,n.Rectangle=ng,n.Renderer=wr,n.SVG=Bo,n.SVGOverlay=Gm,n.TileLayer=bs,n.Tooltip=Sl,n.Transformation=ze,n.Util=oe,n.VideoOverlay=Km,n.bind=l,n.bounds=te,n.canvas=eg,n.circle=q1,n.circleMarker=V1,n.control=Io,n.divIcon=nS,n.extend=s,n.featureGroup=W1,n.geoJSON=qm,n.geoJson=Q1,n.gridLayer=rS,n.icon=H1,n.imageOverlay=Y1,n.latLng=D,n.latLngBounds=fe,n.layerGroup=U1,n.map=E1,n.marker=Z1,n.point=$,n.polygon=G1,n.polyline=K1,n.popup=eS,n.rectangle=oS,n.setOptions=w,n.stamp=d,n.svg=tg,n.svgOverlay=X1,n.tileLayer=Ym,n.tooltip=tS,n.transformation=Oe,n.version=r,n.videoOverlay=J1;var lS=window.L;n.noConflict=function(){return window.L=lS,this},window.L=n})})(Af,Af.exports);var NO=Af.exports;const Wi=If(NO),AO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",LO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let OO=Wi.icon({iconUrl:AO,shadowUrl:LO,iconSize:[25,41],iconAnchor:[12,41]});Wi.Marker.prototype.options.icon=OO;function ec({lat:e,lng:t,height:n="350px",width:r="100%",zoom:s=17,workAreaGeoJSON:o,showTooltips:l=!0,onPolygonClick:u}){const d=_.useRef(null),h=_.useRef(null),m=_.useRef(null);return _.useEffect(()=>{if(h.current)return d.current?(m.current&&(m.current.remove(),m.current=null),o&&o.type?(m.current=Wi.geoJSON(o,{style:{color:"blue",fillColor:"#0000ff",fillOpacity:.3,weight:2,lineJoin:"round"},onEachFeature:(g,v)=>{if(g.properties){const x=g.properties.ticketNumber;l&&v.bindTooltip(`<div class="text-sm font-medium">Ticket: ${x}</div>`,{sticky:!1,permanent:!1,direction:"top",offset:[0,-10],opacity:.9,className:"custom-tooltip"}),u&&(v.on("click",()=>{u(x)}),v.setStyle({cursor:"pointer"}))}}}).addTo(d.current),d.current.fitBounds(m.current.getBounds())):d.current.setView([e,t],s)):(d.current=Wi.map(h.current,{attributionControl:!1,zoomControl:!1}).setView([e,t],s),Wi.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles  Esri",maxZoom:19}).addTo(d.current),o&&o.type?(m.current=Wi.geoJSON(o,{style:{color:"blue",fillColor:"#0000ff",fillOpacity:.3,weight:2,lineJoin:"round"},onEachFeature:(g,v)=>{if(g.properties){const x=g.properties.ticketNumber;l&&v.bindTooltip(`<div class="text-sm font-medium">Ticket: ${x}</div>`,{sticky:!1,permanent:!1,direction:"top",offset:[0,-10],opacity:.9,className:"custom-tooltip"}),u&&(v.on("click",()=>{u(x)}),v.setStyle({cursor:"pointer"}))}}}).addTo(d.current),d.current.fitBounds(m.current.getBounds())):Wi.marker([e,t]).addTo(d.current)),()=>{d.current&&(d.current.remove(),d.current=null,m.current=null)}},[e,t,s,o,l,u]),f.jsx("div",{ref:h,style:{height:n,width:r,borderRadius:"0.5rem",overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:f.jsx("style",{children:`
          .leaflet-control-attribution { display: none !important; }
          .custom-tooltip {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            padding: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            pointer-events: none;
          }
          .custom-tooltip:before {
            border-top-color: #e5e7eb !important;
            border-right-color: transparent !important;
            left: 50% !important;
            top: 100% !important;
            transform: translateX(-50%) !important;
          }
        `})})}const RO=()=>{const{ticketId:e}=MN(),t=Zn(),[n]=Ix(),r=n.get("project"),[s,o]=_.useState(null),[l,u]=_.useState([]),[d,h]=_.useState(!0),[m,g]=_.useState(!0);Vn();const{bluestakesToken:v,isLoading:x,error:E}=sm(),[w,C]=_.useState(null),[b,S]=_.useState(null),[P,T]=_.useState(!0);Xa(),_.useEffect(()=>{(async()=>{if(!(!e||!v))try{h(!0);const Z=await ur.getTicketByNumber(e,v);o(Z)}catch{}finally{h(!1)}})()},[e,v]),_.useEffect(()=>{const F=Number(n.get("project"));F&&de.from("projects").select("name").eq("id",F).single().then(({data:Z})=>C((Z==null?void 0:Z.name)||null))},[n]),_.useEffect(()=>{(async()=>{if(!(!e||!v))try{g(!0);const Z=await ur.getResponsesByTicket(e,v);u(Z)}catch{}finally{g(!1)}})()},[e,v]),_.useEffect(()=>{(async()=>{if(!(!e||!v))try{T(!0);const Z=await ur.getTicketSecondaryFunction(e,v);S(Z)}catch{}finally{T(!1)}})()},[e,v]);const N=()=>{t(r?`/tickets?project=${encodeURIComponent(r)}`:"/")},M=async F=>{};if(x)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[f.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-200"}),f.jsx("div",{className:"mt-4 h-4 w-24 bg-blue-200 rounded"})]})});if(E)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs(hn,{className:"w-full max-w-md",children:[f.jsx(fr,{children:f.jsx(jr,{className:"text-center text-red-500",children:"Authentication Error"})}),f.jsxs(fn,{className:"text-center",children:[f.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Authentication Error"}),f.jsx("p",{className:"text-muted-foreground",children:E})]}),f.jsxs(Ce,{onClick:N,children:[f.jsx(yu,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})]})]})});if(d)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[f.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-200"}),f.jsx("div",{className:"mt-4 h-4 w-24 bg-blue-200 rounded"})]})});if(!s)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs(hn,{className:"w-full max-w-md",children:[f.jsx(fr,{children:f.jsx(jr,{className:"text-center text-red-500",children:"Ticket Not Found"})}),f.jsxs(fn,{className:"text-center",children:[f.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Ticket Not Found"}),f.jsx("p",{className:"text-muted-foreground",children:"The ticket you're looking for doesn't exist or has been removed."})]}),f.jsxs(Ce,{onClick:N,children:[f.jsx(yu,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})]})]})});const z=s.expires&&new Date(s.expires)>new Date?"Active":s.expires?"Expired":s.status||s.type||s.revision||"No status",K=F=>{if(!F)return"-";const Z={weekday:"long",year:"numeric",month:"short",day:"numeric"};return new Date(F).toLocaleDateString(void 0,Z)},W=F=>{if(typeof F=="number")return F;if(!F)return null;const Z=String(F).trim();if(Z===""||Z===" ")return null;const X=Number(Z);return isNaN(X)?null:X};let J=W(s.centroid_y),G=W(s.centroid_x);if((J===null||G===null)&&s.extent_top&&s.extent_left&&s.extent_bottom&&s.extent_right){const F=W(s.extent_top),Z=W(s.extent_left),X=W(s.extent_bottom),ie=W(s.extent_right);[F,Z,X,ie].every(A=>A!==null)&&(J=(F+X)/2,G=(Z+ie)/2)}const oe=J!==null&&G!==null;return f.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs(Ce,{variant:"ghost",onClick:N,children:[f.jsx(yu,{className:"mr-2 h-4 w-4"}),"Back to ",w?`${w}`:"Dashboard"]}),!P&&b&&f.jsxs("div",{className:"flex gap-2",children:[b.cancel&&f.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>M(),children:"Cancel"}),b.remark&&f.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>M(),children:"Remark"}),b.secondNotice&&f.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>M(),children:"Second Notice"}),b.update&&f.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>M(),children:"Update"})]})]}),f.jsxs(hn,{className:"mb-8 animate-fade-in",children:[f.jsx(fr,{children:f.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Ticket Number"}),f.jsx(jr,{className:"text-2xl",children:s.ticket}),f.jsxs("div",{className:"text-gray-600 text-sm mt-1",children:["Revision: ",s.revision||"-"]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),f.jsx("p",{className:"text-xl font-semibold",children:z}),f.jsxs("div",{className:"text-gray-600 text-sm mt-1",children:["Type: ",s.type||"-"]})]})]})}),f.jsxs(fn,{children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-8",children:[f.jsx("section",{children:f.jsx("h3",{className:"text-3xl font-medium mb-2 text-gray-600",children:"General Info"})}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-xl font-medium mb-2",children:"Dates"}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Legal Date:"})," ",K(s.legal_date)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Update Date:"})," ",K(s.replace_by_date)]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Expiration Date:"})," ",K(s.expires)]})]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-xl font-medium mb-2",children:"Work/Project Details"}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Work Type:"})," ",s.work_type||"-"]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Done For:"})," ",s.done_for||"-"]})]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-xl font-medium mb-2",children:"Remarks/Notes"}),f.jsx("div",{className:"space-y-1",children:f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Location:"})," ",s.location||"-"]})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-3xl font-medium mb-2 text-gray-600",children:"Map & Location"}),oe&&s.work_area&&s.work_area.type==="Feature"&&s.work_area.geometry?f.jsx(ec,{lat:J,lng:G,workAreaGeoJSON:s.work_area,showTooltips:!1}):s.map_url?f.jsx("iframe",{src:s.map_url,title:"Ticket Map",width:"100%",height:"350",style:{border:0},allowFullScreen:!0,loading:"lazy"}):f.jsx("div",{className:"text-gray-500",children:"No map available for this ticket."}),f.jsxs("div",{className:"mt-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Street:"})," ",s.street||"-"," "]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"City:"})," ",s.place||"-"]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"County:"})," ",s.county||"-"]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"State:"})," ",s.state||"-"]})]})]})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h3",{className:"text-3xl font-medium mb-4 text-gray-600",children:"Ticket Responses"}),m?f.jsxs("div",{className:"animate-pulse flex flex-col items-center p-4",children:[f.jsx("div",{className:"h-4 w-24 bg-blue-200 rounded mb-2"}),f.jsx("div",{className:"h-4 w-48 bg-blue-200 rounded"})]}):l.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-50",children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utility Name"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[300px]",children:"Response"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[300px]",children:"Description"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((F,Z)=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.response||""}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:F.mbname||""}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-[300px] break-words",children:F.description||"PENDING"}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-[300px] break-words",children:F.mbdescription||""})]},Z))})]})}):f.jsx("div",{className:"text-center text-gray-500 py-4",children:"No responses available for this ticket."})]})]})]})]})})};function Lf({trigger:e,children:t,align:n="right"}){const[r,s]=_.useState(!1),o=_.useRef(null),l=_.useRef(null),[u,d]=_.useState({});return _.useEffect(()=>{function h(m){o.current&&!o.current.contains(m.target)&&l.current&&!l.current.contains(m.target)&&s(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),_.useEffect(()=>{if(r&&l.current){const h=l.current.getBoundingClientRect();d({position:"fixed",top:h.bottom+4,left:n==="right"?h.right-224:h.left,zIndex:9999,minWidth:224})}},[r,n]),f.jsxs("div",{className:"relative",ref:o,children:[f.jsx("div",{ref:l,onClick:()=>s(h=>!h),children:e}),r&&typeof window<"u"&&Ap.createPortal(f.jsx("div",{style:u,className:xe("rounded-md border bg-white p-1 shadow-md",""),children:t}),document.body)]})}function ir({children:e,className:t,...n}){return f.jsx("button",{className:xe("w-full whitespace-nowrap flex items-center rounded-sm px-2 py-1.5 text-sm text-left hover:bg-gray-100",t),...n,children:e})}function Of(){return f.jsx("div",{className:"my-1 h-px bg-gray-200"})}function Nr(){const e=Zn(),t=gr(),{user:n,signOut:r}=Vn(),[s,o]=_.useState(!1),[l,u]=_.useState("");_.useEffect(()=>{(async()=>{if(n){const{data:v,error:x}=await de.from("users").select("role").eq("id",n.id).single();(v==null?void 0:v.role)==="admin"?o(!0):o(!1)}else o(!1)})()},[n]);const d=async()=>{await r(),e("/login")},h=g=>t.pathname==="/tickets"&&t.search.includes("project=")?!1:g==="/"&&t.pathname==="/"?!0:t.pathname.startsWith(g)&&g!=="/",m=g=>{g.preventDefault(),l.trim()&&(e(`/tickets/${l.trim()}`),u(""))};return f.jsx("nav",{className:"sticky top-0 z-50 bg-white shadow-sm border-b border-gray-200",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("img",{src:im,alt:"UndergroundIQ",className:"h-8 w-auto"})}),f.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[f.jsxs("button",{onClick:()=>e("/"),className:`border-b-2 px-1 pt-1 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-75 rounded-sm inline-flex items-center ${h("/")?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900"}`,children:[f.jsx(Zd,{className:"h-4 w-4 mr-2"}),"Home"]}),s&&f.jsxs("button",{onClick:()=>e("/unassigned-tickets"),className:`border-b-2 px-1 pt-1 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-75 rounded-sm inline-flex items-center ${h("/unassigned-tickets")?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900"}`,children:[f.jsx(qd,{className:"h-4 w-4 mr-2"}),"To Do"]}),s&&f.jsxs("button",{onClick:()=>e("/admin"),className:`border-b-2 px-1 pt-1 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-75 rounded-sm inline-flex items-center ${h("/admin")?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900"}`,children:[f.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Admin Panel"]})]}),f.jsx("div",{className:"sm:hidden ml-2 flex items-center",children:f.jsxs(Lf,{trigger:f.jsxs(Ce,{variant:"ghost",size:"icon",className:"p-2",children:[f.jsx(Nv,{className:"h-6 w-6"}),f.jsx("span",{className:"sr-only",children:"Open menu"})]}),children:[f.jsxs(ir,{onClick:()=>e("/"),children:[" ",f.jsx(Zd,{className:"h-4 w-4 mr-2"})," Home"]}),s&&f.jsxs(ir,{onClick:()=>e("/unassigned-tickets"),children:[" ",f.jsx(qd,{className:"h-4 w-4 mr-2"})," To Do"]}),s&&f.jsxs(ir,{onClick:()=>e("/admin"),children:[" ",f.jsx(Vd,{className:"h-4 w-4 mr-2"})," Admin Panel"]}),f.jsx(Of,{}),f.jsxs(ir,{onClick:d,children:[" ",f.jsx(Av,{className:"h-4 w-4 mr-2"})," Sign out"]})]})})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("form",{onSubmit:m,className:"flex items-center",children:f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),placeholder:"Search ticket...",className:"w-48 pl-3 pr-10 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),f.jsx(KE,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),f.jsx("div",{className:"hidden sm:block",children:f.jsx(Ce,{variant:"outline",onClick:d,className:"border-gray-200 text-gray-700 hover:bg-gray-50",children:"Sign out"})}),f.jsx("div",{className:"sm:hidden ml-2 flex items-center",children:f.jsxs(Lf,{trigger:f.jsxs(Ce,{variant:"ghost",size:"icon",className:"p-2",children:[f.jsx(Nv,{className:"h-6 w-6"}),f.jsx("span",{className:"sr-only",children:"Open menu"})]}),children:[f.jsxs(ir,{onClick:()=>e("/"),children:[" ",f.jsx(Zd,{className:"h-4 w-4 mr-2"})," Home"]}),s&&f.jsxs(ir,{onClick:()=>e("/unassigned-tickets"),children:[" ",f.jsx(qd,{className:"h-4 w-4 mr-2"})," To Do"]}),s&&f.jsxs(ir,{onClick:()=>e("/admin"),children:[" ",f.jsx(Vd,{className:"h-4 w-4 mr-2"})," Admin Panel"]}),f.jsx(Of,{}),f.jsxs(ir,{onClick:d,children:[" ",f.jsx(Av,{className:"h-4 w-4 mr-2"})," Sign out"]})]})})]})]})})})}const Ua=_.forwardRef(({className:e,...t},n)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:n,className:xe("w-full caption-bottom text-sm",e),...t})}));Ua.displayName="Table";const Wa=_.forwardRef(({className:e,...t},n)=>f.jsx("thead",{ref:n,className:xe("[&_tr]:border-b",e),...t}));Wa.displayName="TableHeader";const Ha=_.forwardRef(({className:e,...t},n)=>f.jsx("tbody",{ref:n,className:xe("[&_tr:last-child]:border-0",e),...t}));Ha.displayName="TableBody";const MO=_.forwardRef(({className:e,...t},n)=>f.jsx("tfoot",{ref:n,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));MO.displayName="TableFooter";const Fn=_.forwardRef(({className:e,...t},n)=>f.jsx("tr",{ref:n,className:xe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Fn.displayName="TableRow";const mt=_.forwardRef(({className:e,...t},n)=>f.jsx("th",{ref:n,className:xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));mt.displayName="TableHead";const at=_.forwardRef(({className:e,...t},n)=>f.jsx("td",{ref:n,className:xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));at.displayName="TableCell";const IO=_.forwardRef(({className:e,...t},n)=>f.jsx("caption",{ref:n,className:xe("mt-4 text-sm text-muted-foreground",e),...t}));IO.displayName="TableCaption";function DO(){const e=Zn(),{user:t}=Vn(),[n,r]=_.useState(null),[s,o]=_.useState(null),[l,u]=_.useState([]),[d,h]=_.useState(!0),[m,g]=_.useState(null),[v,x]=_.useState(!1),[E,w]=_.useState(""),[C,b]=_.useState("user"),[S,P]=_.useState(!1),[T,N]=_.useState(null);_.useState(!1),_.useState(null),_.useState(null);const[M,O]=_.useState(null),[z,K]=_.useState(!1),[W,J]=_.useState(null),G=async Z=>{const{data:X,error:ie}=await de.from("users").select("id, email, role, created_at").eq("company_id",Z);if(ie){g("Failed to fetch employees"),h(!1);return}u(X)};_.useEffect(()=>{(async()=>{if(!t)return;const{data:X,error:ie}=await de.from("users").select("role, company_id").eq("id",t.id).single();if(ie||(X==null?void 0:X.role)!=="admin"){e("/login");return}const A=X.company_id;if(!A){g("No company assigned to this user."),h(!1);return}o(A);const{data:V,error:$}=await de.from("companies").select("name").eq("id",A).single();if($){g("Failed to fetch company name"),h(!1);return}r(V.name),await G(A),h(!1)})()},[t,e]);const oe=async()=>{if(s){P(!0),N(null);try{const Z=await fetch("https://kvlfpyfvifspllbtafnj.functions.supabase.co/invite-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E.trim(),role:C,company_id:s})}),X=await Z.json();if(!Z.ok){N(X.error||"Failed to invite user."),P(!1);return}x(!1),w(""),b("user"),P(!1),await G(s)}catch{N("Unexpected error occurred."),P(!1)}}},F=async()=>{if(M){K(!0),J(null);try{const{error:Z}=await de.from("users").update({company_id:null}).eq("id",M.id);if(Z)throw Z;s&&await G(s),O(null)}catch{J("Failed to remove user from company")}finally{K(!1)}}};return d?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx(vt,{className:"h-8 w-8 rounded-full"})}):m?f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[f.jsx("p",{className:"text-red-500 mb-4",children:m}),f.jsx(Ce,{onClick:()=>window.location.reload(),children:"Retry"})]}):f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Nr,{}),f.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center p-4",children:[f.jsx(hn,{className:"w-full max-w-3xl animate-fade-in",children:f.jsxs(fn,{className:"pt-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Admin Panel"}),f.jsxs("h3",{className:"text-lg font-semibold mb-6",children:["Company: ",f.jsx("span",{className:"text-blue-700",children:n})]}),f.jsx("div",{className:"flex justify-end mb-4",children:f.jsx(Ce,{onClick:()=>x(!0),children:"Add User"})}),f.jsx("div",{className:"rounded-md border",children:f.jsxs(Ua,{children:[f.jsx(Wa,{children:f.jsxs(Fn,{children:[f.jsx(mt,{children:"Email"}),f.jsx(mt,{children:"Role"}),f.jsx(mt,{children:"Created At"}),f.jsx(mt,{children:"Actions"})]})}),f.jsx(Ha,{children:l.map(Z=>f.jsxs(Fn,{children:[f.jsx(at,{children:Z.email}),f.jsx(at,{children:Z.role}),f.jsx(at,{children:new Date(Z.created_at).toLocaleString()}),f.jsx(at,{children:f.jsx(Ce,{variant:"destructive",size:"sm",onClick:()=>O(Z),disabled:Z.id===(t==null?void 0:t.id),children:"Remove"})})]},Z.id))})]})})]})}),v&&f.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add User"}),T&&f.jsx("p",{className:"text-red-500 mb-2",children:T}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block mb-1 font-medium",children:"Email"}),f.jsx("input",{type:"email",className:"w-full border rounded px-3 py-2",value:E,onChange:Z=>w(Z.target.value)})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block mb-1 font-medium",children:"Role"}),f.jsxs("select",{className:"w-full border rounded px-3 py-2",value:C,onChange:Z=>b(Z.target.value),children:[f.jsx("option",{value:"user",children:"User"}),f.jsx("option",{value:"admin",children:"Admin"})]})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(Ce,{variant:"outline",onClick:()=>{x(!1),N(null)},children:"Cancel"}),f.jsx(Ce,{onClick:oe,disabled:S||!E||!E.includes("@"),children:S?"Adding...":"Add User"})]})]})}),M&&f.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Remove User"}),W&&f.jsx("p",{className:"text-red-500 mb-2",children:W}),f.jsxs("p",{className:"mb-4",children:["Are you sure you want to remove ",M.email," from the company? This action cannot be undone."]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(Ce,{variant:"outline",onClick:()=>{O(null),J(null)},disabled:z,children:"Cancel"}),f.jsx(Ce,{variant:"destructive",onClick:F,disabled:z,children:z?"Removing...":"Remove User"})]})]})})]})]})}function zO(){const{user:e}=Vn(),t=Zn(),[n,r]=_.useState([]),[s,o]=_.useState(!0),[l,u]=_.useState(!1),[d,h]=_.useState(""),[m,g]=_.useState(!1),[v,x]=_.useState(""),[E,w]=_.useState(""),[C,b]=_.useState("");async function S(){if(!e)return;const{data:O,error:z}=await de.from("users").select("*").eq("id",e.id).single();O!=null&&O.role&&b(O.role);const{data:K,error:W}=await de.from("companies").select("*").eq("id",O==null?void 0:O.company_id).single();!W&&K&&w(K.name)}async function P(){o(!0);const{data:O,error:z}=await de.from("users").select("company_id").eq("id",e.id).single();if(z||!(O!=null&&O.company_id)){r([]),o(!1);return}const K=O.company_id,{data:W,error:J}=await de.from("company_projects").select("project_id, projects(id, name, created_by, pm_user, super)").eq("company_id",K);if(J||!W){r([]),o(!1);return}const G=await Promise.all(W.map(async oe=>{var V,$;const F=oe.projects,{count:Z,error:X}=await de.from("project_tickets").select("id",{count:"exact",head:!0}).eq("project_id",F.id).gt("replace_by_date",new Date().toISOString());let ie=null;if(F.pm_user){const{data:H}=await de.from("users").select("name, email").eq("id",F.pm_user).single();H&&(ie=H.name||H.email)}const A=((V=F.super)==null?void 0:V.name)||(($=F.super)==null?void 0:$.email)||null;return{id:F.id,name:F.name,created_by:F.created_by,ticket_count:X?0:Z||0,superintendent:A,project_manager:ie}}));r(G),o(!1)}_.useEffect(()=>{e&&(P(),S())},[e]);const T=n.filter(O=>O.ticket_count>0),N=O=>{t(`/tickets?project=${O.id}`)},M=async()=>{if(g(!0),x(""),!d.trim()){x("Project name is required"),g(!1);return}const{data:O,error:z}=await de.from("users").select("company_id").eq("id",e.id).single();if(z||!(O!=null&&O.company_id)){x("Could not determine company"),g(!1);return}const K=O.company_id,{data:W,error:J}=await de.from("projects").insert([{name:d.trim(),created_by:e.id}]).select();if(J){x(J.message),g(!1);return}if(W&&W.length>0){const G=W[0],{error:oe}=await de.from("company_projects").insert([{company_id:K,project_id:G.id}]);if(oe){x("Project created, but failed to link to company."),g(!1);return}}u(!1),h(""),g(!1),P()};return s?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Nr,{}),f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(vt,{className:"h-10 w-full"}),f.jsx(vt,{className:"h-20 w-full"}),f.jsx(vt,{className:"h-20 w-full"}),f.jsx(vt,{className:"h-20 w-full"})]})})]}):f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Nr,{}),f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[f.jsx("div",{children:f.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:["Projects for ",E]})}),C==="admin"&&f.jsxs(Ce,{onClick:()=>u(!0),className:"ml-4 flex items-center gap-2",children:[f.jsx(qE,{className:"h-4 w-4"})," New Project"]})]}),C==="admin"&&l&&f.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create New Project"}),f.jsx(ls,{placeholder:"Project Name",value:d,onChange:O=>h(O.target.value),className:"mb-4"}),v&&f.jsx("div",{className:"text-red-500 mb-2",children:v}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx(Ce,{onClick:()=>u(!1),variant:"outline",children:"Cancel"}),f.jsx(Ce,{onClick:M,disabled:m,children:m?"Creating...":"Create"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:T.length===0?f.jsx(hn,{className:"col-span-full text-center py-12",children:f.jsx(fn,{children:f.jsx("div",{className:"text-gray-500",children:"No projects found"})})}):T.map(O=>f.jsxs(hn,{className:"cursor-pointer hover:shadow-lg transition relative",onClick:()=>N(O),children:[f.jsx(fr,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(VE,{className:"h-5 w-5 text-orange-500"}),f.jsx("span",{className:"font-bold text-lg",children:O.name||"Unknown Project"})]})}),f.jsx(fn,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:[O.ticket_count," ",O.ticket_count===1?"Ticket":"Tickets"]}),f.jsxs("div",{className:"flex flex-col items-end gap-1 text-sm text-gray-500",children:[f.jsxs("div",{children:["PM: ",O.project_manager]}),f.jsxs("div",{children:["Sup: ",O.superintendent]})]})]})})]},O.id))})]})]})}function FO({children:e}){const[t,n]=_.useState(!1),r=_.useRef(null);_.useEffect(()=>{function o(l){r.current&&!r.current.contains(l.target)&&n(!1)}return t&&(document.addEventListener("mousedown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",o),document.body.style.overflow="unset"}},[t]);const s={isOpen:t,setIsOpen:n};return f.jsx(ol.Provider,{value:s,children:e})}const ol=Y.createContext({isOpen:!1,setIsOpen:()=>{}});function $O({children:e,asChild:t}){const{setIsOpen:n}=Y.useContext(ol);return Y.cloneElement(e,{onClick:()=>n(!0)})}function BO({children:e,className:t}){const{isOpen:n,setIsOpen:r}=Y.useContext(ol),s=_.useRef(null);return n?f.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:f.jsx("div",{ref:s,className:xe("fixed left-[50%] top-[50%] z-50 w-full max-w-lg translate-x-[-50%] translate-y-[-50%] rounded-lg bg-white p-6 shadow-lg",t),children:e})}):null}function UO({children:e}){return f.jsx("div",{className:"mb-4",children:e})}function WO({children:e}){return f.jsx("div",{className:"mt-6 flex justify-end gap-3",children:e})}function HO({children:e}){return f.jsx("h2",{className:"text-lg font-semibold",children:e})}function ZO({children:e}){return f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:e})}function VO({children:e,className:t,...n}){const{setIsOpen:r}=Y.useContext(ol);return f.jsx("button",{className:xe("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-white shadow-sm",t),onClick:()=>{var s;(s=n.onClick)==null||s.call(n,new MouseEvent("click")),r(!1)},...n,children:e})}function qO({children:e,className:t,...n}){const{setIsOpen:r}=Y.useContext(ol);return f.jsx("button",{className:xe("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",t),onClick:()=>r(!1),...n,children:e})}var sh="focusScope.autoFocusOnMount",oh="focusScope.autoFocusOnUnmount",by={bubbles:!1,cancelable:!0},KO="FocusScope",om=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[u,d]=_.useState(null),h=Tn(s),m=Tn(o),g=_.useRef(null),v=Pt(t,w=>d(w)),x=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let w=function(P){if(x.paused||!u)return;const T=P.target;u.contains(T)?g.current=T:Kr(g.current,{select:!0})},C=function(P){if(x.paused||!u)return;const T=P.relatedTarget;T!==null&&(u.contains(T)||Kr(g.current,{select:!0}))},b=function(P){if(document.activeElement===document.body)for(const N of P)N.removedNodes.length>0&&Kr(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const S=new MutationObserver(b);return u&&S.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),S.disconnect()}}},[r,u,x.paused]),_.useEffect(()=>{if(u){ky.add(x);const w=document.activeElement;if(!u.contains(w)){const b=new CustomEvent(sh,by);u.addEventListener(sh,h),u.dispatchEvent(b),b.defaultPrevented||(GO(eR(mb(u)),{select:!0}),document.activeElement===w&&Kr(u))}return()=>{u.removeEventListener(sh,h),setTimeout(()=>{const b=new CustomEvent(oh,by);u.addEventListener(oh,m),u.dispatchEvent(b),b.defaultPrevented||Kr(w??document.body,{select:!0}),u.removeEventListener(oh,m),ky.remove(x)},0)}}},[u,h,m,x]);const E=_.useCallback(w=>{if(!n&&!r||x.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(C&&b){const S=w.currentTarget,[P,T]=QO(S);P&&T?!w.shiftKey&&b===T?(w.preventDefault(),n&&Kr(P,{select:!0})):w.shiftKey&&b===P&&(w.preventDefault(),n&&Kr(T,{select:!0})):b===S&&w.preventDefault()}},[n,r,x.paused]);return f.jsx(Ye.div,{tabIndex:-1,...l,ref:v,onKeyDown:E})});om.displayName=KO;function GO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Kr(r,{select:t}),document.activeElement!==n)return}function QO(e){const t=mb(e),n=Sy(t,e),r=Sy(t.reverse(),e);return[n,r]}function mb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Sy(e,t){for(const n of e)if(!YO(n,{upTo:t}))return n}function YO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JO(e){return e instanceof HTMLInputElement&&"select"in e}function Kr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&JO(e)&&t&&e.select()}}var ky=XO();function XO(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Py(e,t),e.unshift(t)},remove(t){var n;e=Py(e,t),(n=e[0])==null||n.resume()}}}function Py(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function eR(e){return e.filter(t=>t.tagName!=="A")}var ah=0;function gb(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ey()),document.body.insertAdjacentElement("beforeend",e[1]??Ey()),ah++,()=>{ah===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ah--}},[])}function Ey(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cr=function(){return cr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},cr.apply(this,arguments)};function vb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function tR(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var xu="right-scroll-bar-position",bu="width-before-scroll-bar",nR="with-scroll-bars-hidden",rR="--removed-body-scroll-bar-size";function lh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function iR(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var sR=typeof window<"u"?_.useLayoutEffect:_.useEffect,Cy=new WeakMap;function oR(e,t){var n=iR(null,function(r){return e.forEach(function(s){return lh(s,r)})});return sR(function(){var r=Cy.get(n);if(r){var s=new Set(r),o=new Set(e),l=n.current;s.forEach(function(u){o.has(u)||lh(u,null)}),o.forEach(function(u){s.has(u)||lh(u,l)})}Cy.set(n,e)},[e]),n}function aR(e){return e}function lR(e,t){t===void 0&&(t=aR);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(o),l=n}var d=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function uR(e){e===void 0&&(e={});var t=lR(null);return t.options=cr({async:!0,ssr:!1},e),t}var yb=function(e){var t=e.sideCar,n=vb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,cr({},n))};yb.isSideCarExport=!0;function cR(e,t){return e.useMedium(t),yb}var _b=uR(),uh=function(){},$c=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:uh,onWheelCapture:uh,onTouchMoveCapture:uh}),s=r[0],o=r[1],l=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,g=e.shards,v=e.sideCar,x=e.noIsolation,E=e.inert,w=e.allowPinchZoom,C=e.as,b=C===void 0?"div":C,S=e.gapMode,P=vb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=v,N=oR([n,t]),M=cr(cr({},P),s);return _.createElement(_.Fragment,null,m&&_.createElement(T,{sideCar:_b,removeScrollBar:h,shards:g,noIsolation:x,inert:E,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:S}),l?_.cloneElement(_.Children.only(u),cr(cr({},M),{ref:N})):_.createElement(b,cr({},M,{className:d,ref:N}),u))});$c.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$c.classNames={fullWidth:bu,zeroRight:xu};var dR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dR();return t&&e.setAttribute("nonce",t),e}function fR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=hR())&&(fR(t,n),pR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gR=function(){var e=mR();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},wb=function(){var e=gR(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},vR={left:0,top:0,right:0,gap:0},ch=function(e){return parseInt(e||"",10)||0},yR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ch(n),ch(r),ch(s)]},_R=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vR;var t=yR(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},wR=wb(),Xs="data-scroll-locked",xR=function(e,t,n,r){var s=e.left,o=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(nR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Xs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xu,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(bu,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(xu," .").concat(xu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bu," .").concat(bu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xs,`] {
    `).concat(rR,": ").concat(u,`px;
  }
`)},Ty=function(){var e=parseInt(document.body.getAttribute(Xs)||"0",10);return isFinite(e)?e:0},bR=function(){_.useEffect(function(){return document.body.setAttribute(Xs,(Ty()+1).toString()),function(){var e=Ty()-1;e<=0?document.body.removeAttribute(Xs):document.body.setAttribute(Xs,e.toString())}},[])},SR=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;bR();var o=_.useMemo(function(){return _R(s)},[s]);return _.createElement(wR,{styles:xR(o,!t,s,n?"":"!important")})},Rf=!1;if(typeof window<"u")try{var eu=Object.defineProperty({},"passive",{get:function(){return Rf=!0,!0}});window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{Rf=!1}var Ts=Rf?{passive:!1}:!1,kR=function(e){return e.tagName==="TEXTAREA"},xb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!kR(e)&&n[t]==="visible")},PR=function(e){return xb(e,"overflowY")},ER=function(e){return xb(e,"overflowX")},jy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=bb(e,r);if(s){var o=Sb(e,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},CR=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},TR=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},bb=function(e,t){return e==="v"?PR(t):ER(t)},Sb=function(e,t){return e==="v"?CR(t):TR(t)},jR=function(e,t){return e==="h"&&t==="rtl"?-1:1},NR=function(e,t,n,r,s){var o=jR(e,window.getComputedStyle(t).direction),l=o*r,u=n.target,d=t.contains(u),h=!1,m=l>0,g=0,v=0;do{var x=Sb(e,u),E=x[0],w=x[1],C=x[2],b=w-C-o*E;(E||b)&&bb(e,u)&&(g+=b,v+=E),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&(Math.abs(g)<1||!s)||!m&&(Math.abs(v)<1||!s))&&(h=!0),h},tu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ny=function(e){return[e.deltaX,e.deltaY]},Ay=function(e){return e&&"current"in e?e.current:e},AR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},LR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},OR=0,js=[];function RR(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(OR++)[0],o=_.useState(wb)[0],l=_.useRef(e);_.useEffect(function(){l.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=tR([e.lockRef.current],(e.shards||[]).map(Ay),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=_.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var b=tu(w),S=n.current,P="deltaX"in w?w.deltaX:S[0]-b[0],T="deltaY"in w?w.deltaY:S[1]-b[1],N,M=w.target,O=Math.abs(P)>Math.abs(T)?"h":"v";if("touches"in w&&O==="h"&&M.type==="range")return!1;var z=jy(O,M);if(!z)return!0;if(z?N=O:(N=O==="v"?"h":"v",z=jy(O,M)),!z)return!1;if(!r.current&&"changedTouches"in w&&(P||T)&&(r.current=N),!N)return!0;var K=r.current||N;return NR(K,C,w,K==="h"?P:T,!0)},[]),d=_.useCallback(function(w){var C=w;if(!(!js.length||js[js.length-1]!==o)){var b="deltaY"in C?Ny(C):tu(C),S=t.current.filter(function(N){return N.name===C.type&&(N.target===C.target||C.target===N.shadowParent)&&AR(N.delta,b)})[0];if(S&&S.should){C.cancelable&&C.preventDefault();return}if(!S){var P=(l.current.shards||[]).map(Ay).filter(Boolean).filter(function(N){return N.contains(C.target)}),T=P.length>0?u(C,P[0]):!l.current.noIsolation;T&&C.cancelable&&C.preventDefault()}}},[]),h=_.useCallback(function(w,C,b,S){var P={name:w,delta:C,target:b,should:S,shadowParent:MR(b)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(T){return T!==P})},1)},[]),m=_.useCallback(function(w){n.current=tu(w),r.current=void 0},[]),g=_.useCallback(function(w){h(w.type,Ny(w),w.target,u(w,e.lockRef.current))},[]),v=_.useCallback(function(w){h(w.type,tu(w),w.target,u(w,e.lockRef.current))},[]);_.useEffect(function(){return js.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",d,Ts),document.addEventListener("touchmove",d,Ts),document.addEventListener("touchstart",m,Ts),function(){js=js.filter(function(w){return w!==o}),document.removeEventListener("wheel",d,Ts),document.removeEventListener("touchmove",d,Ts),document.removeEventListener("touchstart",m,Ts)}},[]);var x=e.removeScrollBar,E=e.inert;return _.createElement(_.Fragment,null,E?_.createElement(o,{styles:LR(s)}):null,x?_.createElement(SR,{gapMode:e.gapMode}):null)}function MR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const IR=cR(_b,RR);var am=_.forwardRef(function(e,t){return _.createElement($c,cr({},e,{ref:t,sideCar:IR}))});am.classNames=$c.classNames;var DR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ns=new WeakMap,nu=new WeakMap,ru={},dh=0,kb=function(e){return e&&(e.host||kb(e.parentNode))},zR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=kb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},FR=function(e,t,n,r){var s=zR(t,Array.isArray(e)?e:[e]);ru[n]||(ru[n]=new WeakMap);var o=ru[n],l=[],u=new Set,d=new Set(s),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};s.forEach(h);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))m(v);else try{var x=v.getAttribute(r),E=x!==null&&x!=="false",w=(Ns.get(v)||0)+1,C=(o.get(v)||0)+1;Ns.set(v,w),o.set(v,C),l.push(v),w===1&&E&&nu.set(v,!0),C===1&&v.setAttribute(n,"true"),E||v.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",v,b)}})};return m(t),u.clear(),dh++,function(){l.forEach(function(g){var v=Ns.get(g)-1,x=o.get(g)-1;Ns.set(g,v),o.set(g,x),v||(nu.has(g)||g.removeAttribute(r),nu.delete(g)),x||g.removeAttribute(n)}),dh--,dh||(Ns=new WeakMap,Ns=new WeakMap,nu=new WeakMap,ru={})}},Pb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=DR(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),FR(r,s,n,"aria-hidden")):function(){return null}},lm="Dialog",[Eb,I2]=yc(lm),[$R,qn]=Eb(lm),Cb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,u=_.useRef(null),d=_.useRef(null),[h=!1,m]=Lp({prop:r,defaultProp:s,onChange:o});return f.jsx($R,{scope:t,triggerRef:u,contentRef:d,contentId:_u(),titleId:_u(),descriptionId:_u(),open:h,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(g=>!g),[m]),modal:l,children:n})};Cb.displayName=lm;var Tb="DialogTrigger",BR=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qn(Tb,n),o=Pt(t,s.triggerRef);return f.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":dm(s.open),...r,ref:o,onClick:Ie(e.onClick,s.onOpenToggle)})});BR.displayName=Tb;var um="DialogPortal",[UR,jb]=Eb(um,{forceMount:void 0}),Nb=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=qn(um,t);return f.jsx(UR,{scope:t,forceMount:n,children:_.Children.map(r,l=>f.jsx(Ci,{present:n||o.open,children:f.jsx(_c,{asChild:!0,container:s,children:l})}))})};Nb.displayName=um;var tc="DialogOverlay",Ab=_.forwardRef((e,t)=>{const n=jb(tc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=qn(tc,e.__scopeDialog);return o.modal?f.jsx(Ci,{present:r||o.open,children:f.jsx(WR,{...s,ref:t})}):null});Ab.displayName=tc;var WR=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qn(tc,n);return f.jsx(am,{as:os,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(Ye.div,{"data-state":dm(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),us="DialogContent",Lb=_.forwardRef((e,t)=>{const n=jb(us,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=qn(us,e.__scopeDialog);return f.jsx(Ci,{present:r||o.open,children:o.modal?f.jsx(HR,{...s,ref:t}):f.jsx(ZR,{...s,ref:t})})});Lb.displayName=us;var HR=_.forwardRef((e,t)=>{const n=qn(us,e.__scopeDialog),r=_.useRef(null),s=Pt(t,n.contentRef,r);return _.useEffect(()=>{const o=r.current;if(o)return Pb(o)},[]),f.jsx(Ob,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault())})}),ZR=_.forwardRef((e,t)=>{const n=qn(us,e.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return f.jsx(Ob,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Ob=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,u=qn(us,n),d=_.useRef(null),h=Pt(t,d);return gb(),f.jsxs(f.Fragment,{children:[f.jsx(om,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:f.jsx(el,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":dm(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(VR,{titleId:u.titleId}),f.jsx(KR,{contentRef:d,descriptionId:u.descriptionId})]})]})}),cm="DialogTitle",Rb=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qn(cm,n);return f.jsx(Ye.h2,{id:s.titleId,...r,ref:t})});Rb.displayName=cm;var Mb="DialogDescription",Ib=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qn(Mb,n);return f.jsx(Ye.p,{id:s.descriptionId,...r,ref:t})});Ib.displayName=Mb;var Db="DialogClose",zb=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qn(Db,n);return f.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,()=>s.onOpenChange(!1))})});zb.displayName=Db;function dm(e){return e?"open":"closed"}var Fb="DialogTitleWarning",[D2,$b]=nE(Fb,{contentName:us,titleName:cm,docsSlug:"dialog"}),VR=({titleId:e})=>{const t=$b(Fb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},qR="DialogDescriptionWarning",KR=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$b(qR).contentName}}.`;return _.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},GR=Cb,QR=Nb,Bb=Ab,Ub=Lb,Wb=Rb,Hb=Ib,YR=zb;const Zb=GR,JR=QR,Vb=_.forwardRef(({className:e,...t},n)=>f.jsx(Bb,{ref:n,className:xe("fixed inset-0 z-[9999] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Vb.displayName=Bb.displayName;const hm=_.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(JR,{children:[f.jsx(Vb,{}),f.jsxs(Ub,{ref:r,className:xe("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,f.jsxs(YR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(Ow,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hm.displayName=Ub.displayName;const fm=({className:e,...t})=>f.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fm.displayName="DialogHeader";const pm=({className:e,...t})=>f.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pm.displayName="DialogFooter";const mm=_.forwardRef(({className:e,...t},n)=>f.jsx(Wb,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));mm.displayName=Wb.displayName;const XR=_.forwardRef(({className:e,...t},n)=>f.jsx(Hb,{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));XR.displayName=Hb.displayName;function Xo(e){if(!(e!=null&&e.expires))return"Unknown";const t=new Date;return new Date(e.expires)>t?"Active":"Expired"}function e2(e){if(!e)return"-";try{return new Date(e).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}catch{return e}}function hh(e){return typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"}function t2(){const{toast:e}=Xa(),{user:t}=Vn(),{bluestakesToken:n,isLoading:r,error:s}=sm(),[o]=Ix(),l=Zn(),[u,d]=_.useState([]),[h,m]=_.useState(!0),[g,v]=_.useState(""),[x,E]=_.useState(null),[w,C]=_.useState(!1);_.useState(!1),_.useState(""),_.useState(!1);const[b,S]=_.useState(!1),[P,T]=_.useState(null),[N,M]=_.useState(null),[O,z]=_.useState([]),[K,W]=_.useState(!1),[J,G]=_.useState(""),[oe,F]=_.useState(""),[Z,X]=_.useState("sup"),[ie,A]=_.useState(!1);_.useEffect(()=>{async function D(){if(!t){d([]),m(!1);return}m(!0),v("");try{const ee=Number(o.get("project"));if(!ee){d([]),m(!1);return}const{data:ae,error:Ae}=await de.from("project_tickets").select("ticket_number, project_id").eq("project_id",ee);if(Ae)throw Ae;d(ae||[]),n&&await $(ae||[],n)}catch(ee){v(hh(ee)?ee.message:"Failed to fetch tickets")}finally{m(!1)}}t&&D()},[t,o,n]),_.useEffect(()=>{const D=Number(o.get("project"));D&&de.from("projects").select("name").eq("id",D).single().then(({data:ee})=>E((ee==null?void 0:ee.name)||null))},[o]),_.useEffect(()=>{async function D(){const ee=Number(o.get("project"));if(!ee)return;const{data:ae,error:Ae}=await de.from("projects").select("pm_user, super, other_user").eq("id",ee).single();if(Ae||!ae){z([]);return}const Te=[];if(ae.pm_user){const{data:ze}=await de.from("users").select("id, email, role, name").eq("id",ae.pm_user).single();ze&&Te.push({id:ze.id,name:ze.name||ze.email,role:"Project Manager",email:ze.email})}ae.super&&(ae.super.name||ae.super.email)&&Te.push({id:"super",name:ae.super.name||"",role:"Superintendent",email:ae.super.email||""}),Array.isArray(ae.other_user)&&ae.other_user.forEach((ze,Oe)=>{Te.push({id:`other-${Oe}`,name:ze.name,role:"Other",email:ze.email})}),z(Te)}D()},[o]);const V=D=>{const ee=o.toString(),ae=ee?`/tickets/${D.ticket}?${ee}`:`/tickets/${D.ticket}`;l(ae)},$=async(D,ee)=>{S(!0);try{const ae=await Promise.all(D.map(async Ae=>{try{const Te=await ur.getTicketByNumber(Ae.ticket_number,ee);return{...Ae,bluestakes_data:Te}}catch{return Ae}}));d(ae)}catch{e({title:"Warning",description:"Some ticket data may be incomplete",variant:"destructive"})}finally{S(!1)}},H=async()=>{const D=Number(o.get("project"));if(D){C(!0);try{const{error:ee}=await de.from("project_tickets").delete().eq("project_id",D);if(ee)throw ee;const{error:ae}=await de.from("projects").delete().eq("id",D);if(ae)throw ae;l("/")}catch(ee){v(hh(ee)?ee.message:"Failed to delete project")}finally{C(!1)}}};function te(D){var Te,ze,Oe,ct,Ot,Rt,rt,Q,ce;if(!D)return"-";const ee=[],ae=(Te=D.st_from_address)==null?void 0:Te.trim(),Ae=(ze=D.st_to_address)==null?void 0:ze.trim();return ae&&Ae&&ae!=="0"&&Ae!=="0"?ae===Ae?ee.push(`${ae} ${(Oe=D.street)==null?void 0:Oe.trim()}`):ee.push(`${(ct=D.street)==null?void 0:ct.trim()} from ${ae} to ${Ae}`):(Ot=D.cross1)!=null&&Ot.trim()&&((Rt=D.cross2)!=null&&Rt.trim())?ee.push(`${(rt=D.street)==null?void 0:rt.trim()} from ${D.cross1.trim()} to ${D.cross2.trim()}`):(Q=D.street)!=null&&Q.trim()&&ee.push(D.street.trim()),(ce=D.place)!=null&&ce.trim()&&ee.push(D.place.trim()),ee.join(", ")}const le=u.filter(D=>D.bluestakes_data?Xo(D.bluestakes_data)==="Active":!0),fe=D=>{const ee=D.filter(Oe=>Oe.bluestakes_data&&Xo(Oe.bluestakes_data)==="Active");if(ee.length===0)return;let ae=0,Ae=0,Te=0;const ze=ee.filter(Oe=>{var Q,ce;const ct=(Q=Oe.bluestakes_data)==null?void 0:Q.latitude,Ot=(ce=Oe.bluestakes_data)==null?void 0:ce.longitude;if(!ct||!Ot)return!1;const Rt=Number(ct),rt=Number(Ot);return!isNaN(Rt)&&!isNaN(rt)?(ae+=Rt,Ae+=rt,Te++,!0):!1}).map(Oe=>({...Oe.bluestakes_data.work_area,properties:{...Oe.bluestakes_data.work_area.properties,ticketNumber:Oe.ticket_number,status:Xo(Oe.bluestakes_data)}}));Te>0&&T({lat:ae/Te,lng:Ae/Te}),ze.length>0&&M({type:"FeatureCollection",features:ze})};_.useEffect(()=>{u.length>0&&fe(u)},[u]);async function pe(){A(!0);const D=Number(o.get("project"));if(D)try{if(Z==="pm"){const{data:ee,error:ae}=await de.from("users").upsert({email:oe,name:J},{onConflict:"email"}).select().single();if(ae||!ee)throw ae||new Error("User upsert failed");await de.from("projects").update({pm_user:ee.id}).eq("id",D)}else if(Z==="sup"){const{error:ee}=await de.from("projects").update({super:{name:J,email:oe}}).eq("id",D);ee&&(console.error("Supabase update error:",ee),e({title:"Error",description:ee.message,variant:"destructive"}))}else if(Z==="other"){const{data:ee,error:ae}=await de.from("projects").select("other_user").eq("id",D).single();if(ae||!ee){e({title:"Error",description:"Could not fetch current other assignees",variant:"destructive"});return}const Te=[...Array.isArray(ee.other_user)?ee.other_user:[],{name:J,email:oe}],{error:ze}=await de.from("projects").update({other_user:Te}).eq("id",D);ze&&e({title:"Error",description:ze.message,variant:"destructive"})}else e({title:"Info",description:"Other assignees are not stored in the project table.",variant:"default"});W(!1),G(""),F(""),X("sup")}catch(ee){e({title:"Error",description:hh(ee)?ee.message:"Failed to add assignee",variant:"destructive"})}finally{A(!1)}}return r?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Nr,{}),f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsx(vt,{className:"h-20 w-full"})})]}):s?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Nr,{}),f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsxs(hn,{children:[f.jsx(fr,{children:f.jsx(jr,{className:"text-center text-red-500",children:"Authentication Error"})}),f.jsx(fn,{className:"text-center",children:f.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Authentication Error"}),f.jsx("p",{className:"text-muted-foreground",children:s})]})})]})})]}):f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Nr,{}),f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs(Ce,{variant:"ghost",onClick:()=>l("/"),className:"mb-4",children:[f.jsx(yu,{className:"mr-2 h-4 w-4"}),"Back to Projects"]}),f.jsxs(hn,{children:[f.jsxs(fr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(jr,{children:["Tickets for ",x||"Project"]}),b&&f.jsx("span",{className:"text-sm text-muted-foreground",children:"(Updating ticket data...)"})]}),f.jsxs(Lf,{trigger:f.jsxs(Ce,{variant:"ghost",className:"h-8 w-8 p-0",children:[f.jsx("span",{className:"sr-only",children:"Open menu"}),f.jsx(WE,{className:"h-4 w-4"})]}),children:[f.jsx(ir,{onMouseDown:()=>W(!0),children:"Add Assignee"}),f.jsx(Of,{}),f.jsxs(FO,{children:[f.jsx($O,{asChild:!0,children:f.jsxs(ir,{className:"text-red-600 hover:text-red-700 hover:bg-red-50",onSelect:D=>D.preventDefault(),children:[f.jsx(GE,{className:"mr-2 h-4 w-4"}),"Delete Project"]})}),f.jsxs(BO,{children:[f.jsxs(UO,{children:[f.jsx(HO,{children:"Are you sure?"}),f.jsx(ZO,{children:"This action cannot be undone. This will permanently delete the project and remove all associated tickets from your project."})]}),f.jsxs(WO,{children:[f.jsx(qO,{children:"Cancel"}),f.jsx(VO,{onClick:H,className:"bg-red-600 hover:bg-red-700",disabled:w,children:w?"Deleting...":"Delete Project"})]})]})]})]})]}),f.jsxs(fn,{children:[P&&f.jsx("div",{className:"mb-16",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium mb-2",children:"Project Details"}),f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"text-sm text-muted-foreground",children:["Active Tickets: ",le.length]})})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium mb-2",children:"Project Assignees"}),f.jsx("div",{className:"space-y-3",children:O.length===0?f.jsx("div",{className:"text-xs text-muted-foreground",children:"No assignees found."}):O.map(D=>f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-sm font-medium text-gray-600",children:D.name.split(" ").map(ee=>ee[0]).join("")}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium",children:D.name}),f.jsx("div",{className:"text-xs text-muted-foreground",children:D.role}),f.jsx("div",{className:"text-xs text-muted-foreground",children:D.email})]})]},D.id))})]})]}),f.jsx("div",{className:"h-[300px]",children:f.jsx(ec,{lat:P.lat,lng:P.lng,zoom:13,workAreaGeoJSON:N,onPolygonClick:D=>{const ee=o.toString(),ae=ee?`/tickets/${D}?${ee}`:`/tickets/${D}`;l(ae)}})})]})}),h?f.jsx(vt,{className:"h-20 w-full"}):g?f.jsx("div",{className:"text-red-500",children:g}):le.length===0?f.jsx("div",{className:"text-gray-500",children:"No active tickets assigned to this project."}):f.jsxs(Ua,{children:[f.jsx(Wa,{children:f.jsxs(Fn,{children:[f.jsx(mt,{children:"Ticket #"}),f.jsx(mt,{children:"Status"}),f.jsx(mt,{children:"Update Date"}),f.jsx(mt,{children:"Address"})]})}),f.jsx(Ha,{children:le.map(D=>f.jsxs(Fn,{onClick:()=>D.bluestakes_data&&V(D.bluestakes_data),style:{cursor:D.bluestakes_data?"pointer":"default"},className:D.bluestakes_data?"":"opacity-50",children:[f.jsx(at,{children:D.ticket_number}),f.jsx(at,{children:D.bluestakes_data?f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Xo(D.bluestakes_data)==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Xo(D.bluestakes_data)}):f.jsx("span",{className:"text-muted-foreground",children:"Loading..."})}),f.jsx(at,{children:D.bluestakes_data?e2(D.bluestakes_data.replace_by_date):f.jsx("span",{className:"text-muted-foreground",children:"Loading..."})}),f.jsx(at,{children:D.bluestakes_data?te(D.bluestakes_data):f.jsx("span",{className:"text-muted-foreground",children:"Loading..."})})]},D.ticket_number))})]})]})]}),f.jsx(Zb,{open:K,onOpenChange:W,children:f.jsxs(hm,{children:[f.jsx(fm,{children:f.jsx(mm,{children:"Add Project Assignee"})}),f.jsxs("div",{className:"grid gap-4 py-4",children:[f.jsxs("div",{className:"grid gap-2",children:[f.jsx(es,{htmlFor:"assignee-name",children:"Name"}),f.jsx(ls,{id:"assignee-name",value:J,onChange:D=>G(D.target.value),placeholder:"Enter assignee name",disabled:ie})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx(es,{htmlFor:"assignee-email",children:"Email"}),f.jsx(ls,{id:"assignee-email",value:oe,onChange:D=>F(D.target.value),placeholder:"Enter assignee email",disabled:ie})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx(es,{htmlFor:"assignee-role",children:"Role"}),f.jsxs("select",{id:"assignee-role",className:"border rounded px-2 py-1",value:Z,onChange:D=>X(D.target.value),disabled:ie,children:[f.jsx("option",{value:"sup",children:"Superintendent"}),f.jsx("option",{value:"other",children:"Other"})]})]})]}),f.jsxs(pm,{children:[f.jsx(Ce,{variant:"outline",onClick:()=>W(!1),disabled:ie,children:"Cancel"}),f.jsx(Ce,{onClick:pe,disabled:ie,children:ie?"Adding...":"Add Assignee"})]})]})})]})]})}var gm="Popover",[qb,z2]=yc(gm,[Cc]),al=Cc(),[n2,ji]=qb(gm),Kb=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!1}=e,u=al(t),d=_.useRef(null),[h,m]=_.useState(!1),[g=!1,v]=Lp({prop:r,defaultProp:s,onChange:o});return f.jsx(vj,{...u,children:f.jsx(n2,{scope:t,contentId:_u(),triggerRef:d,open:g,onOpenChange:v,onOpenToggle:_.useCallback(()=>v(x=>!x),[v]),hasCustomAnchor:h,onCustomAnchorAdd:_.useCallback(()=>m(!0),[]),onCustomAnchorRemove:_.useCallback(()=>m(!1),[]),modal:l,children:n})})};Kb.displayName=gm;var Gb="PopoverAnchor",r2=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ji(Gb,n),o=al(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=s;return _.useEffect(()=>(l(),()=>u()),[l,u]),f.jsx(Zp,{...o,...r,ref:t})});r2.displayName=Gb;var Qb="PopoverTrigger",Yb=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ji(Qb,n),o=al(n),l=Pt(t,s.triggerRef),u=f.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":n1(s.open),...r,ref:l,onClick:Ie(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:f.jsx(Zp,{asChild:!0,...o,children:u})});Yb.displayName=Qb;var vm="PopoverPortal",[i2,s2]=qb(vm,{forceMount:void 0}),Jb=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=ji(vm,t);return f.jsx(i2,{scope:t,forceMount:n,children:f.jsx(Ci,{present:n||o.open,children:f.jsx(_c,{asChild:!0,container:s,children:r})})})};Jb.displayName=vm;var xo="PopoverContent",Xb=_.forwardRef((e,t)=>{const n=s2(xo,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=ji(xo,e.__scopePopover);return f.jsx(Ci,{present:r||o.open,children:o.modal?f.jsx(o2,{...s,ref:t}):f.jsx(a2,{...s,ref:t})})});Xb.displayName=xo;var o2=_.forwardRef((e,t)=>{const n=ji(xo,e.__scopePopover),r=_.useRef(null),s=Pt(t,r),o=_.useRef(!1);return _.useEffect(()=>{const l=r.current;if(l)return Pb(l)},[]),f.jsx(am,{as:os,allowPinchZoom:!0,children:f.jsx(e1,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),o.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),a2=_.forwardRef((e,t)=>{const n=ji(xo,e.__scopePopover),r=_.useRef(!1),s=_.useRef(!1);return f.jsx(e1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),e1=_.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,...g}=e,v=ji(xo,n),x=al(n);return gb(),f.jsx(om,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:f.jsx(el,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>v.onOpenChange(!1),children:f.jsx(lx,{"data-state":n1(v.open),role:"dialog",id:v.contentId,...x,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),t1="PopoverClose",l2=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ji(t1,n);return f.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,()=>s.onOpenChange(!1))})});l2.displayName=t1;var u2="PopoverArrow",c2=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=al(n);return f.jsx(ux,{...s,...r,ref:t})});c2.displayName=u2;function n1(e){return e?"open":"closed"}var d2=Kb,h2=Yb,f2=Jb,r1=Xb;const Ly=d2,Oy=h2,Mf=_.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>f.jsx(f2,{children:f.jsx(r1,{ref:s,align:t,sideOffset:n,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Mf.displayName=r1.displayName;function p2(e){if(!e)return"-";try{return new Date(e).toLocaleString()}catch{return e}}function fh(e){return typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"}function Ry(e){try{const t=JSON.parse(sessionStorage.getItem(e));return t?Date.now()>t.expiry?(sessionStorage.removeItem(e),null):t.value:null}catch{return null}}function My(e,t,n=5*60*1e3){const r={value:t,expiry:Date.now()+n};sessionStorage.setItem(e,JSON.stringify(r))}function Iy(e){function t(s){if(typeof s=="number")return s;if(!s)return null;const o=String(s).trim();if(o===""||o===" ")return null;const l=Number(o);return isNaN(l)?null:l}let n=t(e.centroid_y),r=t(e.centroid_x);if((n===null||r===null)&&e.extent_top&&e.extent_left&&e.extent_bottom&&e.extent_right){const s=t(e.extent_top),o=t(e.extent_left),l=t(e.extent_bottom),u=t(e.extent_right);[s,o,l,u].every(d=>d!==null)&&(n=(s+l)/2,r=(o+u)/2)}return(n===null||r===null)&&(n=t(e.latitude),r=t(e.longitude)),{lat:n,lng:r}}function m2(e){const t=_.useRef(null);return r=>{!t.current||t.current.closed?t.current=window.open(r,e):t.current.focus()}}function g2(){const{toast:e}=Xa(),{user:t,setUser:n}=Vn(),{bluestakesToken:r,isLoading:s,error:o}=sm(),[l,u]=_.useState([]),[d,h]=_.useState([]),[m,g]=_.useState(!0),[v,x]=_.useState(!0),[E,w]=_.useState(""),[C,b]=_.useState([]),[S,P]=_.useState(null),[T,N]=_.useState(""),[M,O]=_.useState(!1),[z,K]=_.useState(""),[W,J]=_.useState("");_.useState(null);const[G,oe]=_.useState(!1),[F,Z]=_.useState(""),[X,ie]=_.useState(!1),[A,V]=_.useState(null),[$,H]=_.useState({}),[te,le]=_.useState(!1),fe=m2("bluestakes_ticket_entry"),pe=async Q=>{try{const{data:ce,error:se}=await de.from("project_tickets").select("project_id, projects(name)").eq("ticket_number",Q).maybeSingle();if(se&&se.code!=="PGRST116")throw se;const ke=Array.isArray(ce==null?void 0:ce.projects)?ce.projects[0]:ce==null?void 0:ce.projects;return(ke==null?void 0:ke.name)||"Unassigned"}catch{return"Unassigned"}},[D,ee]=_.useState({});async function ae(){if(!r)return;g(!0),x(!0),w("");const Q=Ry("ticketsNeedingUpdate"),ce=Ry("unassignedTickets");if(Q&&ce){h(Q),u(ce),g(!1),x(!1);return}try{const se=await ur.getAllTickets(r),{data:ke,error:_t}=await de.from("project_tickets").select("ticket_number, old_ticket, is_continue_update");if(_t)throw _t;const Ht=new Set((ke||[]).filter(Le=>Le.is_continue_update).map(Le=>Le.ticket_number)),it=new Set((ke||[]).filter(Le=>Le.old_ticket).map(Le=>Le.old_ticket)),Fr=await ur.getTicketsNeedingUpdate(r),Kn=new Set,Mt=Fr.filter(Le=>Kn.has(Le.ticket)||!Ht.has(Le.ticket)?!1:(Kn.add(Le.ticket),!0)).sort((Le,et)=>{const Qn=Le.replace_by_date?new Date(Le.replace_by_date).getTime():1/0,wt=et.replace_by_date?new Date(et.replace_by_date).getTime():1/0;return Qn-wt});h(Mt),My("ticketsNeedingUpdate",Mt);const Gn=new Date,It=se.filter(Le=>!Ht.has(Le.ticket)&&!it.has(Le.ticket)&&Le.replace_by_date&&new Date(Le.replace_by_date)>Gn),Ni=It.map(async Le=>{try{const et=await ur.getTicketByNumber(Le.ticket,r);if(et.original_ticket&&(ke==null?void 0:ke.find(wt=>wt.ticket_number===et.original_ticket&&wt.is_continue_update))){const{error:wt}=await de.from("project_tickets").update({is_continue_update:!1}).eq("ticket_number",et.original_ticket);if(wt)throw wt;const{error:Xt}=await de.from("project_tickets").insert({ticket_number:Le.ticket,old_ticket:et.original_ticket,replace_by_date:et.replace_by_date,is_continue_update:!0});if(Xt)throw Xt;return!0}return!1}catch(et){return console.error("Error processing ticket update:",et),!1}}),Ai=await Promise.all(Ni);if(u(It.filter((Le,et)=>!Ai[et])),My("unassignedTickets",It.filter((Le,et)=>!Ai[et])),t&&t.company_id){const{data:Le,error:et}=await de.from("projects").select("id, name").eq("company_id",t.company_id),Qn=(Le||[]).map(wt=>({project_id:wt.id,project_name:wt.name}));b(Qn)}else b([])}catch(se){w(fh(se)?se.message:"Failed to fetch tickets")}finally{g(!1),x(!1)}}_.useEffect(()=>{t&&r&&ae()},[t,r]),_.useEffect(()=>{(async()=>{if(d.length===0)return;const ce={};await Promise.all(d.map(async se=>{const ke=await pe(se.ticket);ce[se.ticket]=ke})),ee(ce)})()},[d]);const Ae=Q=>{P(Q),N(""),K(""),J("")},Te=()=>{P(null),N(""),K(""),J("")},ze=async()=>{if(!T){K("Please select a project");return}O(!0),K(""),J("");try{const Q=await ur.getTicketByNumber(S.ticket,r),{error:ce}=await de.from("project_tickets").insert([{project_id:T,ticket_number:S.ticket,replace_by_date:Q.replace_by_date}]);ce?K(ce.message):(J("Ticket assigned successfully!"),u(se=>se.filter(ke=>ke.ticket!==S.ticket)),setTimeout(()=>{Te()},1e3))}catch(Q){K(fh(Q)?Q.message:"Failed to assign ticket")}finally{O(!1)}},Oe=async Q=>{try{const ce="https://newtin.bluestakes.org/newtinweb/UTAH_ticketentry.html";await navigator.clipboard.writeText(Q.ticket),e({title:"Ticket Number Copied",description:`Ticket number ${Q.ticket} has been copied to clipboard`}),fe(ce)}catch{e({title:"Error",description:"Failed to copy ticket number or open URL",variant:"destructive"})}},ct=Q=>{var _t,Ht,it,Fr,Kn,jn,Mt,Gn,It;const ce=[],se=(_t=Q.st_from_address)==null?void 0:_t.trim(),ke=(Ht=Q.st_to_address)==null?void 0:Ht.trim();return se&&ke&&se!=="0"&&ke!=="0"?se===ke?ce.push(`${se} ${(it=Q.street)==null?void 0:it.trim()}`):ce.push(`${(Fr=Q.street)==null?void 0:Fr.trim()} from ${se} to ${ke}`):(Kn=Q.cross1)!=null&&Kn.trim()&&((jn=Q.cross2)!=null&&jn.trim())?ce.push(`${(Mt=Q.street)==null?void 0:Mt.trim()} from ${Q.cross1.trim()} to ${Q.cross2.trim()}`):(Gn=Q.street)!=null&&Gn.trim()&&ce.push(Q.street.trim()),(It=Q.place)!=null&&It.trim()&&ce.push(Q.place.trim()),ce.join(", ")},Ot=async()=>{if(!F.trim()){e({title:"Error",description:"Please enter a project name",variant:"destructive"});return}ie(!0);try{const{data:Q,error:ce}=await de.from("projects").insert([{name:F.trim()}]).select().single();if(ce)throw ce;const{error:se}=await de.from("user_projects").insert([{user_id:t.id,project_id:Q.id}]);if(se)throw se;b(ke=>[...ke,{project_id:Q.id,project_name:Q.name}]),N(Q.id.toString()),e({title:"Success",description:"Project created successfully"}),oe(!1),Z("")}catch(Q){e({title:"Error",description:fh(Q)?Q.message:"Failed to create project",variant:"destructive"})}finally{ie(!1)}},Rt=()=>{sessionStorage.removeItem("ticketsNeedingUpdate"),sessionStorage.removeItem("unassignedTickets"),ae()};async function rt(Q){V(Q),le(!0);try{const ce=await ur.getTicketByNumber(Q,r);H(se=>({...se,[Q]:ce}))}catch{H(ce=>({...ce,[Q]:null}))}finally{le(!1)}}return s?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Nr,{}),f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx(vt,{className:"h-10 w-full"}),f.jsx(vt,{className:"h-20 w-full"})]})]}):o||E?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Nr,{}),f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsx(hn,{children:f.jsx(fn,{className:"p-8 text-center",children:f.jsx("p",{className:"text-red-500 text-lg",children:o||E})})})})]}):f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Nr,{}),f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("div",{className:"flex justify-end mb-4",children:f.jsx(Ce,{onClick:Rt,children:"Refresh Page Data"})}),f.jsxs(hn,{className:"mb-4",children:[f.jsx(fr,{children:f.jsx(jr,{children:"Tickets To Update"})}),f.jsx(fn,{children:v?f.jsxs("div",{className:"space-y-2",children:[f.jsx(vt,{className:"h-10"}),f.jsx(vt,{className:"h-10"}),f.jsx(vt,{className:"h-10"})]}):f.jsxs(Ua,{children:[f.jsx(Wa,{children:f.jsxs(Fn,{children:[f.jsx(mt,{children:"Ticket Number"}),f.jsx(mt,{children:"Project"}),f.jsx(mt,{children:"Update Date"}),f.jsx(mt,{className:"w-40 text-center",children:"Action"})]})}),f.jsx(Ha,{children:d.length===0?f.jsx(Fn,{children:f.jsx(at,{colSpan:4,className:"text-center text-gray-500 py-8",children:"No tickets need updates"})}):d.map((Q,ce)=>{const se=$[Q.ticket],{lat:ke,lng:_t}=se?Iy(se):{lat:null,lng:null},Ht=se&&ke!==null&&_t!==null&&se.work_area&&se.work_area.type&&se.work_area.geometry;return f.jsxs(Ly,{open:A===Q.ticket,onOpenChange:it=>{it||V(null)},children:[f.jsx(Oy,{asChild:!0,children:f.jsx("div",{role:"row",tabIndex:0,className:"contents cursor-pointer",onClick:()=>rt(Q.ticket),children:f.jsxs(Fn,{children:[f.jsx(at,{children:Q.ticket}),f.jsx(at,{children:D[Q.ticket]||f.jsx("span",{className:"text-gray-400",children:"Loading..."})}),f.jsx(at,{children:p2(Q.replace_by_date).split(",")[0]}),f.jsx(at,{className:"w-40 flex justify-center",children:f.jsx(Ce,{size:"sm",onClick:it=>{it.stopPropagation(),Oe(Q)},children:"Update"})})]})})}),f.jsx(Mf,{align:"end",sideOffset:8,className:"w-[350px] p-0",children:te&&A===Q.ticket?f.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[f.jsx(jv,{className:"animate-spin mr-2"})," ","Loading map..."]}):Ht?f.jsx(ec,{lat:ke,lng:_t,workAreaGeoJSON:se.work_area,height:"300px",width:"100%",showTooltips:!1},Q.ticket):f.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:"No map data available"})})]},`update-${Q.ticket}-${ce}`)})})]})})]}),f.jsxs(hn,{children:[f.jsx(fr,{children:f.jsx(jr,{children:"Unassigned Tickets"})}),f.jsx(fn,{children:m?f.jsxs("div",{className:"space-y-2",children:[f.jsx(vt,{className:"h-10"}),f.jsx(vt,{className:"h-10"}),f.jsx(vt,{className:"h-10"})]}):f.jsxs(Ua,{children:[f.jsx(Wa,{children:f.jsxs(Fn,{children:[f.jsx(mt,{children:"Ticket Number"}),f.jsx(mt,{children:"Contact"}),f.jsx(mt,{children:"Done For"}),f.jsx(mt,{children:"Address"}),f.jsx(mt,{className:"w-40 text-center",children:"Action"})]})}),f.jsx(Ha,{children:l.length===0?f.jsx(Fn,{children:f.jsx(at,{colSpan:5,className:"text-center text-gray-500 py-8",children:"All Tickets have been assigned"})}):l.map((Q,ce)=>{const se=$[Q.ticket],{lat:ke,lng:_t}=se?Iy(se):{lat:null,lng:null},Ht=se&&ke!==null&&_t!==null&&se.work_area&&se.work_area.type&&se.work_area.geometry;return f.jsxs(Ly,{open:A===Q.ticket,onOpenChange:it=>{it||V(null)},children:[f.jsx(Oy,{asChild:!0,children:f.jsx("div",{role:"row",tabIndex:0,className:"contents cursor-pointer",onClick:()=>rt(Q.ticket),children:f.jsxs(Fn,{children:[f.jsx(at,{children:Q.ticket}),f.jsx(at,{children:Q.contact}),f.jsx(at,{children:Q.done_for}),f.jsx(at,{children:ct(Q)}),f.jsx(at,{className:"w-40 flex justify-center",children:f.jsx(Ce,{size:"sm",onClick:it=>{it.stopPropagation(),Ae(Q)},children:"Assign to Project"})})]})})}),f.jsx(Mf,{align:"end",sideOffset:8,className:"w-[350px] p-0",children:te&&A===Q.ticket?f.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[f.jsx(jv,{className:"animate-spin mr-2"})," ","Loading map..."]}):Ht?f.jsx(ec,{lat:ke,lng:_t,workAreaGeoJSON:se.work_area,height:"300px",width:"100%",showTooltips:!1},Q.ticket):f.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:"No map data available"})})]},`unassigned-${Q.ticket}-${ce}`)})})]})})]}),S&&f.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md",children:[f.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Assign Ticket ",S.ticket," to Project"]}),f.jsx("div",{className:"mb-4",children:f.jsxs("div",{className:"flex gap-2 mb-2",children:[f.jsxs("select",{className:"flex-1 border rounded p-2",value:T,onChange:Q=>N(Q.target.value),disabled:M,children:[f.jsx("option",{value:"",children:"-- Select a project --"}),C.map(Q=>f.jsx("option",{value:Q.project_id,children:Q.project_name},Q.project_id))]}),f.jsx(Ce,{variant:"outline",onClick:()=>oe(!0),disabled:M,children:"New Project"})]})}),z&&f.jsx("div",{className:"text-red-500 mb-2",children:z}),W&&f.jsx("div",{className:"text-green-600 mb-2",children:W}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx(Ce,{onClick:Te,variant:"outline",disabled:M,children:"Cancel"}),f.jsx(Ce,{onClick:ze,disabled:M||!T,children:M?"Assigning...":"Assign"})]})]})}),f.jsx(Zb,{open:G,onOpenChange:oe,children:f.jsxs(hm,{children:[f.jsx(fm,{children:f.jsx(mm,{children:"Create New Project"})}),f.jsx("div",{className:"py-4",children:f.jsx(ls,{placeholder:"Enter project name",value:F,onChange:Q=>Z(Q.target.value),disabled:X})}),f.jsxs(pm,{children:[f.jsx(Ce,{variant:"outline",onClick:()=>oe(!1),disabled:X,children:"Cancel"}),f.jsx(Ce,{onClick:Ot,disabled:X||!F.trim(),children:X?"Creating...":"Create Project"})]})]})})]})]})}function v2(){const[e,t]=_.useState(""),[n,r]=_.useState(""),[s,o]=_.useState(""),[l,u]=_.useState(""),d=Zn();_.useEffect(()=>{let m=window.location.hash;m.includes("#")&&m.indexOf("#",1)!==-1?m=m.substring(m.indexOf("#",1)+1):m=m.substring(1);const g=new URLSearchParams(m),v=g.get("access_token"),x=g.get("refresh_token");g.get("type")==="invite"&&v?(o(v),u(x||"")):r("Invalid or expired invite link.")},[]);const h=async m=>{if(m.preventDefault(),!s)return;const{error:g}=await de.auth.setSession({access_token:s,refresh_token:l});if(g){r(g.message);return}const{error:v}=await de.auth.updateUser({password:e});v?r(v.message):(r("Password set! Redirecting..."),setTimeout(()=>{d("/")},1e3))};return s?f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:f.jsxs("form",{onSubmit:h,className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Set Your Password"}),f.jsx("input",{type:"password",placeholder:"New password",value:e,onChange:m=>t(m.target.value),required:!0,className:"w-full px-4 py-2 mb-4 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Set Password"}),n&&f.jsx("div",{className:"mt-4 text-center text-red-500",children:n})]})}):f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:f.jsx("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:f.jsx("div",{className:"text-center text-red-500",children:n})})})}const y2=new rN;function _2(){const e=Zn();return _.useEffect(()=>{const t=new URLSearchParams(window.location.hash.substring(1)),n=t.get("access_token");t.get("type")==="invite"&&n&&e("/set-password"+window.location.hash,{replace:!0})},[e]),null}function w2(){return f.jsx(sN,{client:y2,children:f.jsx(XN,{children:f.jsx(vO,{children:f.jsxs(Rj,{children:[f.jsx(_2,{}),f.jsxs(GN,{children:[f.jsxs(nn,{element:f.jsx(_O,{}),children:[f.jsx(nn,{path:"/login",element:f.jsx(EO,{})}),f.jsx(nn,{path:"/signup",element:f.jsx(CO,{})}),f.jsx(nn,{path:"/set-password",element:f.jsx(v2,{})})]}),f.jsxs(nn,{element:f.jsx(xy,{children:f.jsx(yO,{})}),children:[f.jsx(nn,{path:"/",element:f.jsx(zO,{})}),f.jsx(nn,{path:"/tickets",element:f.jsx(t2,{})}),f.jsx(nn,{path:"/tickets/:ticketId",element:f.jsx(RO,{})}),f.jsx(nn,{path:"/unassigned-tickets",element:f.jsx(g2,{})})]}),f.jsx(nn,{element:f.jsx(xy,{children:f.jsx(wO,{})}),children:f.jsx(nn,{path:"/admin",element:f.jsx(DO,{})})}),f.jsx(nn,{path:"*",element:f.jsx(TO,{})})]}),f.jsx(AC,{}),f.jsx(oT,{})]})})})})}iw(document.getElementById("root")).render(f.jsx(w2,{}));export{If as g};
