var lg=e=>{throw TypeError(e)};var vd=(e,t,n)=>t.has(e)||lg("Cannot "+n);var B=(e,t,n)=>(vd(e,t,"read from private field"),n?n.call(e):t.get(e)),Ae=(e,t,n)=>t.has(e)?lg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ye=(e,t,n,r)=>(vd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),kt=(e,t,n)=>(vd(e,t,"access private method"),n);var El=(e,t,n,r)=>({set _(s){ye(e,t,s,n)},get _(){return B(e,t,r)}});function hk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Af(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Fy={exports:{}},ic={},$y={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),pk=Symbol.for("react.portal"),mk=Symbol.for("react.fragment"),gk=Symbol.for("react.strict_mode"),vk=Symbol.for("react.profiler"),yk=Symbol.for("react.provider"),_k=Symbol.for("react.context"),wk=Symbol.for("react.forward_ref"),xk=Symbol.for("react.suspense"),bk=Symbol.for("react.memo"),kk=Symbol.for("react.lazy"),ug=Symbol.iterator;function Sk(e){return e===null||typeof e!="object"?null:(e=ug&&e[ug]||e["@@iterator"],typeof e=="function"?e:null)}var By={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uy=Object.assign,Wy={};function ko(e,t,n){this.props=e,this.context=t,this.refs=Wy,this.updater=n||By}ko.prototype.isReactComponent={};ko.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ko.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hy(){}Hy.prototype=ko.prototype;function Of(e,t,n){this.props=e,this.context=t,this.refs=Wy,this.updater=n||By}var Rf=Of.prototype=new Hy;Rf.constructor=Of;Uy(Rf,ko.prototype);Rf.isPureReactComponent=!0;var cg=Array.isArray,Zy=Object.prototype.hasOwnProperty,Mf={current:null},Vy={key:!0,ref:!0,__self:!0,__source:!0};function qy(e,t,n){var r,s={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Zy.call(t,r)&&!Vy.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var d=Array(u),h=0;h<u;h++)d[h]=arguments[h+2];s.children=d}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:qa,type:e,key:o,ref:l,props:s,_owner:Mf.current}}function Pk(e,t){return{$$typeof:qa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function If(e){return typeof e=="object"&&e!==null&&e.$$typeof===qa}function Ek(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dg=/\/+/g;function yd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ek(""+e.key):t.toString(36)}function ou(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case qa:case pk:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+yd(l,0):r,cg(s)?(n="",e!=null&&(n=e.replace(dg,"$&/")+"/"),ou(s,t,n,"",function(h){return h})):s!=null&&(If(s)&&(s=Pk(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(dg,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",cg(e))for(var u=0;u<e.length;u++){o=e[u];var d=r+yd(o,u);l+=ou(o,t,n,d,s)}else if(d=Sk(e),typeof d=="function")for(e=d.call(e),u=0;!(o=e.next()).done;)o=o.value,d=r+yd(o,u++),l+=ou(o,t,n,d,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Cl(e,t,n){if(e==null)return e;var r=[],s=0;return ou(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Ck(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},au={transition:null},Tk={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:au,ReactCurrentOwner:Mf};function Gy(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Cl,forEach:function(e,t,n){Cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cl(e,function(){t++}),t},toArray:function(e){return Cl(e,function(t){return t})||[]},only:function(e){if(!If(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=ko;be.Fragment=mk;be.Profiler=vk;be.PureComponent=Of;be.StrictMode=gk;be.Suspense=xk;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;be.act=Gy;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Uy({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Mf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)Zy.call(t,d)&&!Vy.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var h=0;h<d;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:qa,type:e.type,key:s,ref:o,props:r,_owner:l}};be.createContext=function(e){return e={$$typeof:_k,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yk,_context:e},e.Consumer=e};be.createElement=qy;be.createFactory=function(e){var t=qy.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:wk,render:e}};be.isValidElement=If;be.lazy=function(e){return{$$typeof:kk,_payload:{_status:-1,_result:e},_init:Ck}};be.memo=function(e,t){return{$$typeof:bk,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=au.transition;au.transition={};try{e()}finally{au.transition=t}};be.unstable_act=Gy;be.useCallback=function(e,t){return Dt.current.useCallback(e,t)};be.useContext=function(e){return Dt.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};be.useEffect=function(e,t){return Dt.current.useEffect(e,t)};be.useId=function(){return Dt.current.useId()};be.useImperativeHandle=function(e,t,n){return Dt.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Dt.current.useMemo(e,t)};be.useReducer=function(e,t,n){return Dt.current.useReducer(e,t,n)};be.useRef=function(e){return Dt.current.useRef(e)};be.useState=function(e){return Dt.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return Dt.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return Dt.current.useTransition()};be.version="18.3.1";$y.exports=be;var _=$y.exports;const J=Af(_),Ky=hk({__proto__:null,default:J},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk=_,Nk=Symbol.for("react.element"),Lk=Symbol.for("react.fragment"),Ak=Object.prototype.hasOwnProperty,Ok=jk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rk={key:!0,ref:!0,__self:!0,__source:!0};function Qy(e,t,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Ak.call(t,r)&&!Rk.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Nk,type:e,key:o,ref:l,props:s,_owner:Ok.current}}ic.Fragment=Lk;ic.jsx=Qy;ic.jsxs=Qy;Fy.exports=ic;var p=Fy.exports,Yy={exports:{}},dn={},Jy={exports:{}},Xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,G){var $=A.length;A.push(G);e:for(;0<$;){var Z=$-1>>>1,z=A[Z];if(0<s(z,G))A[Z]=G,A[$]=z,$=Z;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var G=A[0],$=A.pop();if($!==G){A[0]=$;e:for(var Z=0,z=A.length,H=z>>>1;Z<H;){var te=2*(Z+1)-1,se=A[te],X=te+1,je=A[X];if(0>s(se,$))X<z&&0>s(je,se)?(A[Z]=je,A[X]=$,Z=X):(A[Z]=se,A[te]=$,Z=te);else if(X<z&&0>s(je,$))A[Z]=je,A[X]=$,Z=X;else break e}}return G}function s(A,G){var $=A.sortIndex-G.sortIndex;return $!==0?$:A.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,v=null,g=3,x=!1,E=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(A){for(var G=n(h);G!==null;){if(G.callback===null)r(h);else if(G.startTime<=A)r(h),G.sortIndex=G.expirationTime,t(d,G);else break;G=n(h)}}function T(A){if(w=!1,P(A),!E)if(n(d)!==null)E=!0,W(N);else{var G=n(h);G!==null&&ue(T,G.startTime-A)}}function N(A,G){E=!1,w&&(w=!1,k(D),D=-1),x=!0;var $=g;try{for(P(G),v=n(d);v!==null&&(!(v.expirationTime>G)||A&&!Y());){var Z=v.callback;if(typeof Z=="function"){v.callback=null,g=v.priorityLevel;var z=Z(v.expirationTime<=G);G=e.unstable_now(),typeof z=="function"?v.callback=z:v===n(d)&&r(d),P(G)}else r(d);v=n(d)}if(v!==null)var H=!0;else{var te=n(h);te!==null&&ue(T,te.startTime-G),H=!1}return H}finally{v=null,g=$,x=!1}}var R=!1,M=null,D=-1,F=5,Q=-1;function Y(){return!(e.unstable_now()-Q<F)}function K(){if(M!==null){var A=e.unstable_now();Q=A;var G=!0;try{G=M(!0,A)}finally{G?oe():(R=!1,M=null)}}else R=!1}var oe;if(typeof b=="function")oe=function(){b(K)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ne=q.port2;q.port1.onmessage=K,oe=function(){ne.postMessage(null)}}else oe=function(){C(K,0)};function W(A){M=A,R||(R=!0,oe())}function ue(A,G){D=C(function(){A(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){E||x||(E=!0,W(N))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(A){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var $=g;g=G;try{return A()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,G){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=g;g=A;try{return G()}finally{g=$}},e.unstable_scheduleCallback=function(A,G,$){var Z=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Z+$:Z):$=Z,A){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,A={id:m++,callback:G,priorityLevel:A,startTime:$,expirationTime:z,sortIndex:-1},$>Z?(A.sortIndex=$,t(h,A),n(d)===null&&A===n(h)&&(w?(k(D),D=-1):w=!0,ue(T,$-Z))):(A.sortIndex=z,t(d,A),E||x||(E=!0,W(N))),A},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(A){var G=g;return function(){var $=g;g=G;try{return A.apply(this,arguments)}finally{g=$}}}})(Xy);Jy.exports=Xy;var Mk=Jy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik=_,cn=Mk;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e_=new Set,xa={};function as(e,t){ao(e,t),ao(e+"Capture",t)}function ao(e,t){for(xa[e]=t,e=0;e<t.length;e++)e_.add(t[e])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hh=Object.prototype.hasOwnProperty,Dk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hg={},fg={};function zk(e){return hh.call(fg,e)?!0:hh.call(hg,e)?!1:Dk.test(e)?fg[e]=!0:(hg[e]=!0,!1)}function Fk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $k(e,t,n,r){if(t===null||typeof t>"u"||Fk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,n,r,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Df=/[\-:]([a-z])/g;function zf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Df,zf);wt[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Df,zf);wt[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Df,zf);wt[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ff(e,t,n,r){var s=wt.hasOwnProperty(t)?wt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($k(t,n,s,r)&&(n=null),r||s===null?zk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Or=Ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),Ns=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),$f=Symbol.for("react.strict_mode"),fh=Symbol.for("react.profiler"),t_=Symbol.for("react.provider"),n_=Symbol.for("react.context"),Bf=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),mh=Symbol.for("react.suspense_list"),Uf=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),r_=Symbol.for("react.offscreen"),pg=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=pg&&e[pg]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,_d;function na(e){if(_d===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_d=t&&t[1]||""}return`
`+_d+e}var wd=!1;function xd(e,t){if(!e||wd)return"";wd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,u=o.length-1;1<=l&&0<=u&&s[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(s[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||s[l]!==o[u]){var d=`
`+s[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{wd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?na(e):""}function Bk(e){switch(e.tag){case 5:return na(e.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 2:case 15:return e=xd(e.type,!1),e;case 11:return e=xd(e.type.render,!1),e;case 1:return e=xd(e.type,!0),e;default:return""}}function gh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ls:return"Fragment";case Ns:return"Portal";case fh:return"Profiler";case $f:return"StrictMode";case ph:return"Suspense";case mh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case n_:return(e.displayName||"Context")+".Consumer";case t_:return(e._context.displayName||"Context")+".Provider";case Bf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uf:return t=e.displayName||null,t!==null?t:gh(e.type)||"Memo";case Vr:t=e._payload,e=e._init;try{return gh(e(t))}catch{}}return null}function Uk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gh(t);case 8:return t===$f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function i_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wk(e){var t=i_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){e._valueTracker||(e._valueTracker=Wk(e))}function s_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=i_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vh(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function o_(e,t){t=t.checked,t!=null&&Ff(e,"checked",t,!1)}function yh(e,t){o_(e,t);var n=pi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_h(e,t.type,n):t.hasOwnProperty("defaultValue")&&_h(e,t.type,pi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _h(e,t,n){(t!=="number"||Pu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ra=Array.isArray;function Us(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function wh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(ra(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pi(n)}}function a_(e,t){var n=pi(t.value),r=pi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function yg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function l_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?l_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nl,u_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hk=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(e){Hk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),aa[t]=aa[e]})});function c_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||aa.hasOwnProperty(e)&&aa[e]?(""+t).trim():t+"px"}function d_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=c_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Zk=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bh(e,t){if(t){if(Zk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function kh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=null;function Wf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ph=null,Ws=null,Hs=null;function _g(e){if(e=Qa(e)){if(typeof Ph!="function")throw Error(V(280));var t=e.stateNode;t&&(t=uc(t),Ph(e.stateNode,e.type,t))}}function h_(e){Ws?Hs?Hs.push(e):Hs=[e]:Ws=e}function f_(){if(Ws){var e=Ws,t=Hs;if(Hs=Ws=null,_g(e),t)for(e=0;e<t.length;e++)_g(t[e])}}function p_(e,t){return e(t)}function m_(){}var bd=!1;function g_(e,t,n){if(bd)return e(t,n);bd=!0;try{return p_(e,t,n)}finally{bd=!1,(Ws!==null||Hs!==null)&&(m_(),f_())}}function ka(e,t){var n=e.stateNode;if(n===null)return null;var r=uc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Eh=!1;if(Cr)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){Eh=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{Eh=!1}function Vk(e,t,n,r,s,o,l,u,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(m){this.onError(m)}}var la=!1,Eu=null,Cu=!1,Ch=null,qk={onError:function(e){la=!0,Eu=e}};function Gk(e,t,n,r,s,o,l,u,d){la=!1,Eu=null,Vk.apply(qk,arguments)}function Kk(e,t,n,r,s,o,l,u,d){if(Gk.apply(this,arguments),la){if(la){var h=Eu;la=!1,Eu=null}else throw Error(V(198));Cu||(Cu=!0,Ch=h)}}function ls(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wg(e){if(ls(e)!==e)throw Error(V(188))}function Qk(e){var t=e.alternate;if(!t){if(t=ls(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return wg(s),e;if(o===r)return wg(s),t;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,u=s.child;u;){if(u===n){l=!0,n=s,r=o;break}if(u===r){l=!0,r=s,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=s;break}if(u===r){l=!0,r=o,n=s;break}u=u.sibling}if(!l)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function y_(e){return e=Qk(e),e!==null?__(e):null}function __(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=__(e);if(t!==null)return t;e=e.sibling}return null}var w_=cn.unstable_scheduleCallback,xg=cn.unstable_cancelCallback,Yk=cn.unstable_shouldYield,Jk=cn.unstable_requestPaint,Xe=cn.unstable_now,Xk=cn.unstable_getCurrentPriorityLevel,Hf=cn.unstable_ImmediatePriority,x_=cn.unstable_UserBlockingPriority,Tu=cn.unstable_NormalPriority,eS=cn.unstable_LowPriority,b_=cn.unstable_IdlePriority,sc=null,ir=null;function tS(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(sc,e,void 0,(e.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:iS,nS=Math.log,rS=Math.LN2;function iS(e){return e>>>=0,e===0?32:31-(nS(e)/rS|0)|0}var Ll=64,Al=4194304;function ia(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ju(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~s;u!==0?r=ia(u):(o&=l,o!==0&&(r=ia(o)))}else l=n&~s,l!==0?r=ia(l):o!==0&&(r=ia(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zn(t),s=1<<n,r|=e[n],t&=~s;return r}function sS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-zn(o),u=1<<l,d=s[l];d===-1?(!(u&n)||u&r)&&(s[l]=sS(u,t)):d<=t&&(e.expiredLanes|=u),o&=~u}}function Th(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k_(){var e=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),e}function kd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ga(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zn(t),e[t]=n}function aS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-zn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Zf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Me=0;function S_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var P_,Vf,E_,C_,T_,jh=!1,Ol=[],oi=null,ai=null,li=null,Sa=new Map,Pa=new Map,Kr=[],lS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bg(e,t){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Sa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(t.pointerId)}}function Zo(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Qa(t),t!==null&&Vf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function uS(e,t,n,r,s){switch(t){case"focusin":return oi=Zo(oi,e,t,n,r,s),!0;case"dragenter":return ai=Zo(ai,e,t,n,r,s),!0;case"mouseover":return li=Zo(li,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Sa.set(o,Zo(Sa.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Pa.set(o,Zo(Pa.get(o)||null,e,t,n,r,s)),!0}return!1}function j_(e){var t=Ui(e.target);if(t!==null){var n=ls(t);if(n!==null){if(t=n.tag,t===13){if(t=v_(n),t!==null){e.blockedOn=t,T_(e.priority,function(){E_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Sh=r,n.target.dispatchEvent(r),Sh=null}else return t=Qa(n),t!==null&&Vf(t),e.blockedOn=n,!1;t.shift()}return!0}function kg(e,t,n){lu(e)&&n.delete(t)}function cS(){jh=!1,oi!==null&&lu(oi)&&(oi=null),ai!==null&&lu(ai)&&(ai=null),li!==null&&lu(li)&&(li=null),Sa.forEach(kg),Pa.forEach(kg)}function Vo(e,t){e.blockedOn===t&&(e.blockedOn=null,jh||(jh=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,cS)))}function Ea(e){function t(s){return Vo(s,e)}if(0<Ol.length){Vo(Ol[0],e);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===e&&(r.blockedOn=null)}}for(oi!==null&&Vo(oi,e),ai!==null&&Vo(ai,e),li!==null&&Vo(li,e),Sa.forEach(t),Pa.forEach(t),n=0;n<Kr.length;n++)r=Kr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kr.length&&(n=Kr[0],n.blockedOn===null);)j_(n),n.blockedOn===null&&Kr.shift()}var Zs=Or.ReactCurrentBatchConfig,Nu=!0;function dS(e,t,n,r){var s=Me,o=Zs.transition;Zs.transition=null;try{Me=1,qf(e,t,n,r)}finally{Me=s,Zs.transition=o}}function hS(e,t,n,r){var s=Me,o=Zs.transition;Zs.transition=null;try{Me=4,qf(e,t,n,r)}finally{Me=s,Zs.transition=o}}function qf(e,t,n,r){if(Nu){var s=Nh(e,t,n,r);if(s===null)Od(e,t,r,Lu,n),bg(e,r);else if(uS(s,e,t,n,r))r.stopPropagation();else if(bg(e,r),t&4&&-1<lS.indexOf(e)){for(;s!==null;){var o=Qa(s);if(o!==null&&P_(o),o=Nh(e,t,n,r),o===null&&Od(e,t,r,Lu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Od(e,t,r,null,n)}}var Lu=null;function Nh(e,t,n,r){if(Lu=null,e=Wf(r),e=Ui(e),e!==null)if(t=ls(e),t===null)e=null;else if(n=t.tag,n===13){if(e=v_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lu=e,null}function N_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xk()){case Hf:return 1;case x_:return 4;case Tu:case eS:return 16;case b_:return 536870912;default:return 16}default:return 16}}var ri=null,Gf=null,uu=null;function L_(){if(uu)return uu;var e,t=Gf,n=t.length,r,s="value"in ri?ri.value:ri.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[o-r];r++);return uu=s.slice(e,1<r?1-r:void 0)}function cu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function Sg(){return!1}function hn(e){function t(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rl:Sg,this.isPropagationStopped=Sg,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),t}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kf=hn(So),Ka=Ve({},So,{view:0,detail:0}),fS=hn(Ka),Sd,Pd,qo,oc=Ve({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qo&&(qo&&e.type==="mousemove"?(Sd=e.screenX-qo.screenX,Pd=e.screenY-qo.screenY):Pd=Sd=0,qo=e),Sd)},movementY:function(e){return"movementY"in e?e.movementY:Pd}}),Pg=hn(oc),pS=Ve({},oc,{dataTransfer:0}),mS=hn(pS),gS=Ve({},Ka,{relatedTarget:0}),Ed=hn(gS),vS=Ve({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),yS=hn(vS),_S=Ve({},So,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wS=hn(_S),xS=Ve({},So,{data:0}),Eg=hn(xS),bS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SS[e])?!!t[e]:!1}function Qf(){return PS}var ES=Ve({},Ka,{key:function(e){if(e.key){var t=bS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qf,charCode:function(e){return e.type==="keypress"?cu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CS=hn(ES),TS=Ve({},oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cg=hn(TS),jS=Ve({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qf}),NS=hn(jS),LS=Ve({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),AS=hn(LS),OS=Ve({},oc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RS=hn(OS),MS=[9,13,27,32],Yf=Cr&&"CompositionEvent"in window,ua=null;Cr&&"documentMode"in document&&(ua=document.documentMode);var IS=Cr&&"TextEvent"in window&&!ua,A_=Cr&&(!Yf||ua&&8<ua&&11>=ua),Tg=" ",jg=!1;function O_(e,t){switch(e){case"keyup":return MS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function DS(e,t){switch(e){case"compositionend":return R_(t);case"keypress":return t.which!==32?null:(jg=!0,Tg);case"textInput":return e=t.data,e===Tg&&jg?null:e;default:return null}}function zS(e,t){if(As)return e==="compositionend"||!Yf&&O_(e,t)?(e=L_(),uu=Gf=ri=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A_&&t.locale!=="ko"?null:t.data;default:return null}}var FS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FS[e.type]:t==="textarea"}function M_(e,t,n,r){h_(r),t=Au(t,"onChange"),0<t.length&&(n=new Kf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ca=null,Ca=null;function $S(e){V_(e,0)}function ac(e){var t=Ms(e);if(s_(t))return e}function BS(e,t){if(e==="change")return t}var I_=!1;if(Cr){var Cd;if(Cr){var Td="oninput"in document;if(!Td){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Td=typeof Lg.oninput=="function"}Cd=Td}else Cd=!1;I_=Cd&&(!document.documentMode||9<document.documentMode)}function Ag(){ca&&(ca.detachEvent("onpropertychange",D_),Ca=ca=null)}function D_(e){if(e.propertyName==="value"&&ac(Ca)){var t=[];M_(t,Ca,e,Wf(e)),g_($S,t)}}function US(e,t,n){e==="focusin"?(Ag(),ca=t,Ca=n,ca.attachEvent("onpropertychange",D_)):e==="focusout"&&Ag()}function WS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ac(Ca)}function HS(e,t){if(e==="click")return ac(t)}function ZS(e,t){if(e==="input"||e==="change")return ac(t)}function VS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:VS;function Ta(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hh.call(t,s)||!$n(e[s],t[s]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rg(e,t){var n=Og(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Og(n)}}function z_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function F_(){for(var e=window,t=Pu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pu(e.document)}return t}function Jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qS(e){var t=F_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&z_(n.ownerDocument.documentElement,n)){if(r!==null&&Jf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Rg(n,o);var l=Rg(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GS=Cr&&"documentMode"in document&&11>=document.documentMode,Os=null,Lh=null,da=null,Ah=!1;function Mg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ah||Os==null||Os!==Pu(r)||(r=Os,"selectionStart"in r&&Jf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),da&&Ta(da,r)||(da=r,r=Au(Lh,"onSelect"),0<r.length&&(t=new Kf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Os)))}function Ml(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rs={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},jd={},$_={};Cr&&($_=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function lc(e){if(jd[e])return jd[e];if(!Rs[e])return e;var t=Rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $_)return jd[e]=t[n];return e}var B_=lc("animationend"),U_=lc("animationiteration"),W_=lc("animationstart"),H_=lc("transitionend"),Z_=new Map,Ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(e,t){Z_.set(e,t),as(t,[e])}for(var Nd=0;Nd<Ig.length;Nd++){var Ld=Ig[Nd],KS=Ld.toLowerCase(),QS=Ld[0].toUpperCase()+Ld.slice(1);xi(KS,"on"+QS)}xi(B_,"onAnimationEnd");xi(U_,"onAnimationIteration");xi(W_,"onAnimationStart");xi("dblclick","onDoubleClick");xi("focusin","onFocus");xi("focusout","onBlur");xi(H_,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function Dg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Kk(r,t,void 0,e),e.currentTarget=null}function V_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,h=u.currentTarget;if(u=u.listener,d!==o&&s.isPropagationStopped())break e;Dg(s,u,h),o=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,h=u.currentTarget,u=u.listener,d!==o&&s.isPropagationStopped())break e;Dg(s,u,h),o=d}}}if(Cu)throw e=Ch,Cu=!1,Ch=null,e}function $e(e,t){var n=t[Dh];n===void 0&&(n=t[Dh]=new Set);var r=e+"__bubble";n.has(r)||(q_(t,e,2,!1),n.add(r))}function Ad(e,t,n){var r=0;t&&(r|=4),q_(n,e,r,t)}var Il="_reactListening"+Math.random().toString(36).slice(2);function ja(e){if(!e[Il]){e[Il]=!0,e_.forEach(function(n){n!=="selectionchange"&&(YS.has(n)||Ad(n,!1,e),Ad(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Il]||(t[Il]=!0,Ad("selectionchange",!1,t))}}function q_(e,t,n,r){switch(N_(t)){case 1:var s=dS;break;case 4:s=hS;break;default:s=qf}n=s.bind(null,t,n,e),s=void 0,!Eh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Od(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;u!==null;){if(l=Ui(u),l===null)return;if(d=l.tag,d===5||d===6){r=o=l;continue e}u=u.parentNode}}r=r.return}g_(function(){var h=o,m=Wf(n),v=[];e:{var g=Z_.get(e);if(g!==void 0){var x=Kf,E=e;switch(e){case"keypress":if(cu(n)===0)break e;case"keydown":case"keyup":x=CS;break;case"focusin":E="focus",x=Ed;break;case"focusout":E="blur",x=Ed;break;case"beforeblur":case"afterblur":x=Ed;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=mS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=NS;break;case B_:case U_:case W_:x=yS;break;case H_:x=AS;break;case"scroll":x=fS;break;case"wheel":x=RS;break;case"copy":case"cut":case"paste":x=wS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Cg}var w=(t&4)!==0,C=!w&&e==="scroll",k=w?g!==null?g+"Capture":null:g;w=[];for(var b=h,P;b!==null;){P=b;var T=P.stateNode;if(P.tag===5&&T!==null&&(P=T,k!==null&&(T=ka(b,k),T!=null&&w.push(Na(b,T,P)))),C)break;b=b.return}0<w.length&&(g=new x(g,E,null,n,m),v.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==Sh&&(E=n.relatedTarget||n.fromElement)&&(Ui(E)||E[Tr]))break e;if((x||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,x?(E=n.relatedTarget||n.toElement,x=h,E=E?Ui(E):null,E!==null&&(C=ls(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(x=null,E=h),x!==E)){if(w=Pg,T="onMouseLeave",k="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(w=Cg,T="onPointerLeave",k="onPointerEnter",b="pointer"),C=x==null?g:Ms(x),P=E==null?g:Ms(E),g=new w(T,b+"leave",x,n,m),g.target=C,g.relatedTarget=P,T=null,Ui(m)===h&&(w=new w(k,b+"enter",E,n,m),w.target=P,w.relatedTarget=C,T=w),C=T,x&&E)t:{for(w=x,k=E,b=0,P=w;P;P=bs(P))b++;for(P=0,T=k;T;T=bs(T))P++;for(;0<b-P;)w=bs(w),b--;for(;0<P-b;)k=bs(k),P--;for(;b--;){if(w===k||k!==null&&w===k.alternate)break t;w=bs(w),k=bs(k)}w=null}else w=null;x!==null&&zg(v,g,x,w,!1),E!==null&&C!==null&&zg(v,C,E,w,!0)}}e:{if(g=h?Ms(h):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var N=BS;else if(Ng(g))if(I_)N=ZS;else{N=WS;var R=US}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=HS);if(N&&(N=N(e,h))){M_(v,N,n,m);break e}R&&R(e,g,h),e==="focusout"&&(R=g._wrapperState)&&R.controlled&&g.type==="number"&&_h(g,"number",g.value)}switch(R=h?Ms(h):window,e){case"focusin":(Ng(R)||R.contentEditable==="true")&&(Os=R,Lh=h,da=null);break;case"focusout":da=Lh=Os=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,Mg(v,n,m);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":Mg(v,n,m)}var M;if(Yf)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else As?O_(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(A_&&n.locale!=="ko"&&(As||D!=="onCompositionStart"?D==="onCompositionEnd"&&As&&(M=L_()):(ri=m,Gf="value"in ri?ri.value:ri.textContent,As=!0)),R=Au(h,D),0<R.length&&(D=new Eg(D,e,null,n,m),v.push({event:D,listeners:R}),M?D.data=M:(M=R_(n),M!==null&&(D.data=M)))),(M=IS?DS(e,n):zS(e,n))&&(h=Au(h,"onBeforeInput"),0<h.length&&(m=new Eg("onBeforeInput","beforeinput",null,n,m),v.push({event:m,listeners:h}),m.data=M))}V_(v,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Au(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ka(e,n),o!=null&&r.unshift(Na(e,o,s)),o=ka(e,t),o!=null&&r.push(Na(e,o,s))),e=e.return}return r}function bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zg(e,t,n,r,s){for(var o=t._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,h=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&h!==null&&(u=h,s?(d=ka(n,o),d!=null&&l.unshift(Na(n,d,u))):s||(d=ka(n,o),d!=null&&l.push(Na(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var JS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function Fg(e){return(typeof e=="string"?e:""+e).replace(JS,`
`).replace(XS,"")}function Dl(e,t,n){if(t=Fg(t),Fg(e)!==t&&n)throw Error(V(425))}function Ou(){}var Oh=null,Rh=null;function Mh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,eP=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,tP=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(e){return $g.resolve(null).then(e).catch(nP)}:Ih;function nP(e){setTimeout(function(){throw e})}function Rd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ea(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ea(t)}function ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Po=Math.random().toString(36).slice(2),tr="__reactFiber$"+Po,La="__reactProps$"+Po,Tr="__reactContainer$"+Po,Dh="__reactEvents$"+Po,rP="__reactListeners$"+Po,iP="__reactHandles$"+Po;function Ui(e){var t=e[tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tr]||n[tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bg(e);e!==null;){if(n=e[tr])return n;e=Bg(e)}return t}e=n,n=e.parentNode}return null}function Qa(e){return e=e[tr]||e[Tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function uc(e){return e[La]||null}var zh=[],Is=-1;function bi(e){return{current:e}}function Be(e){0>Is||(e.current=zh[Is],zh[Is]=null,Is--)}function ze(e,t){Is++,zh[Is]=e.current,e.current=t}var mi={},Tt=bi(mi),Gt=bi(!1),Ji=mi;function lo(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Kt(e){return e=e.childContextTypes,e!=null}function Ru(){Be(Gt),Be(Tt)}function Ug(e,t,n){if(Tt.current!==mi)throw Error(V(168));ze(Tt,t),ze(Gt,n)}function G_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(V(108,Uk(e)||"Unknown",s));return Ve({},n,r)}function Mu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,Ji=Tt.current,ze(Tt,e),ze(Gt,Gt.current),!0}function Wg(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=G_(e,t,Ji),r.__reactInternalMemoizedMergedChildContext=e,Be(Gt),Be(Tt),ze(Tt,e)):Be(Gt),ze(Gt,n)}var br=null,cc=!1,Md=!1;function K_(e){br===null?br=[e]:br.push(e)}function sP(e){cc=!0,K_(e)}function ki(){if(!Md&&br!==null){Md=!0;var e=0,t=Me;try{var n=br;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}br=null,cc=!1}catch(s){throw br!==null&&(br=br.slice(e+1)),w_(Hf,ki),s}finally{Me=t,Md=!1}}return null}var Ds=[],zs=0,Iu=null,Du=0,yn=[],_n=0,Xi=null,kr=1,Sr="";function Di(e,t){Ds[zs++]=Du,Ds[zs++]=Iu,Iu=e,Du=t}function Q_(e,t,n){yn[_n++]=kr,yn[_n++]=Sr,yn[_n++]=Xi,Xi=e;var r=kr;e=Sr;var s=32-zn(r)-1;r&=~(1<<s),n+=1;var o=32-zn(t)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,kr=1<<32-zn(t)+s|n<<s|r,Sr=o+e}else kr=1<<o|n<<s|r,Sr=e}function Xf(e){e.return!==null&&(Di(e,1),Q_(e,1,0))}function ep(e){for(;e===Iu;)Iu=Ds[--zs],Ds[zs]=null,Du=Ds[--zs],Ds[zs]=null;for(;e===Xi;)Xi=yn[--_n],yn[_n]=null,Sr=yn[--_n],yn[_n]=null,kr=yn[--_n],yn[_n]=null}var an=null,on=null,Ue=!1,Dn=null;function Y_(e,t){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,an=e,on=ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,an=e,on=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xi!==null?{id:kr,overflow:Sr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,an=e,on=null,!0):!1;default:return!1}}function Fh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $h(e){if(Ue){var t=on;if(t){var n=t;if(!Hg(e,t)){if(Fh(e))throw Error(V(418));t=ui(n.nextSibling);var r=an;t&&Hg(e,t)?Y_(r,n):(e.flags=e.flags&-4097|2,Ue=!1,an=e)}}else{if(Fh(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ue=!1,an=e}}}function Zg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;an=e}function zl(e){if(e!==an)return!1;if(!Ue)return Zg(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mh(e.type,e.memoizedProps)),t&&(t=on)){if(Fh(e))throw J_(),Error(V(418));for(;t;)Y_(e,t),t=ui(t.nextSibling)}if(Zg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){on=ui(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}on=null}}else on=an?ui(e.stateNode.nextSibling):null;return!0}function J_(){for(var e=on;e;)e=ui(e.nextSibling)}function uo(){on=an=null,Ue=!1}function tp(e){Dn===null?Dn=[e]:Dn.push(e)}var oP=Or.ReactCurrentBatchConfig;function Go(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var u=s.refs;l===null?delete u[o]:u[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Fl(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vg(e){var t=e._init;return t(e._payload)}function X_(e){function t(k,b){if(e){var P=k.deletions;P===null?(k.deletions=[b],k.flags|=16):P.push(b)}}function n(k,b){if(!e)return null;for(;b!==null;)t(k,b),b=b.sibling;return null}function r(k,b){for(k=new Map;b!==null;)b.key!==null?k.set(b.key,b):k.set(b.index,b),b=b.sibling;return k}function s(k,b){return k=fi(k,b),k.index=0,k.sibling=null,k}function o(k,b,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<b?(k.flags|=2,b):P):(k.flags|=2,b)):(k.flags|=1048576,b)}function l(k){return e&&k.alternate===null&&(k.flags|=2),k}function u(k,b,P,T){return b===null||b.tag!==6?(b=Ud(P,k.mode,T),b.return=k,b):(b=s(b,P),b.return=k,b)}function d(k,b,P,T){var N=P.type;return N===Ls?m(k,b,P.props.children,T,P.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Vr&&Vg(N)===b.type)?(T=s(b,P.props),T.ref=Go(k,b,P),T.return=k,T):(T=vu(P.type,P.key,P.props,null,k.mode,T),T.ref=Go(k,b,P),T.return=k,T)}function h(k,b,P,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==P.containerInfo||b.stateNode.implementation!==P.implementation?(b=Wd(P,k.mode,T),b.return=k,b):(b=s(b,P.children||[]),b.return=k,b)}function m(k,b,P,T,N){return b===null||b.tag!==7?(b=Qi(P,k.mode,T,N),b.return=k,b):(b=s(b,P),b.return=k,b)}function v(k,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ud(""+b,k.mode,P),b.return=k,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tl:return P=vu(b.type,b.key,b.props,null,k.mode,P),P.ref=Go(k,null,b),P.return=k,P;case Ns:return b=Wd(b,k.mode,P),b.return=k,b;case Vr:var T=b._init;return v(k,T(b._payload),P)}if(ra(b)||Wo(b))return b=Qi(b,k.mode,P,null),b.return=k,b;Fl(k,b)}return null}function g(k,b,P,T){var N=b!==null?b.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return N!==null?null:u(k,b,""+P,T);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Tl:return P.key===N?d(k,b,P,T):null;case Ns:return P.key===N?h(k,b,P,T):null;case Vr:return N=P._init,g(k,b,N(P._payload),T)}if(ra(P)||Wo(P))return N!==null?null:m(k,b,P,T,null);Fl(k,P)}return null}function x(k,b,P,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return k=k.get(P)||null,u(b,k,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Tl:return k=k.get(T.key===null?P:T.key)||null,d(b,k,T,N);case Ns:return k=k.get(T.key===null?P:T.key)||null,h(b,k,T,N);case Vr:var R=T._init;return x(k,b,P,R(T._payload),N)}if(ra(T)||Wo(T))return k=k.get(P)||null,m(b,k,T,N,null);Fl(b,T)}return null}function E(k,b,P,T){for(var N=null,R=null,M=b,D=b=0,F=null;M!==null&&D<P.length;D++){M.index>D?(F=M,M=null):F=M.sibling;var Q=g(k,M,P[D],T);if(Q===null){M===null&&(M=F);break}e&&M&&Q.alternate===null&&t(k,M),b=o(Q,b,D),R===null?N=Q:R.sibling=Q,R=Q,M=F}if(D===P.length)return n(k,M),Ue&&Di(k,D),N;if(M===null){for(;D<P.length;D++)M=v(k,P[D],T),M!==null&&(b=o(M,b,D),R===null?N=M:R.sibling=M,R=M);return Ue&&Di(k,D),N}for(M=r(k,M);D<P.length;D++)F=x(M,k,D,P[D],T),F!==null&&(e&&F.alternate!==null&&M.delete(F.key===null?D:F.key),b=o(F,b,D),R===null?N=F:R.sibling=F,R=F);return e&&M.forEach(function(Y){return t(k,Y)}),Ue&&Di(k,D),N}function w(k,b,P,T){var N=Wo(P);if(typeof N!="function")throw Error(V(150));if(P=N.call(P),P==null)throw Error(V(151));for(var R=N=null,M=b,D=b=0,F=null,Q=P.next();M!==null&&!Q.done;D++,Q=P.next()){M.index>D?(F=M,M=null):F=M.sibling;var Y=g(k,M,Q.value,T);if(Y===null){M===null&&(M=F);break}e&&M&&Y.alternate===null&&t(k,M),b=o(Y,b,D),R===null?N=Y:R.sibling=Y,R=Y,M=F}if(Q.done)return n(k,M),Ue&&Di(k,D),N;if(M===null){for(;!Q.done;D++,Q=P.next())Q=v(k,Q.value,T),Q!==null&&(b=o(Q,b,D),R===null?N=Q:R.sibling=Q,R=Q);return Ue&&Di(k,D),N}for(M=r(k,M);!Q.done;D++,Q=P.next())Q=x(M,k,D,Q.value,T),Q!==null&&(e&&Q.alternate!==null&&M.delete(Q.key===null?D:Q.key),b=o(Q,b,D),R===null?N=Q:R.sibling=Q,R=Q);return e&&M.forEach(function(K){return t(k,K)}),Ue&&Di(k,D),N}function C(k,b,P,T){if(typeof P=="object"&&P!==null&&P.type===Ls&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Tl:e:{for(var N=P.key,R=b;R!==null;){if(R.key===N){if(N=P.type,N===Ls){if(R.tag===7){n(k,R.sibling),b=s(R,P.props.children),b.return=k,k=b;break e}}else if(R.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Vr&&Vg(N)===R.type){n(k,R.sibling),b=s(R,P.props),b.ref=Go(k,R,P),b.return=k,k=b;break e}n(k,R);break}else t(k,R);R=R.sibling}P.type===Ls?(b=Qi(P.props.children,k.mode,T,P.key),b.return=k,k=b):(T=vu(P.type,P.key,P.props,null,k.mode,T),T.ref=Go(k,b,P),T.return=k,k=T)}return l(k);case Ns:e:{for(R=P.key;b!==null;){if(b.key===R)if(b.tag===4&&b.stateNode.containerInfo===P.containerInfo&&b.stateNode.implementation===P.implementation){n(k,b.sibling),b=s(b,P.children||[]),b.return=k,k=b;break e}else{n(k,b);break}else t(k,b);b=b.sibling}b=Wd(P,k.mode,T),b.return=k,k=b}return l(k);case Vr:return R=P._init,C(k,b,R(P._payload),T)}if(ra(P))return E(k,b,P,T);if(Wo(P))return w(k,b,P,T);Fl(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,b!==null&&b.tag===6?(n(k,b.sibling),b=s(b,P),b.return=k,k=b):(n(k,b),b=Ud(P,k.mode,T),b.return=k,k=b),l(k)):n(k,b)}return C}var co=X_(!0),e0=X_(!1),zu=bi(null),Fu=null,Fs=null,np=null;function rp(){np=Fs=Fu=null}function ip(e){var t=zu.current;Be(zu),e._currentValue=t}function Bh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vs(e,t){Fu=e,np=Fs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function Sn(e){var t=e._currentValue;if(np!==e)if(e={context:e,memoizedValue:t,next:null},Fs===null){if(Fu===null)throw Error(V(308));Fs=e,Fu.dependencies={lanes:0,firstContext:e}}else Fs=Fs.next=e;return t}var Wi=null;function sp(e){Wi===null?Wi=[e]:Wi.push(e)}function t0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,sp(t)):(n.next=s.next,s.next=n),t.interleaved=n,jr(e,r)}function jr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qr=!1;function op(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ci(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,jr(e,n)}return s=r.interleaved,s===null?(t.next=t,sp(r)):(t.next=s.next,s.next=t),r.interleaved=t,jr(e,n)}function du(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zf(e,n)}}function qg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $u(e,t,n,r){var s=e.updateQueue;qr=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var d=u,h=d.next;d.next=null,l===null?o=h:l.next=h,l=d;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=d))}if(o!==null){var v=s.baseState;l=0,m=h=d=null,u=o;do{var g=u.lane,x=u.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:x,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,w=u;switch(g=t,x=n,w.tag){case 1:if(E=w.payload,typeof E=="function"){v=E.call(x,v,g);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,g=typeof E=="function"?E.call(x,v,g):E,g==null)break e;v=Ve({},v,g);break e;case 2:qr=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[u]:g.push(u))}else x={eventTime:x,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(h=m=x,d=v):m=m.next=x,l|=g;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;g=u,u=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(m===null&&(d=v),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ts|=l,e.lanes=l,e.memoizedState=v}}function Gg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(V(191,s));s.call(r)}}}var Ya={},sr=bi(Ya),Aa=bi(Ya),Oa=bi(Ya);function Hi(e){if(e===Ya)throw Error(V(174));return e}function ap(e,t){switch(ze(Oa,t),ze(Aa,e),ze(sr,Ya),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xh(t,e)}Be(sr),ze(sr,t)}function ho(){Be(sr),Be(Aa),Be(Oa)}function r0(e){Hi(Oa.current);var t=Hi(sr.current),n=xh(t,e.type);t!==n&&(ze(Aa,e),ze(sr,n))}function lp(e){Aa.current===e&&(Be(sr),Be(Aa))}var He=bi(0);function Bu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Id=[];function up(){for(var e=0;e<Id.length;e++)Id[e]._workInProgressVersionPrimary=null;Id.length=0}var hu=Or.ReactCurrentDispatcher,Dd=Or.ReactCurrentBatchConfig,es=0,Ze=null,ct=null,pt=null,Uu=!1,ha=!1,Ra=0,aP=0;function St(){throw Error(V(321))}function cp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function dp(e,t,n,r,s,o){if(es=o,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hu.current=e===null||e.memoizedState===null?dP:hP,e=n(r,s),ha){o=0;do{if(ha=!1,Ra=0,25<=o)throw Error(V(301));o+=1,pt=ct=null,t.updateQueue=null,hu.current=fP,e=n(r,s)}while(ha)}if(hu.current=Wu,t=ct!==null&&ct.next!==null,es=0,pt=ct=Ze=null,Uu=!1,t)throw Error(V(300));return e}function hp(){var e=Ra!==0;return Ra=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ze.memoizedState=pt=e:pt=pt.next=e,pt}function Pn(){if(ct===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=pt===null?Ze.memoizedState:pt.next;if(t!==null)pt=t,ct=e;else{if(e===null)throw Error(V(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},pt===null?Ze.memoizedState=pt=e:pt=pt.next=e}return pt}function Ma(e,t){return typeof t=="function"?t(e):t}function zd(e){var t=Pn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=ct,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var u=l=null,d=null,h=o;do{var m=h.lane;if((es&m)===m)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(u=d=v,l=r):d=d.next=v,Ze.lanes|=m,ts|=m}h=h.next}while(h!==null&&h!==o);d===null?l=r:d.next=u,$n(r,t.memoizedState)||(qt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ze.lanes|=o,ts|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fd(e){var t=Pn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);$n(o,t.memoizedState)||(qt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function i0(){}function s0(e,t){var n=Ze,r=Pn(),s=t(),o=!$n(r.memoizedState,s);if(o&&(r.memoizedState=s,qt=!0),r=r.queue,fp(l0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Ia(9,a0.bind(null,n,r,s,t),void 0,null),gt===null)throw Error(V(349));es&30||o0(n,t,s)}return s}function o0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function a0(e,t,n,r){t.value=n,t.getSnapshot=r,u0(t)&&c0(e)}function l0(e,t,n){return n(function(){u0(t)&&c0(e)})}function u0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch{return!0}}function c0(e){var t=jr(e,1);t!==null&&Fn(t,e,1,-1)}function Kg(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t.queue=e,e=e.dispatch=cP.bind(null,Ze,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function d0(){return Pn().memoizedState}function fu(e,t,n,r){var s=Yn();Ze.flags|=e,s.memoizedState=Ia(1|t,n,void 0,r===void 0?null:r)}function dc(e,t,n,r){var s=Pn();r=r===void 0?null:r;var o=void 0;if(ct!==null){var l=ct.memoizedState;if(o=l.destroy,r!==null&&cp(r,l.deps)){s.memoizedState=Ia(t,n,o,r);return}}Ze.flags|=e,s.memoizedState=Ia(1|t,n,o,r)}function Qg(e,t){return fu(8390656,8,e,t)}function fp(e,t){return dc(2048,8,e,t)}function h0(e,t){return dc(4,2,e,t)}function f0(e,t){return dc(4,4,e,t)}function p0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m0(e,t,n){return n=n!=null?n.concat([e]):null,dc(4,4,p0.bind(null,t,e),n)}function pp(){}function g0(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function v0(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function y0(e,t,n){return es&21?($n(n,t)||(n=k_(),Ze.lanes|=n,ts|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=n)}function lP(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=Dd.transition;Dd.transition={};try{e(!1),t()}finally{Me=n,Dd.transition=r}}function _0(){return Pn().memoizedState}function uP(e,t,n){var r=hi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w0(e))x0(t,n);else if(n=t0(e,t,n,r),n!==null){var s=It();Fn(n,e,r,s),b0(n,t,r)}}function cP(e,t,n){var r=hi(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w0(e))x0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,u=o(l,n);if(s.hasEagerState=!0,s.eagerState=u,$n(u,l)){var d=t.interleaved;d===null?(s.next=s,sp(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}n=t0(e,t,s,r),n!==null&&(s=It(),Fn(n,e,r,s),b0(n,t,r))}}function w0(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function x0(e,t){ha=Uu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function b0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zf(e,n)}}var Wu={readContext:Sn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},dP={readContext:Sn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:Qg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fu(4194308,4,p0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fu(4194308,4,e,t)},useInsertionEffect:function(e,t){return fu(4,2,e,t)},useMemo:function(e,t){var n=Yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=uP.bind(null,Ze,e),[r.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:Kg,useDebugValue:pp,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=Kg(!1),t=e[0];return e=lP.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ze,s=Yn();if(Ue){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),gt===null)throw Error(V(349));es&30||o0(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Qg(l0.bind(null,r,o,e),[e]),r.flags|=2048,Ia(9,a0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Yn(),t=gt.identifierPrefix;if(Ue){var n=Sr,r=kr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ra++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=aP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hP={readContext:Sn,useCallback:g0,useContext:Sn,useEffect:fp,useImperativeHandle:m0,useInsertionEffect:h0,useLayoutEffect:f0,useMemo:v0,useReducer:zd,useRef:d0,useState:function(){return zd(Ma)},useDebugValue:pp,useDeferredValue:function(e){var t=Pn();return y0(t,ct.memoizedState,e)},useTransition:function(){var e=zd(Ma)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:i0,useSyncExternalStore:s0,useId:_0,unstable_isNewReconciler:!1},fP={readContext:Sn,useCallback:g0,useContext:Sn,useEffect:fp,useImperativeHandle:m0,useInsertionEffect:h0,useLayoutEffect:f0,useMemo:v0,useReducer:Fd,useRef:d0,useState:function(){return Fd(Ma)},useDebugValue:pp,useDeferredValue:function(e){var t=Pn();return ct===null?t.memoizedState=e:y0(t,ct.memoizedState,e)},useTransition:function(){var e=Fd(Ma)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:i0,useSyncExternalStore:s0,useId:_0,unstable_isNewReconciler:!1};function An(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Uh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hc={isMounted:function(e){return(e=e._reactInternals)?ls(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=It(),s=hi(e),o=Pr(r,s);o.payload=t,n!=null&&(o.callback=n),t=ci(e,o,s),t!==null&&(Fn(t,e,s,r),du(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=It(),s=hi(e),o=Pr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ci(e,o,s),t!==null&&(Fn(t,e,s,r),du(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=It(),r=hi(e),s=Pr(n,r);s.tag=2,t!=null&&(s.callback=t),t=ci(e,s,r),t!==null&&(Fn(t,e,r,n),du(t,e,r))}};function Yg(e,t,n,r,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Ta(n,r)||!Ta(s,o):!0}function k0(e,t,n){var r=!1,s=mi,o=t.contextType;return typeof o=="object"&&o!==null?o=Sn(o):(s=Kt(t)?Ji:Tt.current,r=t.contextTypes,o=(r=r!=null)?lo(e,s):mi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Jg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hc.enqueueReplaceState(t,t.state,null)}function Wh(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},op(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Sn(o):(o=Kt(t)?Ji:Tt.current,s.context=lo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Uh(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&hc.enqueueReplaceState(s,s.state,null),$u(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do n+=Bk(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function $d(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pP=typeof WeakMap=="function"?WeakMap:Map;function S0(e,t,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zu||(Zu=!0,ef=r),Hh(e,t)},n}function P0(e,t,n){n=Pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Hh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Hh(e,t),typeof r!="function"&&(di===null?di=new Set([this]):di.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Xg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pP;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=TP.bind(null,e,t,n),t.then(e,e))}function ev(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pr(-1,1),t.tag=2,ci(n,t,1))),n.lanes|=1),e)}var mP=Or.ReactCurrentOwner,qt=!1;function Rt(e,t,n,r){t.child=e===null?e0(t,null,n,r):co(t,e.child,n,r)}function nv(e,t,n,r,s){n=n.render;var o=t.ref;return Vs(t,s),r=dp(e,t,n,r,o,s),n=hp(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nr(e,t,s)):(Ue&&n&&Xf(t),t.flags|=1,Rt(e,t,r,s),t.child)}function rv(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!bp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,E0(e,t,o,r,s)):(e=vu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ta,n(l,r)&&e.ref===t.ref)return Nr(e,t,s)}return t.flags|=1,e=fi(o,r),e.ref=t.ref,e.return=t,t.child=e}function E0(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ta(o,r)&&e.ref===t.ref)if(qt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,Nr(e,t,s)}return Zh(e,t,n,r,s)}function C0(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Bs,rn),rn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Bs,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ze(Bs,rn),rn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ze(Bs,rn),rn|=r;return Rt(e,t,s,n),t.child}function T0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zh(e,t,n,r,s){var o=Kt(n)?Ji:Tt.current;return o=lo(t,o),Vs(t,s),n=dp(e,t,n,r,o,s),r=hp(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nr(e,t,s)):(Ue&&r&&Xf(t),t.flags|=1,Rt(e,t,n,s),t.child)}function iv(e,t,n,r,s){if(Kt(n)){var o=!0;Mu(t)}else o=!1;if(Vs(t,s),t.stateNode===null)pu(e,t),k0(t,n,r),Wh(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=Sn(h):(h=Kt(n)?Ji:Tt.current,h=lo(t,h));var m=n.getDerivedStateFromProps,v=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";v||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==h)&&Jg(t,l,r,h),qr=!1;var g=t.memoizedState;l.state=g,$u(t,r,l,s),d=t.memoizedState,u!==r||g!==d||Gt.current||qr?(typeof m=="function"&&(Uh(t,n,m,r),d=t.memoizedState),(u=qr||Yg(t,n,u,r,g,d,h))?(v||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=h,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,n0(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:An(t.type,u),l.props=h,v=t.pendingProps,g=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Sn(d):(d=Kt(n)?Ji:Tt.current,d=lo(t,d));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==v||g!==d)&&Jg(t,l,r,d),qr=!1,g=t.memoizedState,l.state=g,$u(t,r,l,s);var E=t.memoizedState;u!==v||g!==E||Gt.current||qr?(typeof x=="function"&&(Uh(t,n,x,r),E=t.memoizedState),(h=qr||Yg(t,n,h,r,g,E,d)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),l.props=r,l.state=E,l.context=d,r=h):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Vh(e,t,n,r,o,s)}function Vh(e,t,n,r,s,o){T0(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Wg(t,n,!1),Nr(e,t,o);r=t.stateNode,mP.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=co(t,e.child,null,o),t.child=co(t,null,u,o)):Rt(e,t,u,o),t.memoizedState=r.state,s&&Wg(t,n,!0),t.child}function j0(e){var t=e.stateNode;t.pendingContext?Ug(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ug(e,t.context,!1),ap(e,t.containerInfo)}function sv(e,t,n,r,s){return uo(),tp(s),t.flags|=256,Rt(e,t,n,r),t.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Gh(e){return{baseLanes:e,cachePool:null,transitions:null}}function N0(e,t,n){var r=t.pendingProps,s=He.current,o=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(He,s&1),e===null)return $h(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=mc(l,r,0,null),e=Qi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Gh(n),t.memoizedState=qh,e):mp(t,l));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return gP(e,t,l,r,u,s,n);if(o){o=r.fallback,l=t.mode,s=e.child,u=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=fi(s,d),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=fi(u,o):(o=Qi(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Gh(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=qh,r}return o=e.child,e=o.sibling,r=fi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mp(e,t){return t=mc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $l(e,t,n,r){return r!==null&&tp(r),co(t,e.child,null,n),e=mp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gP(e,t,n,r,s,o,l){if(n)return t.flags&256?(t.flags&=-257,r=$d(Error(V(422))),$l(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=mc({mode:"visible",children:r.children},s,0,null),o=Qi(o,s,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&co(t,e.child,null,l),t.child.memoizedState=Gh(l),t.memoizedState=qh,o);if(!(t.mode&1))return $l(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(V(419)),r=$d(o,r,void 0),$l(e,t,l,r)}if(u=(l&e.childLanes)!==0,qt||u){if(r=gt,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,jr(e,s),Fn(r,e,s,-1))}return xp(),r=$d(Error(V(421))),$l(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jP.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,on=ui(s.nextSibling),an=t,Ue=!0,Dn=null,e!==null&&(yn[_n++]=kr,yn[_n++]=Sr,yn[_n++]=Xi,kr=e.id,Sr=e.overflow,Xi=t),t=mp(t,r.children),t.flags|=4096,t)}function ov(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bh(e.return,t,n)}function Bd(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function L0(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Rt(e,t,r.children,n),r=He.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ov(e,n,t);else if(e.tag===19)ov(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(He,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Bu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bd(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Bu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bd(t,!0,n,null,o);break;case"together":Bd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=fi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vP(e,t,n){switch(t.tag){case 3:j0(t),uo();break;case 5:r0(t);break;case 1:Kt(t.type)&&Mu(t);break;case 4:ap(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ze(zu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(He,He.current&1),t.flags|=128,null):n&t.child.childLanes?N0(e,t,n):(ze(He,He.current&1),e=Nr(e,t,n),e!==null?e.sibling:null);ze(He,He.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return L0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(He,He.current),r)break;return null;case 22:case 23:return t.lanes=0,C0(e,t,n)}return Nr(e,t,n)}var A0,Kh,O0,R0;A0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kh=function(){};O0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Hi(sr.current);var o=null;switch(n){case"input":s=vh(e,s),r=vh(e,r),o=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),o=[];break;case"textarea":s=wh(e,s),r=wh(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ou)}bh(n,r);var l;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(xa.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var d=r[h];if(u=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==u&&(d!=null||u!=null))if(h==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(o=o||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(xa.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&$e("scroll",e),o||u===d||(o=[])):(o=o||[]).push(h,d))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};R0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ko(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yP(e,t,n){var r=t.pendingProps;switch(ep(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Kt(t.type)&&Ru(),Pt(t),null;case 3:return r=t.stateNode,ho(),Be(Gt),Be(Tt),up(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dn!==null&&(rf(Dn),Dn=null))),Kh(e,t),Pt(t),null;case 5:lp(t);var s=Hi(Oa.current);if(n=t.type,e!==null&&t.stateNode!=null)O0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Pt(t),null}if(e=Hi(sr.current),zl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[tr]=t,r[La]=o,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(s=0;s<sa.length;s++)$e(sa[s],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":mg(r,o),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},$e("invalid",r);break;case"textarea":vg(r,o),$e("invalid",r)}bh(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Dl(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Dl(r.textContent,u,e),s=["children",""+u]):xa.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&$e("scroll",r)}switch(n){case"input":jl(r),gg(r,o,!0);break;case"textarea":jl(r),yg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ou)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=l_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[tr]=t,e[La]=r,A0(e,t,!1,!1),t.stateNode=e;e:{switch(l=kh(n,r),n){case"dialog":$e("cancel",e),$e("close",e),s=r;break;case"iframe":case"object":case"embed":$e("load",e),s=r;break;case"video":case"audio":for(s=0;s<sa.length;s++)$e(sa[s],e);s=r;break;case"source":$e("error",e),s=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),s=r;break;case"details":$e("toggle",e),s=r;break;case"input":mg(e,r),s=vh(e,r),$e("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),$e("invalid",e);break;case"textarea":vg(e,r),s=wh(e,r),$e("invalid",e);break;default:s=r}bh(n,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var d=u[o];o==="style"?d_(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&u_(e,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&ba(e,d):typeof d=="number"&&ba(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xa.hasOwnProperty(o)?d!=null&&o==="onScroll"&&$e("scroll",e):d!=null&&Ff(e,o,d,l))}switch(n){case"input":jl(e),gg(e,r,!1);break;case"textarea":jl(e),yg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Us(e,!!r.multiple,o,!1):r.defaultValue!=null&&Us(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)R0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Hi(Oa.current),Hi(sr.current),zl(t)){if(r=t.stateNode,n=t.memoizedProps,r[tr]=t,(o=r.nodeValue!==n)&&(e=an,e!==null))switch(e.tag){case 3:Dl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=t,t.stateNode=r}return Pt(t),null;case 13:if(Be(He),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&on!==null&&t.mode&1&&!(t.flags&128))J_(),uo(),t.flags|=98560,o=!1;else if(o=zl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[tr]=t}else uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),o=!1}else Dn!==null&&(rf(Dn),Dn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?dt===0&&(dt=3):xp())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return ho(),Kh(e,t),e===null&&ja(t.stateNode.containerInfo),Pt(t),null;case 10:return ip(t.type._context),Pt(t),null;case 17:return Kt(t.type)&&Ru(),Pt(t),null;case 19:if(Be(He),o=t.memoizedState,o===null)return Pt(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Ko(o,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Bu(e),l!==null){for(t.flags|=128,Ko(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(He,He.current&1|2),t.child}e=e.sibling}o.tail!==null&&Xe()>po&&(t.flags|=128,r=!0,Ko(o,!1),t.lanes=4194304)}else{if(!r)if(e=Bu(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Ue)return Pt(t),null}else 2*Xe()-o.renderingStartTime>po&&n!==1073741824&&(t.flags|=128,r=!0,Ko(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=He.current,ze(He,r?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return wp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rn&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function _P(e,t){switch(ep(t),t.tag){case 1:return Kt(t.type)&&Ru(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ho(),Be(Gt),Be(Tt),up(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lp(t),null;case 13:if(Be(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(He),null;case 4:return ho(),null;case 10:return ip(t.type._context),null;case 22:case 23:return wp(),null;case 24:return null;default:return null}}var Bl=!1,Ct=!1,wP=typeof WeakSet=="function"?WeakSet:Set,ie=null;function $s(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(e,t,r)}else n.current=null}function Qh(e,t,n){try{n()}catch(r){Qe(e,t,r)}}var av=!1;function xP(e,t){if(Oh=Nu,e=F_(),Jf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,h=0,m=0,v=e,g=null;t:for(;;){for(var x;v!==n||s!==0&&v.nodeType!==3||(u=l+s),v!==o||r!==0&&v.nodeType!==3||(d=l+r),v.nodeType===3&&(l+=v.nodeValue.length),(x=v.firstChild)!==null;)g=v,v=x;for(;;){if(v===e)break t;if(g===n&&++h===s&&(u=l),g===o&&++m===r&&(d=l),(x=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=x}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rh={focusedElem:e,selectionRange:n},Nu=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,C=E.memoizedState,k=t.stateNode,b=k.getSnapshotBeforeUpdate(t.elementType===t.type?w:An(t.type,w),C);k.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(T){Qe(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return E=av,av=!1,E}function fa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Qh(t,n,o)}s=s.next}while(s!==r)}}function fc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function M0(e){var t=e.alternate;t!==null&&(e.alternate=null,M0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tr],delete t[La],delete t[Dh],delete t[rP],delete t[iP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I0(e){return e.tag===5||e.tag===3||e.tag===4}function lv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ou));else if(r!==4&&(e=e.child,e!==null))for(Jh(e,t,n),e=e.sibling;e!==null;)Jh(e,t,n),e=e.sibling}function Xh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xh(e,t,n),e=e.sibling;e!==null;)Xh(e,t,n),e=e.sibling}var yt=null,Mn=!1;function Fr(e,t,n){for(n=n.child;n!==null;)D0(e,t,n),n=n.sibling}function D0(e,t,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(sc,n)}catch{}switch(n.tag){case 5:Ct||$s(n,t);case 6:var r=yt,s=Mn;yt=null,Fr(e,t,n),yt=r,Mn=s,yt!==null&&(Mn?(e=yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Mn?(e=yt,n=n.stateNode,e.nodeType===8?Rd(e.parentNode,n):e.nodeType===1&&Rd(e,n),Ea(e)):Rd(yt,n.stateNode));break;case 4:r=yt,s=Mn,yt=n.stateNode.containerInfo,Mn=!0,Fr(e,t,n),yt=r,Mn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Qh(n,t,l),s=s.next}while(s!==r)}Fr(e,t,n);break;case 1:if(!Ct&&($s(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Qe(n,t,u)}Fr(e,t,n);break;case 21:Fr(e,t,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Fr(e,t,n),Ct=r):Fr(e,t,n);break;default:Fr(e,t,n)}}function uv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wP),t.forEach(function(r){var s=NP.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:yt=u.stateNode,Mn=!1;break e;case 3:yt=u.stateNode.containerInfo,Mn=!0;break e;case 4:yt=u.stateNode.containerInfo,Mn=!0;break e}u=u.return}if(yt===null)throw Error(V(160));D0(o,l,s),yt=null,Mn=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){Qe(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z0(t,e),t=t.sibling}function z0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),Kn(e),r&4){try{fa(3,e,e.return),fc(3,e)}catch(w){Qe(e,e.return,w)}try{fa(5,e,e.return)}catch(w){Qe(e,e.return,w)}}break;case 1:Nn(t,e),Kn(e),r&512&&n!==null&&$s(n,n.return);break;case 5:if(Nn(t,e),Kn(e),r&512&&n!==null&&$s(n,n.return),e.flags&32){var s=e.stateNode;try{ba(s,"")}catch(w){Qe(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&o_(s,o),kh(u,l);var h=kh(u,o);for(l=0;l<d.length;l+=2){var m=d[l],v=d[l+1];m==="style"?d_(s,v):m==="dangerouslySetInnerHTML"?u_(s,v):m==="children"?ba(s,v):Ff(s,m,v,h)}switch(u){case"input":yh(s,o);break;case"textarea":a_(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Us(s,!!o.multiple,x,!1):g!==!!o.multiple&&(o.defaultValue!=null?Us(s,!!o.multiple,o.defaultValue,!0):Us(s,!!o.multiple,o.multiple?[]:"",!1))}s[La]=o}catch(w){Qe(e,e.return,w)}}break;case 6:if(Nn(t,e),Kn(e),r&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(w){Qe(e,e.return,w)}}break;case 3:if(Nn(t,e),Kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ea(t.containerInfo)}catch(w){Qe(e,e.return,w)}break;case 4:Nn(t,e),Kn(e);break;case 13:Nn(t,e),Kn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(yp=Xe())),r&4&&uv(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ct=(h=Ct)||m,Nn(t,e),Ct=h):Nn(t,e),Kn(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!m&&e.mode&1)for(ie=e,m=e.child;m!==null;){for(v=ie=m;ie!==null;){switch(g=ie,x=g.child,g.tag){case 0:case 11:case 14:case 15:fa(4,g,g.return);break;case 1:$s(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(w){Qe(r,n,w)}}break;case 5:$s(g,g.return);break;case 22:if(g.memoizedState!==null){dv(v);continue}}x!==null?(x.return=g,ie=x):dv(v)}m=m.sibling}e:for(m=null,v=e;;){if(v.tag===5){if(m===null){m=v;try{s=v.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=v.stateNode,d=v.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=c_("display",l))}catch(w){Qe(e,e.return,w)}}}else if(v.tag===6){if(m===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(w){Qe(e,e.return,w)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Nn(t,e),Kn(e),r&4&&uv(e);break;case 21:break;default:Nn(t,e),Kn(e)}}function Kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(I0(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ba(s,""),r.flags&=-33);var o=lv(e);Xh(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,u=lv(e);Jh(e,u,l);break;default:throw Error(V(161))}}catch(d){Qe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bP(e,t,n){ie=e,F0(e)}function F0(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var s=ie,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Bl;if(!l){var u=s.alternate,d=u!==null&&u.memoizedState!==null||Ct;u=Bl;var h=Ct;if(Bl=l,(Ct=d)&&!h)for(ie=s;ie!==null;)l=ie,d=l.child,l.tag===22&&l.memoizedState!==null?hv(s):d!==null?(d.return=l,ie=d):hv(s);for(;o!==null;)ie=o,F0(o),o=o.sibling;ie=s,Bl=u,Ct=h}cv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ie=o):cv(e)}}function cv(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||fc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:An(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Gg(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gg(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var v=m.dehydrated;v!==null&&Ea(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ct||t.flags&512&&Yh(t)}catch(g){Qe(t,t.return,g)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function dv(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function hv(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fc(4,t)}catch(d){Qe(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(d){Qe(t,s,d)}}var o=t.return;try{Yh(t)}catch(d){Qe(t,o,d)}break;case 5:var l=t.return;try{Yh(t)}catch(d){Qe(t,l,d)}}}catch(d){Qe(t,t.return,d)}if(t===e){ie=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ie=u;break}ie=t.return}}var kP=Math.ceil,Hu=Or.ReactCurrentDispatcher,gp=Or.ReactCurrentOwner,xn=Or.ReactCurrentBatchConfig,Te=0,gt=null,st=null,_t=0,rn=0,Bs=bi(0),dt=0,Da=null,ts=0,pc=0,vp=0,pa=null,Ht=null,yp=0,po=1/0,wr=null,Zu=!1,ef=null,di=null,Ul=!1,ii=null,Vu=0,ma=0,tf=null,mu=-1,gu=0;function It(){return Te&6?Xe():mu!==-1?mu:mu=Xe()}function hi(e){return e.mode&1?Te&2&&_t!==0?_t&-_t:oP.transition!==null?(gu===0&&(gu=k_()),gu):(e=Me,e!==0||(e=window.event,e=e===void 0?16:N_(e.type)),e):1}function Fn(e,t,n,r){if(50<ma)throw ma=0,tf=null,Error(V(185));Ga(e,n,r),(!(Te&2)||e!==gt)&&(e===gt&&(!(Te&2)&&(pc|=n),dt===4&&Qr(e,_t)),Qt(e,r),n===1&&Te===0&&!(t.mode&1)&&(po=Xe()+500,cc&&ki()))}function Qt(e,t){var n=e.callbackNode;oS(e,t);var r=ju(e,e===gt?_t:0);if(r===0)n!==null&&xg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xg(n),t===1)e.tag===0?sP(fv.bind(null,e)):K_(fv.bind(null,e)),tP(function(){!(Te&6)&&ki()}),n=null;else{switch(S_(r)){case 1:n=Hf;break;case 4:n=x_;break;case 16:n=Tu;break;case 536870912:n=b_;break;default:n=Tu}n=q0(n,$0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $0(e,t){if(mu=-1,gu=0,Te&6)throw Error(V(327));var n=e.callbackNode;if(qs()&&e.callbackNode!==n)return null;var r=ju(e,e===gt?_t:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qu(e,r);else{t=r;var s=Te;Te|=2;var o=U0();(gt!==e||_t!==t)&&(wr=null,po=Xe()+500,Ki(e,t));do try{EP();break}catch(u){B0(e,u)}while(!0);rp(),Hu.current=o,Te=s,st!==null?t=0:(gt=null,_t=0,t=dt)}if(t!==0){if(t===2&&(s=Th(e),s!==0&&(r=s,t=nf(e,s))),t===1)throw n=Da,Ki(e,0),Qr(e,r),Qt(e,Xe()),n;if(t===6)Qr(e,r);else{if(s=e.current.alternate,!(r&30)&&!SP(s)&&(t=qu(e,r),t===2&&(o=Th(e),o!==0&&(r=o,t=nf(e,o))),t===1))throw n=Da,Ki(e,0),Qr(e,r),Qt(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:zi(e,Ht,wr);break;case 3:if(Qr(e,r),(r&130023424)===r&&(t=yp+500-Xe(),10<t)){if(ju(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){It(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ih(zi.bind(null,e,Ht,wr),t);break}zi(e,Ht,wr);break;case 4:if(Qr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-zn(r);o=1<<l,l=t[l],l>s&&(s=l),r&=~o}if(r=s,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kP(r/1960))-r,10<r){e.timeoutHandle=Ih(zi.bind(null,e,Ht,wr),r);break}zi(e,Ht,wr);break;case 5:zi(e,Ht,wr);break;default:throw Error(V(329))}}}return Qt(e,Xe()),e.callbackNode===n?$0.bind(null,e):null}function nf(e,t){var n=pa;return e.current.memoizedState.isDehydrated&&(Ki(e,t).flags|=256),e=qu(e,t),e!==2&&(t=Ht,Ht=n,t!==null&&rf(t)),e}function rf(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function SP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!$n(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qr(e,t){for(t&=~vp,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zn(t),r=1<<n;e[n]=-1,t&=~r}}function fv(e){if(Te&6)throw Error(V(327));qs();var t=ju(e,0);if(!(t&1))return Qt(e,Xe()),null;var n=qu(e,t);if(e.tag!==0&&n===2){var r=Th(e);r!==0&&(t=r,n=nf(e,r))}if(n===1)throw n=Da,Ki(e,0),Qr(e,t),Qt(e,Xe()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zi(e,Ht,wr),Qt(e,Xe()),null}function _p(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(po=Xe()+500,cc&&ki())}}function ns(e){ii!==null&&ii.tag===0&&!(Te&6)&&qs();var t=Te;Te|=1;var n=xn.transition,r=Me;try{if(xn.transition=null,Me=1,e)return e()}finally{Me=r,xn.transition=n,Te=t,!(Te&6)&&ki()}}function wp(){rn=Bs.current,Be(Bs)}function Ki(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,eP(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(ep(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ru();break;case 3:ho(),Be(Gt),Be(Tt),up();break;case 5:lp(r);break;case 4:ho();break;case 13:Be(He);break;case 19:Be(He);break;case 10:ip(r.type._context);break;case 22:case 23:wp()}n=n.return}if(gt=e,st=e=fi(e.current,null),_t=rn=t,dt=0,Da=null,vp=pc=ts=0,Ht=pa=null,Wi!==null){for(t=0;t<Wi.length;t++)if(n=Wi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}Wi=null}return e}function B0(e,t){do{var n=st;try{if(rp(),hu.current=Wu,Uu){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Uu=!1}if(es=0,pt=ct=Ze=null,ha=!1,Ra=0,gp.current=null,n===null||n.return===null){dt=1,Da=t,st=null;break}e:{var o=e,l=n.return,u=n,d=t;if(t=_t,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,m=u,v=m.tag;if(!(m.mode&1)&&(v===0||v===11||v===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=ev(l);if(x!==null){x.flags&=-257,tv(x,l,u,o,t),x.mode&1&&Xg(o,h,t),t=x,d=h;var E=t.updateQueue;if(E===null){var w=new Set;w.add(d),t.updateQueue=w}else E.add(d);break e}else{if(!(t&1)){Xg(o,h,t),xp();break e}d=Error(V(426))}}else if(Ue&&u.mode&1){var C=ev(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),tv(C,l,u,o,t),tp(fo(d,u));break e}}o=d=fo(d,u),dt!==4&&(dt=2),pa===null?pa=[o]:pa.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var k=S0(o,d,t);qg(o,k);break e;case 1:u=d;var b=o.type,P=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(di===null||!di.has(P)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=P0(o,u,t);qg(o,T);break e}}o=o.return}while(o!==null)}H0(n)}catch(N){t=N,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function U0(){var e=Hu.current;return Hu.current=Wu,e===null?Wu:e}function xp(){(dt===0||dt===3||dt===2)&&(dt=4),gt===null||!(ts&268435455)&&!(pc&268435455)||Qr(gt,_t)}function qu(e,t){var n=Te;Te|=2;var r=U0();(gt!==e||_t!==t)&&(wr=null,Ki(e,t));do try{PP();break}catch(s){B0(e,s)}while(!0);if(rp(),Te=n,Hu.current=r,st!==null)throw Error(V(261));return gt=null,_t=0,dt}function PP(){for(;st!==null;)W0(st)}function EP(){for(;st!==null&&!Yk();)W0(st)}function W0(e){var t=V0(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?H0(e):st=t,gp.current=null}function H0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_P(n,t),n!==null){n.flags&=32767,st=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,st=null;return}}else if(n=yP(n,t,rn),n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);dt===0&&(dt=5)}function zi(e,t,n){var r=Me,s=xn.transition;try{xn.transition=null,Me=1,CP(e,t,n,r)}finally{xn.transition=s,Me=r}return null}function CP(e,t,n,r){do qs();while(ii!==null);if(Te&6)throw Error(V(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(aS(e,o),e===gt&&(st=gt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ul||(Ul=!0,q0(Tu,function(){return qs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xn.transition,xn.transition=null;var l=Me;Me=1;var u=Te;Te|=4,gp.current=null,xP(e,n),z0(n,e),qS(Rh),Nu=!!Oh,Rh=Oh=null,e.current=n,bP(n),Jk(),Te=u,Me=l,xn.transition=o}else e.current=n;if(Ul&&(Ul=!1,ii=e,Vu=s),o=e.pendingLanes,o===0&&(di=null),tS(n.stateNode),Qt(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zu)throw Zu=!1,e=ef,ef=null,e;return Vu&1&&e.tag!==0&&qs(),o=e.pendingLanes,o&1?e===tf?ma++:(ma=0,tf=e):ma=0,ki(),null}function qs(){if(ii!==null){var e=S_(Vu),t=xn.transition,n=Me;try{if(xn.transition=null,Me=16>e?16:e,ii===null)var r=!1;else{if(e=ii,ii=null,Vu=0,Te&6)throw Error(V(331));var s=Te;for(Te|=4,ie=e.current;ie!==null;){var o=ie,l=o.child;if(ie.flags&16){var u=o.deletions;if(u!==null){for(var d=0;d<u.length;d++){var h=u[d];for(ie=h;ie!==null;){var m=ie;switch(m.tag){case 0:case 11:case 15:fa(8,m,o)}var v=m.child;if(v!==null)v.return=m,ie=v;else for(;ie!==null;){m=ie;var g=m.sibling,x=m.return;if(M0(m),m===h){ie=null;break}if(g!==null){g.return=x,ie=g;break}ie=x}}}var E=o.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}ie=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,ie=l;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fa(9,o,o.return)}var k=o.sibling;if(k!==null){k.return=o.return,ie=k;break e}ie=o.return}}var b=e.current;for(ie=b;ie!==null;){l=ie;var P=l.child;if(l.subtreeFlags&2064&&P!==null)P.return=l,ie=P;else e:for(l=b;ie!==null;){if(u=ie,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:fc(9,u)}}catch(N){Qe(u,u.return,N)}if(u===l){ie=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,ie=T;break e}ie=u.return}}if(Te=s,ki(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(sc,e)}catch{}r=!0}return r}finally{Me=n,xn.transition=t}}return!1}function pv(e,t,n){t=fo(n,t),t=S0(e,t,1),e=ci(e,t,1),t=It(),e!==null&&(Ga(e,1,t),Qt(e,t))}function Qe(e,t,n){if(e.tag===3)pv(e,e,n);else for(;t!==null;){if(t.tag===3){pv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){e=fo(n,e),e=P0(t,e,1),t=ci(t,e,1),e=It(),t!==null&&(Ga(t,1,e),Qt(t,e));break}}t=t.return}}function TP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=It(),e.pingedLanes|=e.suspendedLanes&n,gt===e&&(_t&n)===n&&(dt===4||dt===3&&(_t&130023424)===_t&&500>Xe()-yp?Ki(e,0):vp|=n),Qt(e,t)}function Z0(e,t){t===0&&(e.mode&1?(t=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):t=1);var n=It();e=jr(e,t),e!==null&&(Ga(e,t,n),Qt(e,n))}function jP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Z0(e,n)}function NP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),Z0(e,n)}var V0;V0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)qt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qt=!1,vP(e,t,n);qt=!!(e.flags&131072)}else qt=!1,Ue&&t.flags&1048576&&Q_(t,Du,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pu(e,t),e=t.pendingProps;var s=lo(t,Tt.current);Vs(t,n),s=dp(null,t,r,e,s,n);var o=hp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(r)?(o=!0,Mu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,op(t),s.updater=hc,t.stateNode=s,s._reactInternals=t,Wh(t,r,e,n),t=Vh(null,t,r,!0,o,n)):(t.tag=0,Ue&&o&&Xf(t),Rt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=AP(r),e=An(r,e),s){case 0:t=Zh(null,t,r,e,n);break e;case 1:t=iv(null,t,r,e,n);break e;case 11:t=nv(null,t,r,e,n);break e;case 14:t=rv(null,t,r,An(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:An(r,s),Zh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:An(r,s),iv(e,t,r,s,n);case 3:e:{if(j0(t),e===null)throw Error(V(387));r=t.pendingProps,o=t.memoizedState,s=o.element,n0(e,t),$u(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=fo(Error(V(423)),t),t=sv(e,t,r,n,s);break e}else if(r!==s){s=fo(Error(V(424)),t),t=sv(e,t,r,n,s);break e}else for(on=ui(t.stateNode.containerInfo.firstChild),an=t,Ue=!0,Dn=null,n=e0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uo(),r===s){t=Nr(e,t,n);break e}Rt(e,t,r,n)}t=t.child}return t;case 5:return r0(t),e===null&&$h(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,Mh(r,s)?l=null:o!==null&&Mh(r,o)&&(t.flags|=32),T0(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&$h(t),null;case 13:return N0(e,t,n);case 4:return ap(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=co(t,null,r,n):Rt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:An(r,s),nv(e,t,r,s,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,ze(zu,r._currentValue),r._currentValue=l,o!==null)if($n(o.value,l)){if(o.children===s.children&&!Gt.current){t=Nr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=Pr(-1,n&-n),d.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?d.next=d:(d.next=m.next,m.next=d),h.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Bh(o.return,n,t),u.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(V(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Bh(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Rt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vs(t,n),s=Sn(s),r=r(s),t.flags|=1,Rt(e,t,r,n),t.child;case 14:return r=t.type,s=An(r,t.pendingProps),s=An(r.type,s),rv(e,t,r,s,n);case 15:return E0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:An(r,s),pu(e,t),t.tag=1,Kt(r)?(e=!0,Mu(t)):e=!1,Vs(t,n),k0(t,r,s),Wh(t,r,s,n),Vh(null,t,r,!0,e,n);case 19:return L0(e,t,n);case 22:return C0(e,t,n)}throw Error(V(156,t.tag))};function q0(e,t){return w_(e,t)}function LP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,t,n,r){return new LP(e,t,n,r)}function bp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AP(e){if(typeof e=="function")return bp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bf)return 11;if(e===Uf)return 14}return 2}function fi(e,t){var n=e.alternate;return n===null?(n=wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vu(e,t,n,r,s,o){var l=2;if(r=e,typeof e=="function")bp(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ls:return Qi(n.children,s,o,t);case $f:l=8,s|=8;break;case fh:return e=wn(12,n,t,s|2),e.elementType=fh,e.lanes=o,e;case ph:return e=wn(13,n,t,s),e.elementType=ph,e.lanes=o,e;case mh:return e=wn(19,n,t,s),e.elementType=mh,e.lanes=o,e;case r_:return mc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case t_:l=10;break e;case n_:l=9;break e;case Bf:l=11;break e;case Uf:l=14;break e;case Vr:l=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=wn(l,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Qi(e,t,n,r){return e=wn(7,e,r,t),e.lanes=n,e}function mc(e,t,n,r){return e=wn(22,e,r,t),e.elementType=r_,e.lanes=n,e.stateNode={isHidden:!1},e}function Ud(e,t,n){return e=wn(6,e,null,t),e.lanes=n,e}function Wd(e,t,n){return t=wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OP(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kd(0),this.expirationTimes=kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kp(e,t,n,r,s,o,l,u,d){return e=new OP(e,t,n,u,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=wn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},op(o),e}function RP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function G0(e){if(!e)return mi;e=e._reactInternals;e:{if(ls(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Kt(n))return G_(e,n,t)}return t}function K0(e,t,n,r,s,o,l,u,d){return e=kp(n,r,!0,e,s,o,l,u,d),e.context=G0(null),n=e.current,r=It(),s=hi(n),o=Pr(r,s),o.callback=t??null,ci(n,o,s),e.current.lanes=s,Ga(e,s,r),Qt(e,r),e}function gc(e,t,n,r){var s=t.current,o=It(),l=hi(s);return n=G0(n),t.context===null?t.context=n:t.pendingContext=n,t=Pr(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ci(s,t,l),e!==null&&(Fn(e,s,l,o),du(e,s,l)),l}function Gu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sp(e,t){mv(e,t),(e=e.alternate)&&mv(e,t)}function MP(){return null}var Q0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pp(e){this._internalRoot=e}vc.prototype.render=Pp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));gc(e,t,null,null)};vc.prototype.unmount=Pp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ns(function(){gc(null,e,null,null)}),t[Tr]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=C_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kr.length&&t!==0&&t<Kr[n].priority;n++);Kr.splice(n,0,e),n===0&&j_(e)}};function Ep(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gv(){}function IP(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var h=Gu(l);o.call(h)}}var l=K0(t,r,e,0,null,!1,!1,"",gv);return e._reactRootContainer=l,e[Tr]=l.current,ja(e.nodeType===8?e.parentNode:e),ns(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var h=Gu(d);u.call(h)}}var d=kp(e,0,!1,null,null,!1,!1,"",gv);return e._reactRootContainer=d,e[Tr]=d.current,ja(e.nodeType===8?e.parentNode:e),ns(function(){gc(t,d,n,r)}),d}function _c(e,t,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var u=s;s=function(){var d=Gu(l);u.call(d)}}gc(t,l,e,s)}else l=IP(n,t,e,s,r);return Gu(l)}P_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ia(t.pendingLanes);n!==0&&(Zf(t,n|1),Qt(t,Xe()),!(Te&6)&&(po=Xe()+500,ki()))}break;case 13:ns(function(){var r=jr(e,1);if(r!==null){var s=It();Fn(r,e,1,s)}}),Sp(e,1)}};Vf=function(e){if(e.tag===13){var t=jr(e,134217728);if(t!==null){var n=It();Fn(t,e,134217728,n)}Sp(e,134217728)}};E_=function(e){if(e.tag===13){var t=hi(e),n=jr(e,t);if(n!==null){var r=It();Fn(n,e,t,r)}Sp(e,t)}};C_=function(){return Me};T_=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};Ph=function(e,t,n){switch(t){case"input":if(yh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=uc(r);if(!s)throw Error(V(90));s_(r),yh(r,s)}}}break;case"textarea":a_(e,n);break;case"select":t=n.value,t!=null&&Us(e,!!n.multiple,t,!1)}};p_=_p;m_=ns;var DP={usingClientEntryPoint:!1,Events:[Qa,Ms,uc,h_,f_,_p]},Qo={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zP={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=y_(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||MP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{sc=Wl.inject(zP),ir=Wl}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DP;dn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ep(t))throw Error(V(200));return RP(e,t,null,n)};dn.createRoot=function(e,t){if(!Ep(e))throw Error(V(299));var n=!1,r="",s=Q0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kp(e,1,!1,null,null,n,!1,r,s),e[Tr]=t.current,ja(e.nodeType===8?e.parentNode:e),new Pp(t)};dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=y_(t),e=e===null?null:e.stateNode,e};dn.flushSync=function(e){return ns(e)};dn.hydrate=function(e,t,n){if(!yc(t))throw Error(V(200));return _c(null,e,t,!0,n)};dn.hydrateRoot=function(e,t,n){if(!Ep(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=Q0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=K0(t,null,e,1,n??null,s,!1,o,l),e[Tr]=t.current,ja(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new vc(t)};dn.render=function(e,t,n){if(!yc(t))throw Error(V(200));return _c(null,e,t,!1,n)};dn.unmountComponentAtNode=function(e){if(!yc(e))throw Error(V(40));return e._reactRootContainer?(ns(function(){_c(null,null,e,!1,function(){e._reactRootContainer=null,e[Tr]=null})}),!0):!1};dn.unstable_batchedUpdates=_p;dn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yc(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return _c(e,t,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function Y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y0)}catch(e){console.error(e)}}Y0(),Yy.exports=dn;var Ja=Yy.exports;const J0=Af(Ja);var X0,vv=Ja;X0=vv.createRoot,vv.hydrateRoot;const FP=1,$P=1e6;let Hd=0;function BP(){return Hd=(Hd+1)%Number.MAX_SAFE_INTEGER,Hd.toString()}const Zd=new Map,yv=e=>{if(Zd.has(e))return;const t=setTimeout(()=>{Zd.delete(e),ga({type:"REMOVE_TOAST",toastId:e})},$P);Zd.set(e,t)},UP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,FP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?yv(n):e.toasts.forEach(r=>{yv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},yu=[];let _u={toasts:[]};function ga(e){_u=UP(_u,e),yu.forEach(t=>{t(_u)})}function WP({...e}){const t=BP(),n=s=>ga({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ga({type:"DISMISS_TOAST",toastId:t});return ga({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Xa(){const[e,t]=_.useState(_u);return _.useEffect(()=>(yu.push(t),()=>{const n=yu.indexOf(t);n>-1&&yu.splice(n,1)}),[e]),{...e,toast:WP,dismiss:n=>ga({type:"DISMISS_TOAST",toastId:n})}}function Re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function HP(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ew(...e){return t=>e.forEach(n=>HP(n,t))}function xt(...e){return _.useCallback(ew(...e),e)}function ZP(e,t=[]){let n=[];function r(o,l){const u=_.createContext(l),d=n.length;n=[...n,l];function h(v){const{scope:g,children:x,...E}=v,w=(g==null?void 0:g[e][d])||u,C=_.useMemo(()=>E,Object.values(E));return p.jsx(w.Provider,{value:C,children:x})}function m(v,g){const x=(g==null?void 0:g[e][d])||u,E=_.useContext(x);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return h.displayName=o+"Provider",[h,m]}const s=()=>{const o=n.map(l=>_.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return _.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,VP(s,...t)]}function VP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...u,...v}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var rs=_.forwardRef((e,t)=>{const{children:n,...r}=e,s=_.Children.toArray(n),o=s.find(qP);if(o){const l=o.props.children,u=s.map(d=>d===o?_.Children.count(l)>1?_.Children.only(null):_.isValidElement(l)?l.props.children:null:d);return p.jsx(sf,{...r,ref:t,children:_.isValidElement(l)?_.cloneElement(l,void 0,u):null})}return p.jsx(sf,{...r,ref:t,children:n})});rs.displayName="Slot";var sf=_.forwardRef((e,t)=>{const{children:n,...r}=e;if(_.isValidElement(n)){const s=KP(n);return _.cloneElement(n,{...GP(r,n.props),ref:t?ew(t,s):s})}return _.Children.count(n)>1?_.Children.only(null):null});sf.displayName="SlotClone";var tw=({children:e})=>p.jsx(p.Fragment,{children:e});function qP(e){return _.isValidElement(e)&&e.type===tw}function GP(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{o(...u),s(...u)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function KP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function QP(e){const t=e+"CollectionProvider",[n,r]=ZP(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:E,children:w}=x,C=J.useRef(null),k=J.useRef(new Map).current;return p.jsx(s,{scope:E,itemMap:k,collectionRef:C,children:w})};l.displayName=t;const u=e+"CollectionSlot",d=J.forwardRef((x,E)=>{const{scope:w,children:C}=x,k=o(u,w),b=xt(E,k.collectionRef);return p.jsx(rs,{ref:b,children:C})});d.displayName=u;const h=e+"CollectionItemSlot",m="data-radix-collection-item",v=J.forwardRef((x,E)=>{const{scope:w,children:C,...k}=x,b=J.useRef(null),P=xt(E,b),T=o(h,w);return J.useEffect(()=>(T.itemMap.set(b,{ref:b,...k}),()=>void T.itemMap.delete(b))),p.jsx(rs,{[m]:"",ref:P,children:C})});v.displayName=h;function g(x){const E=o(e+"CollectionConsumer",x);return J.useCallback(()=>{const C=E.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((T,N)=>k.indexOf(T.ref.current)-k.indexOf(N.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:d,ItemSlot:v},g,r]}function YP(e,t){const n=_.createContext(t),r=o=>{const{children:l,...u}=o,d=_.useMemo(()=>u,Object.values(u));return p.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function s(o){const l=_.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function wc(e,t=[]){let n=[];function r(o,l){const u=_.createContext(l),d=n.length;n=[...n,l];const h=v=>{var k;const{scope:g,children:x,...E}=v,w=((k=g==null?void 0:g[e])==null?void 0:k[d])||u,C=_.useMemo(()=>E,Object.values(E));return p.jsx(w.Provider,{value:C,children:x})};h.displayName=o+"Provider";function m(v,g){var w;const x=((w=g==null?void 0:g[e])==null?void 0:w[d])||u,E=_.useContext(x);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>_.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return _.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,JP(s,...t)]}function JP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...u,...v}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var XP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qe=XP.reduce((e,t)=>{const n=_.forwardRef((r,s)=>{const{asChild:o,...l}=r,u=o?rs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function nw(e,t){e&&Ja.flushSync(()=>e.dispatchEvent(t))}function En(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function eE(e,t=globalThis==null?void 0:globalThis.document){const n=En(e);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var tE="DismissableLayer",of="dismissableLayer.update",nE="dismissableLayer.pointerDownOutside",rE="dismissableLayer.focusOutside",_v,rw=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),el=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,h=_.useContext(rw),[m,v]=_.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=_.useState({}),E=xt(t,M=>v(M)),w=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),k=w.indexOf(C),b=m?w.indexOf(m):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,T=b>=k,N=sE(M=>{const D=M.target,F=[...h.branches].some(Q=>Q.contains(D));!T||F||(s==null||s(M),l==null||l(M),M.defaultPrevented||u==null||u())},g),R=oE(M=>{const D=M.target;[...h.branches].some(Q=>Q.contains(D))||(o==null||o(M),l==null||l(M),M.defaultPrevented||u==null||u())},g);return eE(M=>{b===h.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},g),_.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(_v=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),wv(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=_v)}},[m,g,n,h]),_.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),wv())},[m,h]),_.useEffect(()=>{const M=()=>x({});return document.addEventListener(of,M),()=>document.removeEventListener(of,M)},[]),p.jsx(qe.div,{...d,ref:E,style:{pointerEvents:P?T?"auto":"none":void 0,...e.style},onFocusCapture:Re(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Re(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Re(e.onPointerDownCapture,N.onPointerDownCapture)})});el.displayName=tE;var iE="DismissableLayerBranch",iw=_.forwardRef((e,t)=>{const n=_.useContext(rw),r=_.useRef(null),s=xt(t,r);return _.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),p.jsx(qe.div,{...e,ref:s})});iw.displayName=iE;function sE(e,t=globalThis==null?void 0:globalThis.document){const n=En(e),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){sw(nE,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function oE(e,t=globalThis==null?void 0:globalThis.document){const n=En(e),r=_.useRef(!1);return _.useEffect(()=>{const s=o=>{o.target&&!r.current&&sw(rE,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wv(){const e=new CustomEvent(of);document.dispatchEvent(e)}function sw(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?nw(s,o):s.dispatchEvent(o)}var aE=el,lE=iw,gi=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},uE="Portal",xc=_.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,o]=_.useState(!1);gi(()=>o(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?J0.createPortal(p.jsx(qe.div,{...r,ref:t}),l):null});xc.displayName=uE;function cE(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var Si=e=>{const{present:t,children:n}=e,r=dE(t),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),o=xt(r.ref,hE(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:o}):null};Si.displayName="Presence";function dE(e){const[t,n]=_.useState(),r=_.useRef({}),s=_.useRef(e),o=_.useRef("none"),l=e?"mounted":"unmounted",[u,d]=cE(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const h=Hl(r.current);o.current=u==="mounted"?h:"none"},[u]),gi(()=>{const h=r.current,m=s.current;if(m!==e){const g=o.current,x=Hl(h);e?d("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&g!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),gi(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,v=x=>{const w=Hl(r.current).includes(x.animationName);if(x.target===t&&w&&(d("ANIMATION_END"),!s.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},g=x=>{x.target===t&&(o.current=Hl(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:_.useCallback(h=>{h&&(r.current=getComputedStyle(h)),n(h)},[])}}function Hl(e){return(e==null?void 0:e.animationName)||"none"}function hE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Cp({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=fE({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:r,u=En(n),d=_.useCallback(h=>{if(o){const v=typeof h=="function"?h(e):h;v!==e&&u(v)}else s(h)},[o,e,s,u]);return[l,d]}function fE({defaultProp:e,onChange:t}){const n=_.useState(e),[r]=n,s=_.useRef(r),o=En(t);return _.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var pE="VisuallyHidden",bc=_.forwardRef((e,t)=>p.jsx(qe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));bc.displayName=pE;var mE=bc,Tp="ToastProvider",[jp,gE,vE]=QP("Toast"),[ow,_2]=wc("Toast",[vE]),[yE,kc]=ow(Tp),aw=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=e,[u,d]=_.useState(null),[h,m]=_.useState(0),v=_.useRef(!1),g=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tp}\`. Expected non-empty \`string\`.`),p.jsx(jp.Provider,{scope:t,children:p.jsx(yE,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:u,onViewportChange:d,onToastAdd:_.useCallback(()=>m(x=>x+1),[]),onToastRemove:_.useCallback(()=>m(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:g,children:l})})};aw.displayName=Tp;var lw="ToastViewport",_E=["F8"],af="toast.viewportPause",lf="toast.viewportResume",uw=_.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=_E,label:s="Notifications ({hotkey})",...o}=e,l=kc(lw,n),u=gE(n),d=_.useRef(null),h=_.useRef(null),m=_.useRef(null),v=_.useRef(null),g=xt(t,v,l.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=l.toastCount>0;_.useEffect(()=>{const C=k=>{var P;r.length!==0&&r.every(T=>k[T]||k.code===T)&&((P=v.current)==null||P.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),_.useEffect(()=>{const C=d.current,k=v.current;if(E&&C&&k){const b=()=>{if(!l.isClosePausedRef.current){const R=new CustomEvent(af);k.dispatchEvent(R),l.isClosePausedRef.current=!0}},P=()=>{if(l.isClosePausedRef.current){const R=new CustomEvent(lf);k.dispatchEvent(R),l.isClosePausedRef.current=!1}},T=R=>{!C.contains(R.relatedTarget)&&P()},N=()=>{C.contains(document.activeElement)||P()};return C.addEventListener("focusin",b),C.addEventListener("focusout",T),C.addEventListener("pointermove",b),C.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",P),()=>{C.removeEventListener("focusin",b),C.removeEventListener("focusout",T),C.removeEventListener("pointermove",b),C.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",P)}}},[E,l.isClosePausedRef]);const w=_.useCallback(({tabbingDirection:C})=>{const b=u().map(P=>{const T=P.ref.current,N=[T,...AE(T)];return C==="forwards"?N:N.reverse()});return(C==="forwards"?b.reverse():b).flat()},[u]);return _.useEffect(()=>{const C=v.current;if(C){const k=b=>{var N,R,M;const P=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!P){const D=document.activeElement,F=b.shiftKey;if(b.target===C&&F){(N=h.current)==null||N.focus();return}const K=w({tabbingDirection:F?"backwards":"forwards"}),oe=K.findIndex(q=>q===D);Vd(K.slice(oe+1))?b.preventDefault():F?(R=h.current)==null||R.focus():(M=m.current)==null||M.focus()}};return C.addEventListener("keydown",k),()=>C.removeEventListener("keydown",k)}},[u,w]),p.jsxs(lE,{ref:d,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&p.jsx(uf,{ref:h,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"forwards"});Vd(C)}}),p.jsx(jp.Slot,{scope:n,children:p.jsx(qe.ol,{tabIndex:-1,...o,ref:g})}),E&&p.jsx(uf,{ref:m,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"backwards"});Vd(C)}})]})});uw.displayName=lw;var cw="ToastFocusProxy",uf=_.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=kc(cw,n);return p.jsx(bc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:l=>{var h;const u=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(u))&&r()}})});uf.displayName=cw;var Sc="Toast",wE="toast.swipeStart",xE="toast.swipeMove",bE="toast.swipeCancel",kE="toast.swipeEnd",dw=_.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...l}=e,[u=!0,d]=Cp({prop:r,defaultProp:s,onChange:o});return p.jsx(Si,{present:n||u,children:p.jsx(EE,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:En(e.onPause),onResume:En(e.onResume),onSwipeStart:Re(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Re(e.onSwipeMove,h=>{const{x:m,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Re(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Re(e.onSwipeEnd,h=>{const{x:m,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),d(!1)})})})});dw.displayName=Sc;var[SE,PE]=ow(Sc,{onClose(){}}),EE=_.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:h,onSwipeStart:m,onSwipeMove:v,onSwipeCancel:g,onSwipeEnd:x,...E}=e,w=kc(Sc,n),[C,k]=_.useState(null),b=xt(t,q=>k(q)),P=_.useRef(null),T=_.useRef(null),N=s||w.duration,R=_.useRef(0),M=_.useRef(N),D=_.useRef(0),{onToastAdd:F,onToastRemove:Q}=w,Y=En(()=>{var ne;(C==null?void 0:C.contains(document.activeElement))&&((ne=w.viewport)==null||ne.focus()),l()}),K=_.useCallback(q=>{!q||q===1/0||(window.clearTimeout(D.current),R.current=new Date().getTime(),D.current=window.setTimeout(Y,q))},[Y]);_.useEffect(()=>{const q=w.viewport;if(q){const ne=()=>{K(M.current),h==null||h()},W=()=>{const ue=new Date().getTime()-R.current;M.current=M.current-ue,window.clearTimeout(D.current),d==null||d()};return q.addEventListener(af,W),q.addEventListener(lf,ne),()=>{q.removeEventListener(af,W),q.removeEventListener(lf,ne)}}},[w.viewport,N,d,h,K]),_.useEffect(()=>{o&&!w.isClosePausedRef.current&&K(N)},[o,N,w.isClosePausedRef,K]),_.useEffect(()=>(F(),()=>Q()),[F,Q]);const oe=_.useMemo(()=>C?yw(C):null,[C]);return w.viewport?p.jsxs(p.Fragment,{children:[oe&&p.jsx(CE,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:oe}),p.jsx(SE,{scope:n,onClose:Y,children:Ja.createPortal(p.jsx(jp.ItemSlot,{scope:n,children:p.jsx(aE,{asChild:!0,onEscapeKeyDown:Re(u,()=>{w.isFocusedToastEscapeKeyDownRef.current||Y(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":w.swipeDirection,...E,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Re(e.onKeyDown,q=>{q.key==="Escape"&&(u==null||u(q.nativeEvent),q.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,Y()))}),onPointerDown:Re(e.onPointerDown,q=>{q.button===0&&(P.current={x:q.clientX,y:q.clientY})}),onPointerMove:Re(e.onPointerMove,q=>{if(!P.current)return;const ne=q.clientX-P.current.x,W=q.clientY-P.current.y,ue=!!T.current,A=["left","right"].includes(w.swipeDirection),G=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,$=A?G(0,ne):0,Z=A?0:G(0,W),z=q.pointerType==="touch"?10:2,H={x:$,y:Z},te={originalEvent:q,delta:H};ue?(T.current=H,Zl(xE,v,te,{discrete:!1})):xv(H,w.swipeDirection,z)?(T.current=H,Zl(wE,m,te,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ne)>z||Math.abs(W)>z)&&(P.current=null)}),onPointerUp:Re(e.onPointerUp,q=>{const ne=T.current,W=q.target;if(W.hasPointerCapture(q.pointerId)&&W.releasePointerCapture(q.pointerId),T.current=null,P.current=null,ne){const ue=q.currentTarget,A={originalEvent:q,delta:ne};xv(ne,w.swipeDirection,w.swipeThreshold)?Zl(kE,x,A,{discrete:!0}):Zl(bE,g,A,{discrete:!0}),ue.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),CE=e=>{const{__scopeToast:t,children:n,...r}=e,s=kc(Sc,t),[o,l]=_.useState(!1),[u,d]=_.useState(!1);return NE(()=>l(!0)),_.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:p.jsx(xc,{asChild:!0,children:p.jsx(bc,{...r,children:o&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},TE="ToastTitle",hw=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(qe.div,{...r,ref:t})});hw.displayName=TE;var jE="ToastDescription",fw=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(qe.div,{...r,ref:t})});fw.displayName=jE;var pw="ToastAction",mw=_.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(vw,{altText:n,asChild:!0,children:p.jsx(Np,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${pw}\`. Expected non-empty \`string\`.`),null)});mw.displayName=pw;var gw="ToastClose",Np=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=PE(gw,n);return p.jsx(vw,{asChild:!0,children:p.jsx(qe.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,s.onClose)})})});Np.displayName=gw;var vw=_.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return p.jsx(qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function yw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),LE(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...yw(r))}}),t}function Zl(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?nw(s,o):s.dispatchEvent(o)}var xv=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function NE(e=()=>{}){const t=En(e);gi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function LE(e){return e.nodeType===e.ELEMENT_NODE}function AE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var OE=aw,_w=uw,ww=dw,xw=hw,bw=fw,kw=mw,Sw=Np;function Pw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Pw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ew(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Pw(e))&&(r&&(r+=" "),r+=t);return r}const bv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kv=Ew,Pc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return kv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(h=>{const m=n==null?void 0:n[h],v=o==null?void 0:o[h];if(m===null)return null;const g=bv(m)||bv(v);return s[h][g]}),u=n&&Object.entries(n).reduce((h,m)=>{let[v,g]=m;return g===void 0||(h[v]=g),h},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:v,className:g,...x}=m;return Object.entries(x).every(E=>{let[w,C]=E;return Array.isArray(C)?C.includes({...o,...u}[w]):{...o,...u}[w]===C})?[...h,v,g]:h},[]);return kv(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ME={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},d)=>_.createElement("svg",{ref:d,...ME,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Cw("lucide",s),...u},[...l.map(([h,m])=>_.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(e,t)=>{const n=_.forwardRef(({className:r,...s},o)=>_.createElement(IE,{ref:o,iconNode:t,className:Cw(`lucide-${RE(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=jt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=jt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=jt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=jt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=jt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=jt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=jt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=jt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=jt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=jt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lp="-",KE=e=>{const t=YE(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(Lp);return u[0]===""&&u.length!==1&&u.shift(),Nw(u,t)||QE(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},Nw=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Nw(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Lp);return(l=t.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},Pv=/^\[(.+)\]$/,QE=e=>{if(Pv.test(e)){const t=Pv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},YE=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return XE(Object.entries(e.classGroups),n).forEach(([o,l])=>{cf(l,r,o,t)}),r},cf=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Ev(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(JE(s)){cf(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{cf(l,Ev(t,o),n,r)})})},Ev=(e,t)=>{let n=e;return t.split(Lp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},JE=e=>e.isThemeGetter,XE=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[t+l,u])):o);return[n,s]}):e,eC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},Lw="!",tC=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,l=u=>{const d=[];let h=0,m=0,v;for(let C=0;C<u.length;C++){let k=u[C];if(h===0){if(k===s&&(r||u.slice(C,C+o)===t)){d.push(u.slice(m,C)),m=C+o;continue}if(k==="/"){v=C;continue}}k==="["?h++:k==="]"&&h--}const g=d.length===0?u:u.substring(m),x=g.startsWith(Lw),E=x?g.substring(1):g,w=v&&v>m?v-m:void 0;return{modifiers:d,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:w}};return n?u=>n({className:u,parseClassName:l}):l},nC=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},rC=e=>({cache:eC(e.cacheSize),parseClassName:tC(e),...KE(e)}),iC=/\s+/,sC=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],l=e.trim().split(iC);let u="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:m,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:x}=n(h);let E=!!x,w=r(E?g.substring(0,x):g);if(!w){if(!E){u=h+(u.length>0?" "+u:u);continue}if(w=r(g),!w){u=h+(u.length>0?" "+u:u);continue}E=!1}const C=nC(m).join(":"),k=v?C+Lw:C,b=k+w;if(o.includes(b))continue;o.push(b);const P=s(w,E);for(let T=0;T<P.length;++T){const N=P[T];o.push(k+N)}u=h+(u.length>0?" "+u:u)}return u};function oC(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Aw(t))&&(r&&(r+=" "),r+=n);return r}const Aw=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Aw(e[r]))&&(n&&(n+=" "),n+=t);return n};function aC(e,...t){let n,r,s,o=l;function l(d){const h=t.reduce((m,v)=>v(m),e());return n=rC(h),r=n.cache.get,s=n.cache.set,o=u,u(d)}function u(d){const h=r(d);if(h)return h;const m=sC(d,n);return s(d,m),m}return function(){return o(oC.apply(null,arguments))}}const Fe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ow=/^\[(?:([a-z-]+):)?(.+)\]$/i,lC=/^\d+\/\d+$/,uC=new Set(["px","full","screen"]),cC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yr=e=>Gs(e)||uC.has(e)||lC.test(e),$r=e=>Eo(e,"length",bC),Gs=e=>!!e&&!Number.isNaN(Number(e)),qd=e=>Eo(e,"number",Gs),Yo=e=>!!e&&Number.isInteger(Number(e)),mC=e=>e.endsWith("%")&&Gs(e.slice(0,-1)),me=e=>Ow.test(e),Br=e=>cC.test(e),gC=new Set(["length","size","percentage"]),vC=e=>Eo(e,gC,Rw),yC=e=>Eo(e,"position",Rw),_C=new Set(["image","url"]),wC=e=>Eo(e,_C,SC),xC=e=>Eo(e,"",kC),Jo=()=>!0,Eo=(e,t,n)=>{const r=Ow.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},bC=e=>dC.test(e)&&!hC.test(e),Rw=()=>!1,kC=e=>fC.test(e),SC=e=>pC.test(e),PC=()=>{const e=Fe("colors"),t=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),o=Fe("borderRadius"),l=Fe("borderSpacing"),u=Fe("borderWidth"),d=Fe("contrast"),h=Fe("grayscale"),m=Fe("hueRotate"),v=Fe("invert"),g=Fe("gap"),x=Fe("gradientColorStops"),E=Fe("gradientColorStopPositions"),w=Fe("inset"),C=Fe("margin"),k=Fe("opacity"),b=Fe("padding"),P=Fe("saturate"),T=Fe("scale"),N=Fe("sepia"),R=Fe("skew"),M=Fe("space"),D=Fe("translate"),F=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",me,t],K=()=>[me,t],oe=()=>["",yr,$r],q=()=>["auto",Gs,me],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",me],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Gs,me];return{cacheSize:500,separator:":",theme:{colors:[Jo],spacing:[yr,$r],blur:["none","",Br,me],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Br,me],borderSpacing:K(),borderWidth:oe(),contrast:Z(),grayscale:G(),hueRotate:Z(),invert:G(),gap:K(),gradientColorStops:[e],gradientColorStopPositions:[mC,$r],inset:Y(),margin:Y(),opacity:Z(),padding:K(),saturate:Z(),scale:Z(),sepia:G(),skew:Z(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Br]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),me]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yo,me]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Yo,me]}],"grid-cols":[{"grid-cols":[Jo]}],"col-start-end":[{col:["auto",{span:["full",Yo,me]},me]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Jo]}],"row-start-end":[{row:["auto",{span:[Yo,me]},me]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[Br]},Br]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Br,$r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qd]}],"font-family":[{font:[Jo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Gs,qd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yr,$r]}],"underline-offset":[{"underline-offset":["auto",yr,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),yC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[yr,me]}],"outline-w":[{outline:[yr,$r]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[yr,$r]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Br,xC]}],"shadow-color":[{shadow:[Jo]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Br,me]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[v]}],saturate:[{saturate:[P]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Yo,me]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yr,$r,qd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EC=aC(PC);function _e(...e){return EC(Ew(e))}const CC=OE,Mw=_.forwardRef(({className:e,...t},n)=>p.jsx(_w,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Mw.displayName=_w.displayName;const TC=Pc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Iw=_.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(ww,{ref:r,className:_e(TC({variant:t}),e),...n}));Iw.displayName=ww.displayName;const jC=_.forwardRef(({className:e,...t},n)=>p.jsx(kw,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jC.displayName=kw.displayName;const Dw=_.forwardRef(({className:e,...t},n)=>p.jsx(Sw,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(jw,{className:"h-4 w-4"})}));Dw.displayName=Sw.displayName;const zw=_.forwardRef(({className:e,...t},n)=>p.jsx(xw,{ref:n,className:_e("text-sm font-semibold",e),...t}));zw.displayName=xw.displayName;const Fw=_.forwardRef(({className:e,...t},n)=>p.jsx(bw,{ref:n,className:_e("text-sm opacity-90",e),...t}));Fw.displayName=bw.displayName;function NC(){const{toasts:e}=Xa();return p.jsxs(CC,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return p.jsxs(Iw,{...o,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(zw,{children:n}),r&&p.jsx(Fw,{children:r})]}),s,p.jsx(Dw,{})]},t)}),p.jsx(Mw,{})]})}var Cv=["light","dark"],LC="(prefers-color-scheme: dark)",AC=_.createContext(void 0),OC={setTheme:e=>{},themes:[]},RC=()=>{var e;return(e=_.useContext(AC))!=null?e:OC};_.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:l,attrs:u,nonce:d})=>{let h=o==="system",m=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,v=s?Cv.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(E,w=!1,C=!0)=>{let k=l?l[E]:E,b=w?E+"|| ''":`'${k}'`,P="";return s&&C&&!w&&Cv.includes(E)&&(P+=`d.style.colorScheme = '${E}';`),n==="class"?w||k?P+=`c.add(${b})`:P+="null":k&&(P+=`d[s](n,${b})`),P},x=e?`!function(){${m}${g(e)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${LC}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${g(l?"x[e]":"e",!0)}}${h?"":"else{"+g(o,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${g(l?"x[e]":"e",!0)}}else{${g(o,!1,!1)};}${v}}catch(t){}}();`;return _.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:x}})});var MC=e=>{switch(e){case"success":return zC;case"info":return $C;case"warning":return FC;case"error":return BC;default:return null}},IC=Array(12).fill(0),DC=({visible:e})=>J.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},J.createElement("div",{className:"sonner-spinner"},IC.map((t,n)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),zC=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FC=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$C=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BC=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UC=()=>{let[e,t]=J.useState(document.hidden);return J.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},df=1,WC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:df++,o=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:n}),{...u,...e,id:s,dismissible:l,title:n}):u):this.addToast({title:n,...r,dismissible:l,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async o=>{if(ZC(o)&&!o.ok){s=!1;let l=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:n,type:"error",message:l,description:u})}else if(t.success!==void 0){s=!1;let l=typeof t.success=="function"?await t.success(o):t.success,u=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"success",message:l,description:u})}}).catch(async o=>{if(t.error!==void 0){s=!1;let l=typeof t.error=="function"?await t.error(o):t.error,u=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"error",message:l,description:u})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=t.finally)==null||o.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||df++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},nn=new WC,HC=(e,t)=>{let n=(t==null?void 0:t.id)||df++;return nn.addToast({title:e,...t,id:n}),n},ZC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",VC=HC,qC=()=>nn.toasts;Object.assign(VC,{success:nn.success,info:nn.info,warning:nn.warning,error:nn.error,custom:nn.custom,message:nn.message,promise:nn.promise,dismiss:nn.dismiss,loading:nn.loading},{getHistory:qC});function GC(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}GC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vl(e){return e.label!==void 0}var KC=3,QC="32px",YC=4e3,JC=356,XC=14,eT=20,tT=200;function nT(...e){return e.filter(Boolean).join(" ")}var rT=e=>{var t,n,r,s,o,l,u,d,h,m;let{invert:v,toast:g,unstyled:x,interacting:E,setHeights:w,visibleToasts:C,heights:k,index:b,toasts:P,expanded:T,removeToast:N,defaultRichColors:R,closeButton:M,style:D,cancelButtonStyle:F,actionButtonStyle:Q,className:Y="",descriptionClassName:K="",duration:oe,position:q,gap:ne,loadingIcon:W,expandByDefault:ue,classNames:A,icons:G,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:Z,cn:z}=e,[H,te]=J.useState(!1),[se,X]=J.useState(!1),[je,ke]=J.useState(!1),[at,Ye]=J.useState(!1),[bt,et]=J.useState(0),[lt,Nt]=J.useState(0),hr=J.useRef(null),Ft=J.useRef(null),ee=b===0,he=b+1<=C,ae=g.type,Ce=g.dismissible!==!1,Lt=g.className||"",$t=g.descriptionClassName||"",tt=J.useMemo(()=>k.findIndex(ce=>ce.toastId===g.id)||0,[k,g.id]),Mr=J.useMemo(()=>{var ce;return(ce=g.closeButton)!=null?ce:M},[g.closeButton,M]),Hn=J.useMemo(()=>g.duration||oe||YC,[g.duration,oe]),fn=J.useRef(0),Bt=J.useRef(0),Cn=J.useRef(0),Yt=J.useRef(null),[Ti,ds]=q.split("-"),ji=J.useMemo(()=>k.reduce((ce,Pe,Ne)=>Ne>=tt?ce:ce+Pe.height,0),[k,tt]),Ni=UC(),Ir=g.invert||v,fr=ae==="loading";Bt.current=J.useMemo(()=>tt*ne+ji,[tt,ji]),J.useEffect(()=>{te(!0)},[]),J.useLayoutEffect(()=>{if(!H)return;let ce=Ft.current,Pe=ce.style.height;ce.style.height="auto";let Ne=ce.getBoundingClientRect().height;ce.style.height=Pe,Nt(Ne),w(Jt=>Jt.find(Xt=>Xt.toastId===g.id)?Jt.map(Xt=>Xt.toastId===g.id?{...Xt,height:Ne}:Xt):[{toastId:g.id,height:Ne,position:g.position},...Jt])},[H,g.title,g.description,w,g.id]);let xe=J.useCallback(()=>{X(!0),et(Bt.current),w(ce=>ce.filter(Pe=>Pe.toastId!==g.id)),setTimeout(()=>{N(g)},tT)},[g,N,w,Bt]);J.useEffect(()=>{if(g.promise&&ae==="loading"||g.duration===1/0||g.type==="loading")return;let ce,Pe=Hn;return T||E||Z&&Ni?(()=>{if(Cn.current<fn.current){let Ne=new Date().getTime()-fn.current;Pe=Pe-Ne}Cn.current=new Date().getTime()})():Pe!==1/0&&(fn.current=new Date().getTime(),ce=setTimeout(()=>{var Ne;(Ne=g.onAutoClose)==null||Ne.call(g,g),xe()},Pe)),()=>clearTimeout(ce)},[T,E,ue,g,Hn,xe,g.promise,ae,Z,Ni]),J.useEffect(()=>{let ce=Ft.current;if(ce){let Pe=ce.getBoundingClientRect().height;return Nt(Pe),w(Ne=>[{toastId:g.id,height:Pe,position:g.position},...Ne]),()=>w(Ne=>Ne.filter(Jt=>Jt.toastId!==g.id))}},[w,g.id]),J.useEffect(()=>{g.delete&&xe()},[xe,g.delete]);function nt(){return G!=null&&G.loading?J.createElement("div",{className:"sonner-loader","data-visible":ae==="loading"},G.loading):W?J.createElement("div",{className:"sonner-loader","data-visible":ae==="loading"},W):J.createElement(DC,{visible:ae==="loading"})}return J.createElement("li",{"aria-live":g.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ft,className:z(Y,Lt,A==null?void 0:A.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[ae],(n=g==null?void 0:g.classNames)==null?void 0:n[ae]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:R,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":H,"data-promise":!!g.promise,"data-removed":se,"data-visible":he,"data-y-position":Ti,"data-x-position":ds,"data-index":b,"data-front":ee,"data-swiping":je,"data-dismissible":Ce,"data-type":ae,"data-invert":Ir,"data-swipe-out":at,"data-expanded":!!(T||ue&&H),style:{"--index":b,"--toasts-before":b,"--z-index":P.length-b,"--offset":`${se?bt:Bt.current}px`,"--initial-height":ue?"auto":`${lt}px`,...D,...g.style},onPointerDown:ce=>{fr||!Ce||(hr.current=new Date,et(Bt.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(ke(!0),Yt.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Pe,Ne,Jt;if(at||!Ce)return;Yt.current=null;let Xt=Number(((ce=Ft.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount").replace("px",""))||0),hs=new Date().getTime()-((Pe=hr.current)==null?void 0:Pe.getTime()),Wc=Math.abs(Xt)/hs;if(Math.abs(Xt)>=eT||Wc>.11){et(Bt.current),(Ne=g.onDismiss)==null||Ne.call(g,g),xe(),Ye(!0);return}(Jt=Ft.current)==null||Jt.style.setProperty("--swipe-amount","0px"),ke(!1)},onPointerMove:ce=>{var Pe;if(!Yt.current||!Ce)return;let Ne=ce.clientY-Yt.current.y,Jt=ce.clientX-Yt.current.x,Xt=(Ti==="top"?Math.min:Math.max)(0,Ne),hs=ce.pointerType==="touch"?10:2;Math.abs(Xt)>hs?(Pe=Ft.current)==null||Pe.style.setProperty("--swipe-amount",`${Ne}px`):Math.abs(Jt)>hs&&(Yt.current=null)}},Mr&&!g.jsx?J.createElement("button",{"aria-label":$,"data-disabled":fr,"data-close-button":!0,onClick:fr||!Ce?()=>{}:()=>{var ce;xe(),(ce=g.onDismiss)==null||ce.call(g,g)},className:z(A==null?void 0:A.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,g.jsx||J.isValidElement(g.title)?g.jsx||g.title:J.createElement(J.Fragment,null,ae||g.icon||g.promise?J.createElement("div",{"data-icon":"",className:z(A==null?void 0:A.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||nt():null,g.type!=="loading"?g.icon||(G==null?void 0:G[ae])||MC(ae):null):null,J.createElement("div",{"data-content":"",className:z(A==null?void 0:A.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},J.createElement("div",{"data-title":"",className:z(A==null?void 0:A.title,(u=g==null?void 0:g.classNames)==null?void 0:u.title)},g.title),g.description?J.createElement("div",{"data-description":"",className:z(K,$t,A==null?void 0:A.description,(d=g==null?void 0:g.classNames)==null?void 0:d.description)},g.description):null),J.isValidElement(g.cancel)?g.cancel:g.cancel&&Vl(g.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||F,onClick:ce=>{var Pe,Ne;Vl(g.cancel)&&Ce&&((Ne=(Pe=g.cancel).onClick)==null||Ne.call(Pe,ce),xe())},className:z(A==null?void 0:A.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,J.isValidElement(g.action)?g.action:g.action&&Vl(g.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||Q,onClick:ce=>{var Pe,Ne;Vl(g.action)&&(ce.defaultPrevented||((Ne=(Pe=g.action).onClick)==null||Ne.call(Pe,ce),xe()))},className:z(A==null?void 0:A.actionButton,(m=g==null?void 0:g.classNames)==null?void 0:m.actionButton)},g.action.label):null))};function Tv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var iT=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:u,theme:d="light",richColors:h,duration:m,style:v,visibleToasts:g=KC,toastOptions:x,dir:E=Tv(),gap:w=XC,loadingIcon:C,icons:k,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:P,cn:T=nT}=e,[N,R]=J.useState([]),M=J.useMemo(()=>Array.from(new Set([n].concat(N.filter(Z=>Z.position).map(Z=>Z.position)))),[N,n]),[D,F]=J.useState([]),[Q,Y]=J.useState(!1),[K,oe]=J.useState(!1),[q,ne]=J.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=J.useRef(null),ue=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=J.useRef(null),G=J.useRef(!1),$=J.useCallback(Z=>{var z;(z=N.find(H=>H.id===Z.id))!=null&&z.delete||nn.dismiss(Z.id),R(H=>H.filter(({id:te})=>te!==Z.id))},[N]);return J.useEffect(()=>nn.subscribe(Z=>{if(Z.dismiss){R(z=>z.map(H=>H.id===Z.id?{...H,delete:!0}:H));return}setTimeout(()=>{J0.flushSync(()=>{R(z=>{let H=z.findIndex(te=>te.id===Z.id);return H!==-1?[...z.slice(0,H),{...z[H],...Z},...z.slice(H+1)]:[Z,...z]})})})}),[]),J.useEffect(()=>{if(d!=="system"){ne(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Z})=>{ne(Z?"dark":"light")})},[d]),J.useEffect(()=>{N.length<=1&&Y(!1)},[N]),J.useEffect(()=>{let Z=z=>{var H,te;r.every(se=>z[se]||z.code===se)&&(Y(!0),(H=W.current)==null||H.focus()),z.code==="Escape"&&(document.activeElement===W.current||(te=W.current)!=null&&te.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[r]),J.useEffect(()=>{if(W.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,G.current=!1)}},[W.current]),N.length?J.createElement("section",{"aria-label":`${b} ${ue}`,tabIndex:-1},M.map((Z,z)=>{var H;let[te,se]=Z.split("-");return J.createElement("ol",{key:Z,dir:E==="auto"?Tv():E,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":te,"data-x-position":se,style:{"--front-toast-height":`${((H=D[0])==null?void 0:H.height)||0}px`,"--offset":typeof u=="number"?`${u}px`:u||QC,"--width":`${JC}px`,"--gap":`${w}px`,...v},onBlur:X=>{G.current&&!X.currentTarget.contains(X.relatedTarget)&&(G.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||G.current||(G.current=!0,A.current=X.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{K||Y(!1)},onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||oe(!0)},onPointerUp:()=>oe(!1)},N.filter(X=>!X.position&&z===0||X.position===Z).map((X,je)=>{var ke,at;return J.createElement(rT,{key:X.id,icons:k,index:je,toast:X,defaultRichColors:h,duration:(ke=x==null?void 0:x.duration)!=null?ke:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:t,visibleToasts:g,closeButton:(at=x==null?void 0:x.closeButton)!=null?at:o,interacting:K,position:Z,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:$,toasts:N.filter(Ye=>Ye.position==X.position),heights:D.filter(Ye=>Ye.position==X.position),setHeights:F,expandByDefault:s,gap:w,loadingIcon:C,expanded:Q,pauseWhenPageIsHidden:P,cn:T})}))})):null};const sT=({...e})=>{const{theme:t="system"}=RC();return p.jsx(iT,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var oT=Ky.useId||(()=>{}),aT=0;function xu(e){const[t,n]=_.useState(oT());return gi(()=>{e||n(r=>r??String(aT++))},[e]),e||(t?`radix-${t}`:"")}const lT=["top","right","bottom","left"],vi=Math.min,sn=Math.max,Ku=Math.round,ql=Math.floor,yi=e=>({x:e,y:e}),uT={left:"right",right:"left",bottom:"top",top:"bottom"},cT={start:"end",end:"start"};function hf(e,t,n){return sn(e,vi(t,n))}function Lr(e,t){return typeof e=="function"?e(t):e}function Ar(e){return e.split("-")[0]}function Co(e){return e.split("-")[1]}function Ap(e){return e==="x"?"y":"x"}function Op(e){return e==="y"?"height":"width"}function _i(e){return["top","bottom"].includes(Ar(e))?"y":"x"}function Rp(e){return Ap(_i(e))}function dT(e,t,n){n===void 0&&(n=!1);const r=Co(e),s=Rp(e),o=Op(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Qu(l)),[l,Qu(l)]}function hT(e){const t=Qu(e);return[ff(e),t,ff(t)]}function ff(e){return e.replace(/start|end/g,t=>cT[t])}function fT(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:l;default:return[]}}function pT(e,t,n,r){const s=Co(e);let o=fT(Ar(e),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(ff)))),o}function Qu(e){return e.replace(/left|right|bottom|top/g,t=>uT[t])}function mT(e){return{top:0,right:0,bottom:0,left:0,...e}}function $w(e){return typeof e!="number"?mT(e):{top:e,right:e,bottom:e,left:e}}function Yu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function jv(e,t,n){let{reference:r,floating:s}=e;const o=_i(t),l=Rp(t),u=Op(l),d=Ar(t),h=o==="y",m=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,g=r[u]/2-s[u]/2;let x;switch(d){case"top":x={x:m,y:r.y-s.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:v};break;case"left":x={x:r.x-s.width,y:v};break;default:x={x:r.x,y:r.y}}switch(Co(t)){case"start":x[l]-=g*(n&&h?-1:1);break;case"end":x[l]+=g*(n&&h?-1:1);break}return x}const gT=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:v}=jv(h,r,d),g=r,x={},E=0;for(let w=0;w<u.length;w++){const{name:C,fn:k}=u[w],{x:b,y:P,data:T,reset:N}=await k({x:m,y:v,initialPlacement:r,placement:g,strategy:s,middlewareData:x,rects:h,platform:l,elements:{reference:e,floating:t}});m=b??m,v=P??v,x={...x,[C]:{...x[C],...T}},N&&E<=50&&(E++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(h=N.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:m,y:v}=jv(h,g,d)),w=-1)}return{x:m,y:v,placement:g,strategy:s,middlewareData:x}};async function za(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:l,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:g=!1,padding:x=0}=Lr(t,e),E=$w(x),C=u[g?v==="floating"?"reference":"floating":v],k=Yu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:d})),b=v==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),T=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},N=Yu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:b,offsetParent:P,strategy:d}):b);return{top:(k.top-N.top+E.top)/T.y,bottom:(N.bottom-k.bottom+E.bottom)/T.y,left:(k.left-N.left+E.left)/T.x,right:(N.right-k.right+E.right)/T.x}}const vT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:l,elements:u,middlewareData:d}=t,{element:h,padding:m=0}=Lr(e,t)||{};if(h==null)return{};const v=$w(m),g={x:n,y:r},x=Rp(s),E=Op(x),w=await l.getDimensions(h),C=x==="y",k=C?"top":"left",b=C?"bottom":"right",P=C?"clientHeight":"clientWidth",T=o.reference[E]+o.reference[x]-g[x]-o.floating[E],N=g[x]-o.reference[x],R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let M=R?R[P]:0;(!M||!await(l.isElement==null?void 0:l.isElement(R)))&&(M=u.floating[P]||o.floating[E]);const D=T/2-N/2,F=M/2-w[E]/2-1,Q=vi(v[k],F),Y=vi(v[b],F),K=Q,oe=M-w[E]-Y,q=M/2-w[E]/2+D,ne=hf(K,q,oe),W=!d.arrow&&Co(s)!=null&&q!==ne&&o.reference[E]/2-(q<K?Q:Y)-w[E]/2<0,ue=W?q<K?q-K:q-oe:0;return{[x]:g[x]+ue,data:{[x]:ne,centerOffset:q-ne-ue,...W&&{alignmentOffset:ue}},reset:W}}}),yT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...C}=Lr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const k=Ar(s),b=_i(u),P=Ar(u)===u,T=await(d.isRTL==null?void 0:d.isRTL(h.floating)),N=g||(P||!w?[Qu(u)]:hT(u)),R=E!=="none";!g&&R&&N.push(...pT(u,w,E,T));const M=[u,...N],D=await za(t,C),F=[];let Q=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&F.push(D[k]),v){const q=dT(s,l,T);F.push(D[q[0]],D[q[1]])}if(Q=[...Q,{placement:s,overflows:F}],!F.every(q=>q<=0)){var Y,K;const q=(((Y=o.flip)==null?void 0:Y.index)||0)+1,ne=M[q];if(ne)return{data:{index:q,overflows:Q},reset:{placement:ne}};let W=(K=Q.filter(ue=>ue.overflows[0]<=0).sort((ue,A)=>ue.overflows[1]-A.overflows[1])[0])==null?void 0:K.placement;if(!W)switch(x){case"bestFit":{var oe;const ue=(oe=Q.filter(A=>{if(R){const G=_i(A.placement);return G===b||G==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(G=>G>0).reduce((G,$)=>G+$,0)]).sort((A,G)=>A[1]-G[1])[0])==null?void 0:oe[0];ue&&(W=ue);break}case"initialPlacement":W=u;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function Nv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lv(e){return lT.some(t=>e[t]>=0)}const _T=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Lr(e,t);switch(r){case"referenceHidden":{const o=await za(t,{...s,elementContext:"reference"}),l=Nv(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Lv(l)}}}case"escaped":{const o=await za(t,{...s,altBoundary:!0}),l=Nv(o,n.floating);return{data:{escapedOffsets:l,escaped:Lv(l)}}}default:return{}}}}};async function wT(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Ar(n),u=Co(n),d=_i(n)==="y",h=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,v=Lr(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof E=="number"&&(x=u==="end"?E*-1:E),d?{x:x*m,y:g*h}:{x:g*h,y:x*m}}const xT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:l,middlewareData:u}=t,d=await wT(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},bT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:k,y:b}=C;return{x:k,y:b}}},...d}=Lr(e,t),h={x:n,y:r},m=await za(t,d),v=_i(Ar(s)),g=Ap(v);let x=h[g],E=h[v];if(o){const C=g==="y"?"top":"left",k=g==="y"?"bottom":"right",b=x+m[C],P=x-m[k];x=hf(b,x,P)}if(l){const C=v==="y"?"top":"left",k=v==="y"?"bottom":"right",b=E+m[C],P=E-m[k];E=hf(b,E,P)}const w=u.fn({...t,[g]:x,[v]:E});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:o,[v]:l}}}}}},kT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=Lr(e,t),m={x:n,y:r},v=_i(s),g=Ap(v);let x=m[g],E=m[v];const w=Lr(u,t),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const P=g==="y"?"height":"width",T=o.reference[g]-o.floating[P]+C.mainAxis,N=o.reference[g]+o.reference[P]-C.mainAxis;x<T?x=T:x>N&&(x=N)}if(h){var k,b;const P=g==="y"?"width":"height",T=["top","left"].includes(Ar(s)),N=o.reference[v]-o.floating[P]+(T&&((k=l.offset)==null?void 0:k[v])||0)+(T?0:C.crossAxis),R=o.reference[v]+o.reference[P]+(T?0:((b=l.offset)==null?void 0:b[v])||0)-(T?C.crossAxis:0);E<N?E=N:E>R&&(E=R)}return{[g]:x,[v]:E}}}},ST=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:l,elements:u}=t,{apply:d=()=>{},...h}=Lr(e,t),m=await za(t,h),v=Ar(s),g=Co(s),x=_i(s)==="y",{width:E,height:w}=o.floating;let C,k;v==="top"||v==="bottom"?(C=v,k=g===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(k=v,C=g==="end"?"top":"bottom");const b=w-m.top-m.bottom,P=E-m.left-m.right,T=vi(w-m[C],b),N=vi(E-m[k],P),R=!t.middlewareData.shift;let M=T,D=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=P),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(M=b),R&&!g){const Q=sn(m.left,0),Y=sn(m.right,0),K=sn(m.top,0),oe=sn(m.bottom,0);x?D=E-2*(Q!==0||Y!==0?Q+Y:sn(m.left,m.right)):M=w-2*(K!==0||oe!==0?K+oe:sn(m.top,m.bottom))}await d({...t,availableWidth:D,availableHeight:M});const F=await l.getDimensions(u.floating);return E!==F.width||w!==F.height?{reset:{rects:!0}}:{}}}};function Ec(){return typeof window<"u"}function To(e){return Bw(e)?(e.nodeName||"").toLowerCase():"#document"}function ln(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ur(e){var t;return(t=(Bw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Bw(e){return Ec()?e instanceof Node||e instanceof ln(e).Node:!1}function Bn(e){return Ec()?e instanceof Element||e instanceof ln(e).Element:!1}function lr(e){return Ec()?e instanceof HTMLElement||e instanceof ln(e).HTMLElement:!1}function Av(e){return!Ec()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ln(e).ShadowRoot}function tl(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function PT(e){return["table","td","th"].includes(To(e))}function Cc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Mp(e){const t=Ip(),n=Bn(e)?Un(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ET(e){let t=wi(e);for(;lr(t)&&!mo(t);){if(Mp(t))return t;if(Cc(t))return null;t=wi(t)}return null}function Ip(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mo(e){return["html","body","#document"].includes(To(e))}function Un(e){return ln(e).getComputedStyle(e)}function Tc(e){return Bn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wi(e){if(To(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Av(e)&&e.host||ur(e);return Av(t)?t.host:t}function Uw(e){const t=wi(e);return mo(t)?e.ownerDocument?e.ownerDocument.body:e.body:lr(t)&&tl(t)?t:Uw(t)}function Fa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Uw(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),l=ln(s);if(o){const u=pf(l);return t.concat(l,l.visualViewport||[],tl(s)?s:[],u&&n?Fa(u):[])}return t.concat(s,Fa(s,[],n))}function pf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ww(e){const t=Un(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=lr(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:r,u=Ku(n)!==o||Ku(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function Dp(e){return Bn(e)?e:e.contextElement}function Ks(e){const t=Dp(e);if(!lr(t))return yi(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Ww(t);let l=(o?Ku(n.width):n.width)/r,u=(o?Ku(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const CT=yi(0);function Hw(e){const t=ln(e);return!Ip()||!t.visualViewport?CT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TT(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ln(e)?!1:t}function is(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Dp(e);let l=yi(1);t&&(r?Bn(r)&&(l=Ks(r)):l=Ks(e));const u=TT(o,n,r)?Hw(o):yi(0);let d=(s.left+u.x)/l.x,h=(s.top+u.y)/l.y,m=s.width/l.x,v=s.height/l.y;if(o){const g=ln(o),x=r&&Bn(r)?ln(r):r;let E=g,w=pf(E);for(;w&&r&&x!==E;){const C=Ks(w),k=w.getBoundingClientRect(),b=Un(w),P=k.left+(w.clientLeft+parseFloat(b.paddingLeft))*C.x,T=k.top+(w.clientTop+parseFloat(b.paddingTop))*C.y;d*=C.x,h*=C.y,m*=C.x,v*=C.y,d+=P,h+=T,E=ln(w),w=pf(E)}}return Yu({width:m,height:v,x:d,y:h})}function jT(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",l=ur(r),u=t?Cc(t.floating):!1;if(r===l||u&&o)return n;let d={scrollLeft:0,scrollTop:0},h=yi(1);const m=yi(0),v=lr(r);if((v||!v&&!o)&&((To(r)!=="body"||tl(l))&&(d=Tc(r)),lr(r))){const g=is(r);h=Ks(r),m.x=g.x+r.clientLeft,m.y=g.y+r.clientTop}return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x,y:n.y*h.y-d.scrollTop*h.y+m.y}}function NT(e){return Array.from(e.getClientRects())}function mf(e,t){const n=Tc(e).scrollLeft;return t?t.left+n:is(ur(e)).left+n}function LT(e){const t=ur(e),n=Tc(e),r=e.ownerDocument.body,s=sn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=sn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+mf(e);const u=-n.scrollTop;return Un(r).direction==="rtl"&&(l+=sn(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:u}}function AT(e,t){const n=ln(e),r=ur(e),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,d=0;if(s){o=s.width,l=s.height;const h=Ip();(!h||h&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:o,height:l,x:u,y:d}}function OT(e,t){const n=is(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=lr(e)?Ks(e):yi(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,d=s*o.x,h=r*o.y;return{width:l,height:u,x:d,y:h}}function Ov(e,t,n){let r;if(t==="viewport")r=AT(e,n);else if(t==="document")r=LT(ur(e));else if(Bn(t))r=OT(t,n);else{const s=Hw(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Yu(r)}function Zw(e,t){const n=wi(e);return n===t||!Bn(n)||mo(n)?!1:Un(n).position==="fixed"||Zw(n,t)}function RT(e,t){const n=t.get(e);if(n)return n;let r=Fa(e,[],!1).filter(u=>Bn(u)&&To(u)!=="body"),s=null;const o=Un(e).position==="fixed";let l=o?wi(e):e;for(;Bn(l)&&!mo(l);){const u=Un(l),d=Mp(l);!d&&u.position==="fixed"&&(s=null),(o?!d&&!s:!d&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||tl(l)&&!d&&Zw(e,l))?r=r.filter(m=>m!==l):s=u,l=wi(l)}return t.set(e,r),r}function MT(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const l=[...n==="clippingAncestors"?Cc(t)?[]:RT(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((h,m)=>{const v=Ov(t,m,s);return h.top=sn(v.top,h.top),h.right=vi(v.right,h.right),h.bottom=vi(v.bottom,h.bottom),h.left=sn(v.left,h.left),h},Ov(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function IT(e){const{width:t,height:n}=Ww(e);return{width:t,height:n}}function DT(e,t,n){const r=lr(t),s=ur(t),o=n==="fixed",l=is(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=yi(0);if(r||!r&&!o)if((To(t)!=="body"||tl(s))&&(u=Tc(t)),r){const x=is(t,!0,o,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else s&&(d.x=mf(s));let h=0,m=0;if(s&&!r&&!o){const x=s.getBoundingClientRect();m=x.top+u.scrollTop,h=x.left+u.scrollLeft-mf(s,x)}const v=l.left+u.scrollLeft-d.x-h,g=l.top+u.scrollTop-d.y-m;return{x:v,y:g,width:l.width,height:l.height}}function Gd(e){return Un(e).position==="static"}function Rv(e,t){if(!lr(e)||Un(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ur(e)===n&&(n=n.ownerDocument.body),n}function Vw(e,t){const n=ln(e);if(Cc(e))return n;if(!lr(e)){let s=wi(e);for(;s&&!mo(s);){if(Bn(s)&&!Gd(s))return s;s=wi(s)}return n}let r=Rv(e,t);for(;r&&PT(r)&&Gd(r);)r=Rv(r,t);return r&&mo(r)&&Gd(r)&&!Mp(r)?n:r||ET(e)||n}const zT=async function(e){const t=this.getOffsetParent||Vw,n=this.getDimensions,r=await n(e.floating);return{reference:DT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FT(e){return Un(e).direction==="rtl"}const $T={convertOffsetParentRelativeRectToViewportRelativeRect:jT,getDocumentElement:ur,getClippingRect:MT,getOffsetParent:Vw,getElementRects:zT,getClientRects:NT,getDimensions:IT,getScale:Ks,isElement:Bn,isRTL:FT};function BT(e,t){let n=null,r;const s=ur(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const{left:h,top:m,width:v,height:g}=e.getBoundingClientRect();if(u||t(),!v||!g)return;const x=ql(m),E=ql(s.clientWidth-(h+v)),w=ql(s.clientHeight-(m+g)),C=ql(h),b={rootMargin:-x+"px "+-E+"px "+-w+"px "+-C+"px",threshold:sn(0,vi(1,d))||1};let P=!0;function T(N){const R=N[0].intersectionRatio;if(R!==d){if(!P)return l();R?l(!1,R):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P=!1}try{n=new IntersectionObserver(T,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,b)}n.observe(e)}return l(!0),o}function UT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=Dp(e),m=s||o?[...h?Fa(h):[],...Fa(t)]:[];m.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),o&&k.addEventListener("resize",n)});const v=h&&u?BT(h,n):null;let g=-1,x=null;l&&(x=new ResizeObserver(k=>{let[b]=k;b&&b.target===h&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var P;(P=x)==null||P.observe(t)})),n()}),h&&!d&&x.observe(h),x.observe(t));let E,w=d?is(e):null;d&&C();function C(){const k=is(e);w&&(k.x!==w.x||k.y!==w.y||k.width!==w.width||k.height!==w.height)&&n(),w=k,E=requestAnimationFrame(C)}return n(),()=>{var k;m.forEach(b=>{s&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),v==null||v(),(k=x)==null||k.disconnect(),x=null,d&&cancelAnimationFrame(E)}}const WT=xT,HT=bT,ZT=yT,VT=ST,qT=_T,Mv=vT,GT=kT,KT=(e,t,n)=>{const r=new Map,s={platform:$T,...n},o={...s.platform,_c:r};return gT(e,t,{...s,platform:o})};var bu=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Ju(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ju(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Ju(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function qw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Iv(e,t){const n=qw(e);return Math.round(t*n)/n}function Kd(e){const t=_.useRef(e);return bu(()=>{t.current=e}),t}function QT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[m,v]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=_.useState(r);Ju(g,r)||x(r);const[E,w]=_.useState(null),[C,k]=_.useState(null),b=_.useCallback(A=>{A!==R.current&&(R.current=A,w(A))},[]),P=_.useCallback(A=>{A!==M.current&&(M.current=A,k(A))},[]),T=o||E,N=l||C,R=_.useRef(null),M=_.useRef(null),D=_.useRef(m),F=d!=null,Q=Kd(d),Y=Kd(s),K=Kd(h),oe=_.useCallback(()=>{if(!R.current||!M.current)return;const A={placement:t,strategy:n,middleware:g};Y.current&&(A.platform=Y.current),KT(R.current,M.current,A).then(G=>{const $={...G,isPositioned:K.current!==!1};q.current&&!Ju(D.current,$)&&(D.current=$,Ja.flushSync(()=>{v($)}))})},[g,t,n,Y,K]);bu(()=>{h===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,v(A=>({...A,isPositioned:!1})))},[h]);const q=_.useRef(!1);bu(()=>(q.current=!0,()=>{q.current=!1}),[]),bu(()=>{if(T&&(R.current=T),N&&(M.current=N),T&&N){if(Q.current)return Q.current(T,N,oe);oe()}},[T,N,oe,Q,F]);const ne=_.useMemo(()=>({reference:R,floating:M,setReference:b,setFloating:P}),[b,P]),W=_.useMemo(()=>({reference:T,floating:N}),[T,N]),ue=_.useMemo(()=>{const A={position:n,left:0,top:0};if(!W.floating)return A;const G=Iv(W.floating,m.x),$=Iv(W.floating,m.y);return u?{...A,transform:"translate("+G+"px, "+$+"px)",...qw(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:$}},[n,u,W.floating,m.x,m.y]);return _.useMemo(()=>({...m,update:oe,refs:ne,elements:W,floatingStyles:ue}),[m,oe,ne,W,ue])}const YT=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Mv({element:r.current,padding:s}).fn(n):{}:r?Mv({element:r,padding:s}).fn(n):{}}}},JT=(e,t)=>({...WT(e),options:[e,t]}),XT=(e,t)=>({...HT(e),options:[e,t]}),ej=(e,t)=>({...GT(e),options:[e,t]}),tj=(e,t)=>({...ZT(e),options:[e,t]}),nj=(e,t)=>({...VT(e),options:[e,t]}),rj=(e,t)=>({...qT(e),options:[e,t]}),ij=(e,t)=>({...YT(e),options:[e,t]});var sj="Arrow",Gw=_.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return p.jsx(qe.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});Gw.displayName=sj;var oj=Gw;function aj(e,t=[]){let n=[];function r(o,l){const u=_.createContext(l),d=n.length;n=[...n,l];function h(v){const{scope:g,children:x,...E}=v,w=(g==null?void 0:g[e][d])||u,C=_.useMemo(()=>E,Object.values(E));return p.jsx(w.Provider,{value:C,children:x})}function m(v,g){const x=(g==null?void 0:g[e][d])||u,E=_.useContext(x);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return h.displayName=o+"Provider",[h,m]}const s=()=>{const o=n.map(l=>_.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return _.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,lj(s,...t)]}function lj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...u,...v}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function uj(e){const[t,n]=_.useState(void 0);return gi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,u=h.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var zp="Popper",[Kw,jc]=aj(zp),[cj,Qw]=Kw(zp),Yw=e=>{const{__scopePopper:t,children:n}=e,[r,s]=_.useState(null);return p.jsx(cj,{scope:t,anchor:r,onAnchorChange:s,children:n})};Yw.displayName=zp;var Jw="PopperAnchor",Xw=_.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Qw(Jw,n),l=_.useRef(null),u=xt(t,l);return _.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:p.jsx(qe.div,{...s,ref:u})});Xw.displayName=Jw;var Fp="PopperContent",[dj,hj]=Kw(Fp),ex=_.forwardRef((e,t)=>{var je,ke,at,Ye,bt,et;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:E,...w}=e,C=Qw(Fp,n),[k,b]=_.useState(null),P=xt(t,lt=>b(lt)),[T,N]=_.useState(null),R=uj(T),M=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,F=r+(o!=="center"?"-"+o:""),Q=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Y=Array.isArray(h)?h:[h],K=Y.length>0,oe={padding:Q,boundary:Y.filter(pj),altBoundary:K},{refs:q,floatingStyles:ne,placement:W,isPositioned:ue,middlewareData:A}=QT({strategy:"fixed",placement:F,whileElementsMounted:(...lt)=>UT(...lt,{animationFrame:x==="always"}),elements:{reference:C.anchor},middleware:[JT({mainAxis:s+D,alignmentAxis:l}),d&&XT({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?ej():void 0,...oe}),d&&tj({...oe}),nj({...oe,apply:({elements:lt,rects:Nt,availableWidth:hr,availableHeight:Ft})=>{const{width:ee,height:he}=Nt.reference,ae=lt.floating.style;ae.setProperty("--radix-popper-available-width",`${hr}px`),ae.setProperty("--radix-popper-available-height",`${Ft}px`),ae.setProperty("--radix-popper-anchor-width",`${ee}px`),ae.setProperty("--radix-popper-anchor-height",`${he}px`)}}),T&&ij({element:T,padding:u}),mj({arrowWidth:M,arrowHeight:D}),g&&rj({strategy:"referenceHidden",...oe})]}),[G,$]=rx(W),Z=En(E);gi(()=>{ue&&(Z==null||Z())},[ue,Z]);const z=(je=A.arrow)==null?void 0:je.x,H=(ke=A.arrow)==null?void 0:ke.y,te=((at=A.arrow)==null?void 0:at.centerOffset)!==0,[se,X]=_.useState();return gi(()=>{k&&X(window.getComputedStyle(k).zIndex)},[k]),p.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:ue?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(Ye=A.transformOrigin)==null?void 0:Ye.x,(bt=A.transformOrigin)==null?void 0:bt.y].join(" "),...((et=A.hide)==null?void 0:et.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(dj,{scope:n,placedSide:G,onArrowChange:N,arrowX:z,arrowY:H,shouldHideArrow:te,children:p.jsx(qe.div,{"data-side":G,"data-align":$,...w,ref:P,style:{...w.style,animation:ue?void 0:"none"}})})})});ex.displayName=Fp;var tx="PopperArrow",fj={top:"bottom",right:"left",bottom:"top",left:"right"},nx=_.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=hj(tx,r),l=fj[o.placedSide];return p.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:p.jsx(oj,{...s,ref:n,style:{...s.style,display:"block"}})})});nx.displayName=tx;function pj(e){return e!==null}var mj=e=>({name:"transformOrigin",options:e,fn(t){var C,k,b;const{placement:n,rects:r,middlewareData:s}=t,l=((C=s.arrow)==null?void 0:C.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,m]=rx(n),v={start:"0%",center:"50%",end:"100%"}[m],g=(((k=s.arrow)==null?void 0:k.x)??0)+u/2,x=(((b=s.arrow)==null?void 0:b.y)??0)+d/2;let E="",w="";return h==="bottom"?(E=l?v:`${g}px`,w=`${-d}px`):h==="top"?(E=l?v:`${g}px`,w=`${r.floating.height+d}px`):h==="right"?(E=`${-d}px`,w=l?v:`${x}px`):h==="left"&&(E=`${r.floating.width+d}px`,w=l?v:`${x}px`),{data:{x:E,y:w}}}});function rx(e){const[t,n="center"]=e.split("-");return[t,n]}var gj=Yw,$p=Xw,ix=ex,sx=nx,[Nc,w2]=wc("Tooltip",[jc]),Bp=jc(),ox="TooltipProvider",vj=700,Dv="tooltip.open",[yj,ax]=Nc(ox),lx=e=>{const{__scopeTooltip:t,delayDuration:n=vj,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[l,u]=_.useState(!0),d=_.useRef(!1),h=_.useRef(0);return _.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),p.jsx(yj,{scope:t,isOpenDelayed:l,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(h.current),u(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:_.useCallback(m=>{d.current=m},[]),disableHoverableContent:s,children:o})};lx.displayName=ox;var ux="Tooltip",[x2,Lc]=Nc(ux),gf="TooltipTrigger",_j=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Lc(gf,n),o=ax(gf,n),l=Bp(n),u=_.useRef(null),d=xt(t,u,s.onTriggerChange),h=_.useRef(!1),m=_.useRef(!1),v=_.useCallback(()=>h.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),p.jsx($p,{asChild:!0,...l,children:p.jsx(qe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:Re(e.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Re(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Re(e.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Re(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:Re(e.onBlur,s.onClose),onClick:Re(e.onClick,s.onClose)})})});_j.displayName=gf;var wj="TooltipPortal",[b2,xj]=Nc(wj,{forceMount:void 0}),go="TooltipContent",cx=_.forwardRef((e,t)=>{const n=xj(go,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,l=Lc(go,e.__scopeTooltip);return p.jsx(Si,{present:r||l.open,children:l.disableHoverableContent?p.jsx(dx,{side:s,...o,ref:t}):p.jsx(bj,{side:s,...o,ref:t})})}),bj=_.forwardRef((e,t)=>{const n=Lc(go,e.__scopeTooltip),r=ax(go,e.__scopeTooltip),s=_.useRef(null),o=xt(t,s),[l,u]=_.useState(null),{trigger:d,onClose:h}=n,m=s.current,{onPointerInTransitChange:v}=r,g=_.useCallback(()=>{u(null),v(!1)},[v]),x=_.useCallback((E,w)=>{const C=E.currentTarget,k={x:E.clientX,y:E.clientY},b=Ej(k,C.getBoundingClientRect()),P=Cj(k,b),T=Tj(w.getBoundingClientRect()),N=Nj([...P,...T]);u(N),v(!0)},[v]);return _.useEffect(()=>()=>g(),[g]),_.useEffect(()=>{if(d&&m){const E=C=>x(C,m),w=C=>x(C,d);return d.addEventListener("pointerleave",E),m.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",E),m.removeEventListener("pointerleave",w)}}},[d,m,x,g]),_.useEffect(()=>{if(l){const E=w=>{const C=w.target,k={x:w.clientX,y:w.clientY},b=(d==null?void 0:d.contains(C))||(m==null?void 0:m.contains(C)),P=!jj(k,l);b?g():P&&(g(),h())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[d,m,l,h,g]),p.jsx(dx,{...e,ref:o})}),[kj,Sj]=Nc(ux,{isInside:!1}),dx=_.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=e,d=Lc(go,n),h=Bp(n),{onClose:m}=d;return _.useEffect(()=>(document.addEventListener(Dv,m),()=>document.removeEventListener(Dv,m)),[m]),_.useEffect(()=>{if(d.trigger){const v=g=>{const x=g.target;x!=null&&x.contains(d.trigger)&&m()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[d.trigger,m]),p.jsx(el,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:m,children:p.jsxs(ix,{"data-state":d.stateAttribute,...h,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(tw,{children:r}),p.jsx(kj,{scope:n,isInside:!0,children:p.jsx(mE,{id:d.contentId,role:"tooltip",children:s||r})})]})})});cx.displayName=go;var hx="TooltipArrow",Pj=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Bp(n);return Sj(hx,n).isInside?null:p.jsx(sx,{...s,...r,ref:t})});Pj.displayName=hx;function Ej(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Cj(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Tj(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function jj(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const u=t[o].x,d=t[o].y,h=t[l].x,m=t[l].y;d>r!=m>r&&n<(h-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function Nj(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Lj(t)}function Lj(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Aj=lx,fx=cx;const Oj=Aj,Rj=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(fx,{ref:r,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Rj.displayName=fx.displayName;var Ac=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oc=typeof window>"u"||"Deno"in globalThis;function On(){}function Mj(e,t){return typeof e=="function"?e(t):e}function Ij(e){return typeof e=="number"&&e>=0&&e!==1/0}function Dj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zv(e,t){return typeof e=="function"?e(t):e}function zj(e,t){return typeof e=="function"?e(t):e}function Fv(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==Up(l,t.options))return!1}else if(!Ba(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||o&&!o(t))}function $v(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if($a(t.options.mutationKey)!==$a(o))return!1}else if(!Ba(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Up(e,t){return((t==null?void 0:t.queryKeyHashFn)||$a)(e)}function $a(e){return JSON.stringify(e,(t,n)=>vf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ba(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Ba(e[n],t[n])):!1}function px(e,t){if(e===t)return e;const n=Bv(e)&&Bv(t);if(n||vf(e)&&vf(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),l=o.length,u=n?[]:{};let d=0;for(let h=0;h<l;h++){const m=n?h:o[h];(!n&&r.includes(m)||n)&&e[m]===void 0&&t[m]===void 0?(u[m]=void 0,d++):(u[m]=px(e[m],t[m]),u[m]===e[m]&&e[m]!==void 0&&d++)}return s===l&&d===s?e:u}return t}function Bv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vf(e){if(!Uv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Uv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Uv(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fj(e){return new Promise(t=>{setTimeout(t,e)})}function $j(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?px(e,t):t}function Bj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Uj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Wp=Symbol();function mx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Zi,Jr,Js,Ly,Wj=(Ly=class extends Ac{constructor(){super();Ae(this,Zi);Ae(this,Jr);Ae(this,Js);ye(this,Js,t=>{if(!Oc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Jr)||this.setEventListener(B(this,Js))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Jr))==null||t.call(this),ye(this,Jr,void 0))}setEventListener(t){var n;ye(this,Js,t),(n=B(this,Jr))==null||n.call(this),ye(this,Jr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,Zi)!==t&&(ye(this,Zi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,Zi)=="boolean"?B(this,Zi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Zi=new WeakMap,Jr=new WeakMap,Js=new WeakMap,Ly),gx=new Wj,Xs,Xr,eo,Ay,Hj=(Ay=class extends Ac{constructor(){super();Ae(this,Xs,!0);Ae(this,Xr);Ae(this,eo);ye(this,eo,t=>{if(!Oc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Xr)||this.setEventListener(B(this,eo))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Xr))==null||t.call(this),ye(this,Xr,void 0))}setEventListener(t){var n;ye(this,eo,t),(n=B(this,Xr))==null||n.call(this),ye(this,Xr,t(this.setOnline.bind(this)))}setOnline(t){B(this,Xs)!==t&&(ye(this,Xs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,Xs)}},Xs=new WeakMap,Xr=new WeakMap,eo=new WeakMap,Ay),Xu=new Hj;function Zj(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function Vj(e){return Math.min(1e3*2**e,3e4)}function vx(e){return(e??"online")==="online"?Xu.isOnline():!0}var yx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Qd(e){return e instanceof yx}function _x(e){let t=!1,n=0,r=!1,s;const o=Zj(),l=w=>{var C;r||(g(new yx(w)),(C=e.abort)==null||C.call(e))},u=()=>{t=!0},d=()=>{t=!1},h=()=>gx.isFocused()&&(e.networkMode==="always"||Xu.isOnline())&&e.canRun(),m=()=>vx(e.networkMode)&&e.canRun(),v=w=>{var C;r||(r=!0,(C=e.onSuccess)==null||C.call(e,w),s==null||s(),o.resolve(w))},g=w=>{var C;r||(r=!0,(C=e.onError)==null||C.call(e,w),s==null||s(),o.reject(w))},x=()=>new Promise(w=>{var C;s=k=>{(r||h())&&w(k)},(C=e.onPause)==null||C.call(e)}).then(()=>{var w;s=void 0,r||(w=e.onContinue)==null||w.call(e)}),E=()=>{if(r)return;let w;const C=n===0?e.initialPromise:void 0;try{w=C??e.fn()}catch(k){w=Promise.reject(k)}Promise.resolve(w).then(v).catch(k=>{var R;if(r)return;const b=e.retry??(Oc?0:3),P=e.retryDelay??Vj,T=typeof P=="function"?P(n,k):P,N=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,k);if(t||!N){g(k);return}n++,(R=e.onFail)==null||R.call(e,n,k),Fj(T).then(()=>h()?void 0:x()).then(()=>{t?g(k):E()})})};return{promise:o,cancel:l,continue:()=>(s==null||s(),o),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?E():x().then(E),o)}}function qj(){let e=[],t=0,n=u=>{u()},r=u=>{u()},s=u=>setTimeout(u,0);const o=u=>{t?e.push(u):s(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var Mt=qj(),Vi,Oy,wx=(Oy=class{constructor(){Ae(this,Vi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ij(this.gcTime)&&ye(this,Vi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Oc?1/0:5*60*1e3))}clearGcTimeout(){B(this,Vi)&&(clearTimeout(B(this,Vi)),ye(this,Vi,void 0))}},Vi=new WeakMap,Oy),to,no,vn,Et,Za,qi,Rn,_r,Ry,Gj=(Ry=class extends wx{constructor(t){super();Ae(this,Rn);Ae(this,to);Ae(this,no);Ae(this,vn);Ae(this,Et);Ae(this,Za);Ae(this,qi);ye(this,qi,!1),ye(this,Za,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,vn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,to,Qj(this.options)),this.state=t.state??B(this,to),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Et))==null?void 0:t.promise}setOptions(t){this.options={...B(this,Za),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,vn).remove(this)}setData(t,n){const r=$j(this.state.data,t,this.options);return kt(this,Rn,_r).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){kt(this,Rn,_r).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=B(this,Et))==null?void 0:r.promise;return(s=B(this,Et))==null||s.cancel(t),n?n.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,to))}isActive(){return this.observers.some(t=>zj(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Dj(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Et))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Et))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,vn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,Et)&&(B(this,qi)?B(this,Et).cancel({revert:!0}):B(this,Et).cancelRetry()),this.scheduleGc()),B(this,vn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||kt(this,Rn,_r).call(this,{type:"invalidate"})}fetch(t,n){var d,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Et))return B(this,Et).continueRetry(),B(this,Et).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(g=>g.options.queryFn);v&&this.setOptions(v.options)}const r=new AbortController,s=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(ye(this,qi,!0),r.signal)})},o=()=>{const v=mx(this.options,n),g={queryKey:this.queryKey,meta:this.meta};return s(g),ye(this,qi,!1),this.options.persister?this.options.persister(v,g,this):v(g)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(l),(d=this.options.behavior)==null||d.onFetch(l,this),ye(this,no,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&kt(this,Rn,_r).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=v=>{var g,x,E,w;Qd(v)&&v.silent||kt(this,Rn,_r).call(this,{type:"error",error:v}),Qd(v)||((x=(g=B(this,vn).config).onError)==null||x.call(g,v,this),(w=(E=B(this,vn).config).onSettled)==null||w.call(E,this.state.data,v,this)),this.scheduleGc()};return ye(this,Et,_x({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:v=>{var g,x,E,w;if(v===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(C){u(C);return}(x=(g=B(this,vn).config).onSuccess)==null||x.call(g,v,this),(w=(E=B(this,vn).config).onSettled)==null||w.call(E,v,this.state.error,this),this.scheduleGc()},onError:u,onFail:(v,g)=>{kt(this,Rn,_r).call(this,{type:"failed",failureCount:v,error:g})},onPause:()=>{kt(this,Rn,_r).call(this,{type:"pause"})},onContinue:()=>{kt(this,Rn,_r).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),B(this,Et).start()}},to=new WeakMap,no=new WeakMap,vn=new WeakMap,Et=new WeakMap,Za=new WeakMap,qi=new WeakMap,Rn=new WeakSet,_r=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Kj(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Qd(s)&&s.revert&&B(this,no)?{...B(this,no),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Mt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,vn).notify({query:this,type:"updated",action:t})})},Ry);function Kj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Qj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jn,My,Yj=(My=class extends Ac{constructor(t={}){super();Ae(this,Jn);this.config=t,ye(this,Jn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Up(s,n);let l=this.get(o);return l||(l=new Gj({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){B(this,Jn).has(t.queryHash)||(B(this,Jn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,Jn).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,Jn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Jn).get(t)}getAll(){return[...B(this,Jn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Fv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Fv(t,r)):n}notify(t){Mt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Jn=new WeakMap,My),Xn,Ot,Gi,er,Ur,Iy,Jj=(Iy=class extends wx{constructor(t){super();Ae(this,er);Ae(this,Xn);Ae(this,Ot);Ae(this,Gi);this.mutationId=t.mutationId,ye(this,Ot,t.mutationCache),ye(this,Xn,[]),this.state=t.state||Xj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Xn).includes(t)||(B(this,Xn).push(t),this.clearGcTimeout(),B(this,Ot).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,Xn,B(this,Xn).filter(n=>n!==t)),this.scheduleGc(),B(this,Ot).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Xn).length||(this.state.status==="pending"?this.scheduleGc():B(this,Ot).remove(this))}continue(){var t;return((t=B(this,Gi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,u,d,h,m,v,g,x,E,w,C,k,b,P,T,N,R,M;ye(this,Gi,_x({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,F)=>{kt(this,er,Ur).call(this,{type:"failed",failureCount:D,error:F})},onPause:()=>{kt(this,er,Ur).call(this,{type:"pause"})},onContinue:()=>{kt(this,er,Ur).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Ot).canRun(this)}));const n=this.state.status==="pending",r=!B(this,Gi).canStart();try{if(!n){kt(this,er,Ur).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=B(this,Ot).config).onMutate)==null?void 0:o.call(s,t,this));const F=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t));F!==this.state.context&&kt(this,er,Ur).call(this,{type:"pending",context:F,variables:t,isPaused:r})}const D=await B(this,Gi).start();return await((h=(d=B(this,Ot).config).onSuccess)==null?void 0:h.call(d,D,t,this.state.context,this)),await((v=(m=this.options).onSuccess)==null?void 0:v.call(m,D,t,this.state.context)),await((x=(g=B(this,Ot).config).onSettled)==null?void 0:x.call(g,D,null,this.state.variables,this.state.context,this)),await((w=(E=this.options).onSettled)==null?void 0:w.call(E,D,null,t,this.state.context)),kt(this,er,Ur).call(this,{type:"success",data:D}),D}catch(D){try{throw await((k=(C=B(this,Ot).config).onError)==null?void 0:k.call(C,D,t,this.state.context,this)),await((P=(b=this.options).onError)==null?void 0:P.call(b,D,t,this.state.context)),await((N=(T=B(this,Ot).config).onSettled)==null?void 0:N.call(T,void 0,D,this.state.variables,this.state.context,this)),await((M=(R=this.options).onSettled)==null?void 0:M.call(R,void 0,D,t,this.state.context)),D}finally{kt(this,er,Ur).call(this,{type:"error",error:D})}}finally{B(this,Ot).runNext(this)}}},Xn=new WeakMap,Ot=new WeakMap,Gi=new WeakMap,er=new WeakSet,Ur=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Mt.batch(()=>{B(this,Xn).forEach(r=>{r.onMutationUpdate(t)}),B(this,Ot).notify({mutation:this,type:"updated",action:t})})},Iy);function Xj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tn,Va,Dy,eN=(Dy=class extends Ac{constructor(t={}){super();Ae(this,tn);Ae(this,Va);this.config=t,ye(this,tn,new Map),ye(this,Va,Date.now())}build(t,n,r){const s=new Jj({mutationCache:this,mutationId:++El(this,Va)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Gl(t),r=B(this,tn).get(n)??[];r.push(t),B(this,tn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Gl(t);if(B(this,tn).has(n)){const s=(r=B(this,tn).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?B(this,tn).delete(n):B(this,tn).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=B(this,tn).get(Gl(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=B(this,tn).get(Gl(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...B(this,tn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>$v(n,r))}findAll(t={}){return this.getAll().filter(n=>$v(t,n))}notify(t){Mt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Mt.batch(()=>Promise.all(t.map(n=>n.continue().catch(On))))}},tn=new WeakMap,Va=new WeakMap,Dy);function Gl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Wv(e){return{onFetch:(t,n)=>{var m,v,g,x,E;const r=t.options,s=(g=(v=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:v.fetchMore)==null?void 0:g.direction,o=((x=t.state.data)==null?void 0:x.pages)||[],l=((E=t.state.data)==null?void 0:E.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const C=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},k=mx(t.options,t.fetchOptions),b=async(P,T,N)=>{if(w)return Promise.reject();if(T==null&&P.pages.length)return Promise.resolve(P);const R={queryKey:t.queryKey,pageParam:T,direction:N?"backward":"forward",meta:t.options.meta};C(R);const M=await k(R),{maxPages:D}=t.options,F=N?Uj:Bj;return{pages:F(P.pages,M,D),pageParams:F(P.pageParams,T,D)}};if(s&&o.length){const P=s==="backward",T=P?tN:Hv,N={pages:o,pageParams:l},R=T(r,N);u=await b(N,R,P)}else{const P=e??o.length;do{const T=d===0?l[0]??r.initialPageParam:Hv(r,u);if(d>0&&T==null)break;u=await b(u,T),d++}while(d<P)}return u};t.options.persister?t.fetchFn=()=>{var w,C;return(C=(w=t.options).persister)==null?void 0:C.call(w,h,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function Hv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function tN(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ge,ei,ti,ro,io,ni,so,oo,zy,nN=(zy=class{constructor(e={}){Ae(this,Ge);Ae(this,ei);Ae(this,ti);Ae(this,ro);Ae(this,io);Ae(this,ni);Ae(this,so);Ae(this,oo);ye(this,Ge,e.queryCache||new Yj),ye(this,ei,e.mutationCache||new eN),ye(this,ti,e.defaultOptions||{}),ye(this,ro,new Map),ye(this,io,new Map),ye(this,ni,0)}mount(){El(this,ni)._++,B(this,ni)===1&&(ye(this,so,gx.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Ge).onFocus())})),ye(this,oo,Xu.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Ge).onOnline())})))}unmount(){var e,t;El(this,ni)._--,B(this,ni)===0&&((e=B(this,so))==null||e.call(this),ye(this,so,void 0),(t=B(this,oo))==null||t.call(this),ye(this,oo,void 0))}isFetching(e){return B(this,Ge).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,ei).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,Ge).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=B(this,Ge).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(zv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return B(this,Ge).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=B(this,Ge).get(r.queryHash),o=s==null?void 0:s.state.data,l=Mj(t,o);if(l!==void 0)return B(this,Ge).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Mt.batch(()=>B(this,Ge).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,Ge).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,Ge);Mt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,Ge),r={type:"active",...e};return Mt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Mt.batch(()=>B(this,Ge).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(On).catch(On)}invalidateQueries(e={},t={}){return Mt.batch(()=>{if(B(this,Ge).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Mt.batch(()=>B(this,Ge).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(On)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(On)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,Ge).build(this,t);return n.isStaleByTime(zv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(On).catch(On)}fetchInfiniteQuery(e){return e.behavior=Wv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(On).catch(On)}ensureInfiniteQueryData(e){return e.behavior=Wv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xu.isOnline()?B(this,ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Ge)}getMutationCache(){return B(this,ei)}getDefaultOptions(){return B(this,ti)}setDefaultOptions(e){ye(this,ti,e)}setQueryDefaults(e,t){B(this,ro).set($a(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,ro).values()];let n={};return t.forEach(r=>{Ba(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){B(this,io).set($a(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,io).values()];let n={};return t.forEach(r=>{Ba(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,ti).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Up(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Wp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,ti).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,Ge).clear(),B(this,ei).clear()}},Ge=new WeakMap,ei=new WeakMap,ti=new WeakMap,ro=new WeakMap,io=new WeakMap,ni=new WeakMap,so=new WeakMap,oo=new WeakMap,zy),rN=_.createContext(void 0),iN=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(rN.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(this,arguments)}var si;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(si||(si={}));const Zv="popstate";function sN(e){e===void 0&&(e={});function t(s,o){let{pathname:l="/",search:u="",hash:d=""}=us(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),yf("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,h=d.indexOf("#");u=h===-1?d:d.slice(0,h)}return u+"#"+(typeof o=="string"?o:xx(o))}function r(s,o){Hp(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return aN(t,n,r,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oN(){return Math.random().toString(36).substr(2,8)}function Vv(e,t){return{usr:e.state,key:e.key,idx:t}}function yf(e,t,n,r){return n===void 0&&(n=null),Ua({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?us(t):t,{state:n,key:t&&t.key||r||oN()})}function xx(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function us(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function aN(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u=si.Pop,d=null,h=m();h==null&&(h=0,l.replaceState(Ua({},l.state,{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function v(){u=si.Pop;let C=m(),k=C==null?null:C-h;h=C,d&&d({action:u,location:w.location,delta:k})}function g(C,k){u=si.Push;let b=yf(w.location,C,k);n&&n(b,C),h=m()+1;let P=Vv(b,h),T=w.createHref(b);try{l.pushState(P,"",T)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(T)}o&&d&&d({action:u,location:w.location,delta:1})}function x(C,k){u=si.Replace;let b=yf(w.location,C,k);n&&n(b,C),h=m();let P=Vv(b,h),T=w.createHref(b);l.replaceState(P,"",T),o&&d&&d({action:u,location:w.location,delta:0})}function E(C){let k=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof C=="string"?C:xx(C);return b=b.replace(/ $/,"%20"),ot(k,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,k)}let w={get action(){return u},get location(){return e(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Zv,v),d=C,()=>{s.removeEventListener(Zv,v),d=null}},createHref(C){return t(s,C)},createURL:E,encodeLocation(C){let k=E(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:x,go(C){return l.go(C)}};return w}var qv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qv||(qv={}));function lN(e,t,n){return n===void 0&&(n="/"),uN(e,t,n,!1)}function uN(e,t,n,r){let s=typeof t=="string"?us(t):t,o=Sx(s.pathname||"/",n);if(o==null)return null;let l=bx(e);cN(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=xN(o);u=_N(l[d],h,r)}return u}function bx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(ot(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=Yi([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(ot(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),bx(o.children,t,m,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:vN(h,o.index),routesMeta:m})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of kx(o.path))s(o,l,d)}),t}function kx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=kx(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function cN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dN=/^:[\w-]+$/,hN=3,fN=2,pN=1,mN=10,gN=-2,Gv=e=>e==="*";function vN(e,t){let n=e.split("/"),r=n.length;return n.some(Gv)&&(r+=gN),t&&(r+=fN),n.filter(s=>!Gv(s)).reduce((s,o)=>s+(dN.test(o)?hN:o===""?pN:mN),r)}function yN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function _N(e,t,n){let{routesMeta:r}=e,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=o==="/"?t:t.slice(o.length)||"/",v=Kv({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),g=d.route;if(!v&&h&&n&&!r[r.length-1].route.index&&(v=Kv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:Yi([o,v.pathname]),pathnameBase:PN(Yi([o,v.pathnameBase])),route:g}),v.pathnameBase!=="/"&&(o=Yi([o,v.pathnameBase]))}return l}function Kv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=wN(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,m,v)=>{let{paramName:g,isOptional:x}=m;if(g==="*"){let w=u[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[v];return x&&!E?h[g]=void 0:h[g]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function wN(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Hp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function xN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function bN(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?us(e):e;return{pathname:n?n.startsWith("/")?n:kN(n,t):t,search:EN(r),hash:CN(s)}}function kN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Px(e,t){let n=SN(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ex(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=us(e):(s=Ua({},e),ot(!s.pathname||!s.pathname.includes("?"),Yd("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),Yd("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),Yd("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let v=t.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),v-=1;s.pathname=g.join("/")}u=v>=0?t[v]:"/"}let d=bN(s,u),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}const Yi=e=>e.join("/").replace(/\/\/+/g,"/"),PN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cx=["post","put","patch","delete"];new Set(Cx);const jN=["get",...Cx];new Set(jN);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wa.apply(this,arguments)}const Zp=_.createContext(null),NN=_.createContext(null),nl=_.createContext(null),Rc=_.createContext(null),Pi=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Tx=_.createContext(null);function rl(){return _.useContext(Rc)!=null}function Rr(){return rl()||ot(!1),_.useContext(Rc).location}function jx(e){_.useContext(nl).static||_.useLayoutEffect(e)}function cr(){let{isDataRoute:e}=_.useContext(Pi);return e?HN():LN()}function LN(){rl()||ot(!1);let e=_.useContext(Zp),{basename:t,future:n,navigator:r}=_.useContext(nl),{matches:s}=_.useContext(Pi),{pathname:o}=Rr(),l=JSON.stringify(Px(s,n.v7_relativeSplatPath)),u=_.useRef(!1);return jx(()=>{u.current=!0}),_.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let v=Ex(h,JSON.parse(l),o,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Yi([t,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[t,r,l,o,e])}function AN(){let{matches:e}=_.useContext(Pi),t=e[e.length-1];return t?t.params:{}}function ON(e,t){return RN(e,t)}function RN(e,t,n,r){rl()||ot(!1);let{navigator:s}=_.useContext(nl),{matches:o}=_.useContext(Pi),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=Rr(),m;if(t){var v;let C=typeof t=="string"?us(t):t;d==="/"||(v=C.pathname)!=null&&v.startsWith(d)||ot(!1),m=C}else m=h;let g=m.pathname||"/",x=g;if(d!=="/"){let C=d.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=lN(e,{pathname:x}),w=FN(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Yi([d,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Yi([d,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return t&&w?_.createElement(Rc.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:si.Pop}},w):w}function MN(){let e=WN(),t=TN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,null)}const IN=_.createElement(MN,null);class DN extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(Pi.Provider,{value:this.props.routeContext},_.createElement(Tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zN(e){let{routeContext:t,match:n,children:r}=e,s=_.useContext(Zp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Pi.Provider,{value:t},r)}function FN(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let m=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);m>=0||ot(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=m),v.route.id){let{loaderData:g,errors:x}=n,E=v.route.loader&&g[v.route.id]===void 0&&(!x||x[v.route.id]===void 0);if(v.route.lazy||E){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,v,g)=>{let x,E=!1,w=null,C=null;n&&(x=u&&v.route.id?u[v.route.id]:void 0,w=v.route.errorElement||IN,d&&(h<0&&g===0?(E=!0,C=null):h===g&&(E=!0,C=v.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,g+1)),b=()=>{let P;return x?P=w:E?P=C:v.route.Component?P=_.createElement(v.route.Component,null):v.route.element?P=v.route.element:P=m,_.createElement(zN,{match:v,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:P})};return n&&(v.route.ErrorBoundary||v.route.errorElement||g===0)?_.createElement(DN,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:b(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):b()},null)}var Nx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Nx||{}),ec=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ec||{});function $N(e){let t=_.useContext(Zp);return t||ot(!1),t}function BN(e){let t=_.useContext(NN);return t||ot(!1),t}function UN(e){let t=_.useContext(Pi);return t||ot(!1),t}function Lx(e){let t=UN(),n=t.matches[t.matches.length-1];return n.route.id||ot(!1),n.route.id}function WN(){var e;let t=_.useContext(Tx),n=BN(ec.UseRouteError),r=Lx(ec.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function HN(){let{router:e}=$N(Nx.UseNavigateStable),t=Lx(ec.UseNavigateStable),n=_.useRef(!1);return jx(()=>{n.current=!0}),_.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Wa({fromRouteId:t},o)))},[e,t])}function Vp(e){let{to:t,replace:n,state:r,relative:s}=e;rl()||ot(!1);let{future:o,static:l}=_.useContext(nl),{matches:u}=_.useContext(Pi),{pathname:d}=Rr(),h=cr(),m=Ex(t,Px(u,o.v7_relativeSplatPath),d,s==="path"),v=JSON.stringify(m);return _.useEffect(()=>h(JSON.parse(v),{replace:n,state:r,relative:s}),[h,v,s,n,r]),null}function Ln(e){ot(!1)}function ZN(e){let{basename:t="/",children:n=null,location:r,navigationType:s=si.Pop,navigator:o,static:l=!1,future:u}=e;rl()&&ot(!1);let d=t.replace(/^\/*/,"/"),h=_.useMemo(()=>({basename:d,navigator:o,static:l,future:Wa({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);typeof r=="string"&&(r=us(r));let{pathname:m="/",search:v="",hash:g="",state:x=null,key:E="default"}=r,w=_.useMemo(()=>{let C=Sx(m,d);return C==null?null:{location:{pathname:C,search:v,hash:g,state:x,key:E},navigationType:s}},[d,m,v,g,x,E,s]);return w==null?null:_.createElement(nl.Provider,{value:h},_.createElement(Rc.Provider,{children:n,value:w}))}function VN(e){let{children:t,location:n}=e;return ON(_f(t),n)}new Promise(()=>{});function _f(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,s)=>{if(!_.isValidElement(r))return;let o=[...t,s];if(r.type===_.Fragment){n.push.apply(n,_f(r.props.children,o));return}r.type!==Ln&&ot(!1),!r.props.index||!r.props.children||ot(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=_f(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function qN(e,t){let n=wf(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const GN="6";try{window.__reactRouterVersion=GN}catch{}const KN="startTransition",Qv=Ky[KN];function QN(e){let{basename:t,children:n,future:r,window:s}=e,o=_.useRef();o.current==null&&(o.current=sN({window:s,v5Compat:!0}));let l=o.current,[u,d]=_.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},m=_.useCallback(v=>{h&&Qv?Qv(()=>d(v)):d(v)},[d,h]);return _.useLayoutEffect(()=>l.listen(m),[l,m]),_.createElement(ZN,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}var Yv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yv||(Yv={}));var Jv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jv||(Jv={}));function Ax(e){let t=_.useRef(wf(e)),n=_.useRef(!1),r=Rr(),s=_.useMemo(()=>qN(r.search,n.current?null:t.current),[r.search]),o=cr(),l=_.useCallback((u,d)=>{const h=wf(typeof u=="function"?u(s):u);n.current=!0,o("?"+h,d)},[o,s]);return[s,l]}const YN="modulepreload",JN=function(e){return"/"+e},Xv={},vo=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(d=>{if(d=JN(d),d in Xv)return;Xv[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":YN,h||(v.as="script"),v.crossOrigin="",v.href=d,u&&v.setAttribute("nonce",u),document.head.appendChild(v),h)return new Promise((g,x)=>{v.addEventListener("load",g),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},XN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vo(async()=>{const{default:r}=await Promise.resolve().then(()=>jo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class qp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class eL extends qp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tL extends qp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nL extends qp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xf||(xf={}));var rL=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(v){l(v)}}function d(m){try{h(r.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};class iL{constructor(t,{headers:n={},customFetch:r,region:s=xf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=XN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return rL(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:l}=n;let u={},{region:d}=n;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const m=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h}).catch(E=>{throw new eL(E)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new tL(m);if(!m.ok)throw new nL(m);let g=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield m.json():g==="application/octet-stream"?x=yield m.blob():g==="text/event-stream"?x=m:g==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null}}catch(s){return{data:null,error:s}}})}}var Zt={},Gp={},Mc={},il={},Ic={},Dc={},sL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yo=sL();const oL=yo.fetch,Ox=yo.fetch.bind(yo),Rx=yo.Headers,aL=yo.Request,lL=yo.Response,jo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rx,Request:aL,Response:lL,default:Ox,fetch:oL},Symbol.toStringTag,{value:"Module"})),uL=fk(jo);var zc={};Object.defineProperty(zc,"__esModule",{value:!0});let cL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};zc.default=cL;var Mx=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dc,"__esModule",{value:!0});const dL=Mx(uL),hL=Mx(zc);let fL=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=dL.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,u,d;let h=null,m=null,v=null,g=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const k=await o.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=k:m=JSON.parse(k))}const w=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),C=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");w&&C&&C.length>1&&(v=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,g=406,x="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const w=await o.text();try{h=JSON.parse(w),Array.isArray(h)&&o.status===404&&(m=[],h=null,g=200,x="OK")}catch{o.status===404&&w===""?(g=204,x="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,g=200,x="OK"),h&&this.shouldThrowOnError)throw new hL.default(h)}return{error:h,data:m,count:v,status:g,statusText:x}});return this.shouldThrowOnError||(s=s.catch(o=>{var l,u,d;return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(u=o==null?void 0:o.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(d=o==null?void 0:o.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Dc.default=fL;var pL=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ic,"__esModule",{value:!0});const mL=pL(Dc);let gL=class extends mL.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var u;const d=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ic.default=gL;var vL=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(il,"__esModule",{value:!0});const yL=vL(Ic);let _L=class extends yL.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};il.default=_L;var wL=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mc,"__esModule",{value:!0});const Xo=wL(il);let xL=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Xo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const l="POST",u=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(t)){const d=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new Xo.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Xo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Xo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Mc.default=xL;var Fc={},$c={};Object.defineProperty($c,"__esModule",{value:!0});$c.version=void 0;$c.version="0.0.0-automated";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.DEFAULT_HEADERS=void 0;const bL=$c;Fc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bL.version}`};var Ix=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gp,"__esModule",{value:!0});const kL=Ix(Mc),SL=Ix(il),PL=Fc;let EL=class Dx{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},PL.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new kL.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let l;const u=new URL(`${this.url}/rpc/${t}`);let d;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{u.searchParams.append(m,v)})):(l="POST",d=n);const h=Object.assign({},this.headers);return o&&(h.Prefer=`count=${o}`),new SL.default({method:l,url:u,headers:h,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};Gp.default=EL;var No=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.PostgrestError=Zt.PostgrestBuilder=Zt.PostgrestTransformBuilder=Zt.PostgrestFilterBuilder=Zt.PostgrestQueryBuilder=Zt.PostgrestClient=void 0;const zx=No(Gp);Zt.PostgrestClient=zx.default;const Fx=No(Mc);Zt.PostgrestQueryBuilder=Fx.default;const $x=No(il);Zt.PostgrestFilterBuilder=$x.default;const Bx=No(Ic);Zt.PostgrestTransformBuilder=Bx.default;const Ux=No(Dc);Zt.PostgrestBuilder=Ux.default;const Wx=No(zc);Zt.PostgrestError=Wx.default;var CL=Zt.default={PostgrestClient:zx.default,PostgrestQueryBuilder:Fx.default,PostgrestFilterBuilder:$x.default,PostgrestTransformBuilder:Bx.default,PostgrestBuilder:Ux.default,PostgrestError:Wx.default};const{PostgrestClient:TL,PostgrestQueryBuilder:T2,PostgrestFilterBuilder:j2,PostgrestTransformBuilder:N2,PostgrestBuilder:L2,PostgrestError:A2}=CL,jL="2.11.2",NL={"X-Client-Info":`realtime-js/${jL}`},LL="1.0.0",Hx=1e4,AL=1e3;var Qs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qs||(Qs={}));var en;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(en||(en={}));var In;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(In||(In={}));var bf;(function(e){e.websocket="websocket"})(bf||(bf={}));var $i;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($i||($i={}));class OL{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:d,payload:h}}}class Zx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(De||(De={}));const ey=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,l)=>(o[l]=RL(l,e,t,s),o),{})},RL=(e,t,n,r)=>{const s=t.find(u=>u.name===e),o=s==null?void 0:s.type,l=n[e];return o&&!r.includes(o)?Vx(o,l):kf(l)},Vx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return zL(t,n)}switch(e){case De.bool:return ML(t);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return IL(t);case De.json:case De.jsonb:return DL(t);case De.timestamp:return FL(t);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return kf(t);default:return kf(t)}},kf=e=>e,ML=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},IL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>Vx(t,u))}return e},FL=e=>typeof e=="string"?e.replace(" ","T"):e,qx=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Jd{constructor(t,n,r={},s=Hx){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ty;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ty||(ty={}));class va{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=va.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=va.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=va.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(o,(h,m)=>{l[h]||(d[h]=m)}),this.map(l,(h,m)=>{const v=o[h];if(v){const g=m.map(C=>C.presence_ref),x=v.map(C=>C.presence_ref),E=m.filter(C=>x.indexOf(C.presence_ref)<0),w=v.filter(C=>g.indexOf(C.presence_ref)<0);E.length>0&&(u[h]=E),w.length>0&&(d[h]=w)}else u[h]=m}),this.syncDiff(o,{joins:u,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(u,d)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(d),m.length>0){const v=t[u].map(x=>x.presence_ref),g=m.filter(x=>v.indexOf(x.presence_ref)<0);t[u].unshift(...g)}r(u,m,d)}),this.map(l,(u,d)=>{let h=t[u];if(!h)return;const m=d.map(v=>v.presence_ref);h=h.filter(v=>m.indexOf(v.presence_ref)<0),t[u]=h,s(u,h,d),h.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ny;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ny||(ny={}));var ry;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ry||(ry={}));var xr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xr||(xr={}));class Kp{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jd(this,In.join,this.params,this.timeout),this.rejoinTimer=new Zx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new va(this),this.broadcastEndpointURL=qx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:u}}=this.params;this._onError(m=>t==null?void 0:t(xr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(xr.CLOSED));const d={},h={broadcast:o,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(xr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,E=[];for(let w=0;w<x;w++){const C=g[w],{filter:{event:k,schema:b,table:P,filter:T}}=C,N=m&&m[w];if(N&&N.event===k&&N.schema===b&&N.table===P&&N.filter===T)E.push(Object.assign(Object.assign({},C),{id:N.id}));else{this.unsubscribe(),t==null||t(xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(xr.SUBSCRIBED);return}}).receive("error",m=>{t==null||t(xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=en.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Jd(this,In.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jd(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:h,join:m}=In;if(r&&[u,d,h,m].indexOf(l)>=0&&r!==this._joinRef())return;let g=this._onMessage(l,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var E,w,C;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(w=x.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(x=>x.callback(g,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var E,w,C,k,b,P;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const T=x.id,N=(E=x.filter)===null||E===void 0?void 0:E.event;return T&&((w=n.ids)===null||w===void 0?void 0:w.includes(T))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const T=(b=(k=x==null?void 0:x.filter)===null||k===void 0?void 0:k.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof g=="object"&&"ids"in g){const E=g.data,{schema:w,table:C,commit_timestamp:k,type:b,errors:P}=E;g=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:k,eventType:b,new:{},old:{},errors:P}),this._getPayloadRecords(E))}x.callback(g,r)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Kp.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(In.close,{},t)}_onError(t){this._on(In.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ey(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ey(t.columns,t.old_record)),n}}const $L=()=>{},BL=typeof WebSocket<"u",UL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WL{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=NL,this.params={},this.timeout=Hx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$L,this.conn=null,this.sendBuffer=[],this.serializer=new OL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>vo(async()=>{const{default:d}=await Promise.resolve().then(()=>jo);return{default:d}},void 0).then(({default:d})=>d(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${t}/${bf.websocket}`,this.httpEndpoint=qx(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,l)=>l(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Zx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(BL){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new HL(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),vo(async()=>{const{default:t}=await import("./browser-CzgMiDZA.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:LL}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qs.connecting:return $i.Connecting;case Qs.open:return $i.Open;case Qs.closing:return $i.Closing;default:return $i.Closed}}isConnected(){return this.connectionState()===$i.Open}channel(t,n={config:{}}){const r=new Kp(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:o}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(In.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(AL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:l}=n;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,l)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(In.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([UL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class HL{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Qs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Qp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ZL extends Qp{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sf extends Qp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var VL=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(v){l(v)}}function d(m){try{h(r.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};const Gx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vo(async()=>{const{default:r}=await Promise.resolve().then(()=>jo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},qL=()=>VL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vo(()=>Promise.resolve().then(()=>jo),void 0)).Response:Response}),Pf=e=>{if(Array.isArray(e))return e.map(n=>Pf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Pf(r)}),t};var cs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(v){l(v)}}function d(m){try{h(r.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};const Xd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GL=(e,t,n)=>cs(void 0,void 0,void 0,function*(){const r=yield qL();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new ZL(Xd(s),e.status||500))}).catch(s=>{t(new Sf(Xd(s),s))}):t(new Sf(Xd(e),e))}),KL=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function sl(e,t,n,r,s,o){return cs(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,KL(t,r,s,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>GL(d,u,r))})})}function tc(e,t,n,r){return cs(this,void 0,void 0,function*(){return sl(e,"GET",t,n,r)})}function Gr(e,t,n,r,s){return cs(this,void 0,void 0,function*(){return sl(e,"POST",t,r,s,n)})}function QL(e,t,n,r,s){return cs(this,void 0,void 0,function*(){return sl(e,"PUT",t,r,s,n)})}function YL(e,t,n,r){return cs(this,void 0,void 0,function*(){return sl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Kx(e,t,n,r,s){return cs(this,void 0,void 0,function*(){return sl(e,"DELETE",t,r,s,n)})}var Wt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(v){l(v)}}function d(m){try{h(r.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};const JL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XL{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Gx(s)}uploadOrUpdate(t,n,r,s){return Wt(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},iy),s);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const h=this._removeEmptyFolders(n),m=this._getFinalPath(h),v=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:o,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),g=yield v.json();return v.ok?{data:{path:h,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(o){if(ft(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Wt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let d;const h=Object.assign({upsert:iy.upsert},s),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const v=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:m}),g=yield v.json();return v.ok?{data:{path:o,fullPath:g.Key},error:null}:{data:null,error:g}}catch(d){if(ft(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Wt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Gr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new Qp("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}update(t,n,r){return Wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Wt(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Wt(this,void 0,void 0,function*(){try{return{data:{path:(yield Gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Wt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Gr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Wt(this,void 0,void 0,function*(){try{const s=yield Gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}})}download(t,n){return Wt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield tc(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(ft(u))return{data:null,error:u};throw u}})}info(t){return Wt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield tc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Pf(r),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}exists(t){return Wt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield YL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ft(r)&&r instanceof Sf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&s.push(d);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(t){return Wt(this,void 0,void 0,function*(){try{return{data:yield Kx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}list(t,n,r){return Wt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},JL),n),{prefix:t||""});return{data:yield Gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const eA="2.7.1",tA={"X-Client-Info":`storage-js/${eA}`};var ks=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(v){l(v)}}function d(m){try{h(r.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};class nA{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},tA),n),this.fetch=Gx(r)}listBuckets(){return ks(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ft(t))return{data:null,error:t};throw t}})}getBucket(t){return ks(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ks(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ks(this,void 0,void 0,function*(){try{return{data:yield QL(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ks(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ks(this,void 0,void 0,function*(){try{return{data:yield Kx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}}class rA extends nA{constructor(t,n={},r){super(t,n,r)}from(t){return new XL(this.url,this.headers,t,this.fetch)}}const iA="2.49.8";let oa="";typeof Deno<"u"?oa="deno":typeof document<"u"?oa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oa="react-native":oa="node";const sA={"X-Client-Info":`supabase-js-${oa}/${iA}`},oA={headers:sA},aA={schema:"public"},lA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uA={};var cA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(v){l(v)}}function d(m){try{h(r.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};const dA=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ox:t=fetch,(...n)=>t(...n)},hA=()=>typeof Headers>"u"?Rx:Headers,fA=(e,t,n)=>{const r=dA(n),s=hA();return(o,l)=>cA(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let h=new s(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};var pA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(v){l(v)}}function d(m){try{h(r.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};function mA(e){return e.endsWith("/")?e:e+"/"}function gA(e,t){var n,r;const{db:s,auth:o,realtime:l,global:u}=e,{db:d,auth:h,realtime:m,global:v}=t,g={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},m),l),global:Object.assign(Object.assign(Object.assign({},v),u),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>pA(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const Qx="2.69.1",js=30*1e3,Ef=3,eh=Ef*js,vA="http://localhost:9999",yA="supabase.auth.token",_A={"X-Client-Info":`gotrue-js/${Qx}`},Cf="X-Supabase-Api-Version",Yx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xA=6e5;class Yp extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bA extends Yp{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function kA(e){return ge(e)&&e.name==="AuthApiError"}class Jx extends Yp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ei extends Yp{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Wr extends Ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SA(e){return ge(e)&&e.name==="AuthSessionMissingError"}class th extends Ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kl extends Ei{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ql extends Ei{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PA(e){return ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class sy extends Ei{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tf extends Ei{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function nh(e){return ge(e)&&e.name==="AuthRetryableFetchError"}class oy extends Ei{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ya extends Ei{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ly=` 	
\r=`.split(""),EA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ly.length;t+=1)e[ly[t].charCodeAt(0)]=-2;for(let t=0;t<ay.length;t+=1)e[ay[t].charCodeAt(0)]=t;return e})();function Xx(e,t,n){const r=EA[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function uy(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{jA(l,r,n)};for(let l=0;l<e.length;l+=1)Xx(e.charCodeAt(l),s,o);return t.join("")}function CA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TA(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}CA(r,t)}}function jA(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function NA(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Xx(e.charCodeAt(s),n,r);return new Uint8Array(t)}function LA(e){const t=[];return TA(e,n=>t.push(n)),new Uint8Array(t)}function AA(e){return Math.round(Date.now()/1e3)+e}function OA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qn=()=>typeof window<"u"&&typeof document<"u",Ii={tested:!1,writable:!1},_a=()=>{if(!Qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ii.tested)return Ii.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ii.tested=!0,Ii.writable=!0}catch{Ii.tested=!0,Ii.writable=!1}return Ii.writable};function RA(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const eb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vo(async()=>{const{default:r}=await Promise.resolve().then(()=>jo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},MA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",tb=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Yl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jl=async(e,t)=>{await e.removeItem(t)};class Bc{constructor(){this.promise=new Bc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Bc.promiseConstructor=Promise;function rh(e){const t=e.split(".");if(t.length!==3)throw new ya("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!wA.test(t[r]))throw new ya("JWT not in base64url format");return{header:JSON.parse(uy(t[0])),payload:JSON.parse(uy(t[1])),signature:NA(t[2]),raw:{header:t[0],payload:t[1]}}}async function IA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DA(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function zA(e){return("0"+e.toString(16)).substr(-2)}function FA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,zA).join("")}async function $A(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function BA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await $A(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ss(e,t,n=!1){const r=FA();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await tb(e,`${t}-code-verifier`,s);const o=await BA(r);return[o,r===o?"plain":"s256"]}const UA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function WA(e){const t=e.headers.get(Cf);if(!t||!t.match(UA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function HA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var VA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Fi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qA=[502,503,504];async function cy(e){var t;if(!MA(e))throw new Tf(Fi(e),0);if(qA.includes(e.status))throw new Tf(Fi(e),e.status);let n;try{n=await e.json()}catch(o){throw new Jx(Fi(o),o)}let r;const s=WA(e);if(s&&s.getTime()>=Yx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new oy(Fi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Wr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new oy(Fi(n),e.status,n.weak_password.reasons);throw new bA(Fi(n),e.status||500,r)}const GA=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Se(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Cf]||(o[Cf]=Yx["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await KA(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function KA(e,t,n,r,s,o){const l=GA(t,r,s,o);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Tf(Fi(d),0)}if(u.ok||await cy(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await cy(d)}}function Hr(e){var t;let n=null;XA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=AA(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function dy(e){const t=Hr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function QA(e){return{data:e,error:null}}function YA(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,l=VA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function JA(e){return e}function XA(e){return e.access_token&&e.refresh_token&&e.expires_in}var eO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class tO{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=eb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Yr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=eO(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:YA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yr})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},m=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:JA});if(m.error)throw m.error;const v=await m.json(),g=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(E=>{const w=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);h[`${C}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(ge(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yr})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Yr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Yr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}}const nO={getItem:e=>_a()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{_a()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{_a()&&globalThis.localStorage.removeItem(e)}};function hy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function rO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ps={debug:!!(globalThis&&_a()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iO extends nb{}async function sO(e,t,n){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ps.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}rO();const oO={url:vA,storageKey:yA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_A,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fy(e,t,n){return await n()}class Ha{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ha.nextInstanceID,Ha.nextInstanceID+=1,this.instanceID>0&&Qn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},oO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new tO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=eb(s.fetch),this.lock=s.lock||fy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=sO:this.lock=fy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:_a()?this.storage=nO:(this.memoryStorage={},this.storage=hy(this.memoryStorage)):(this.memoryStorage={},this.storage=hy(this.memoryStorage)),Qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=RA(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Qn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),PA(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?{error:n}:{error:new Jx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Hr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:m,password:v,options:g}=t;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await Ss(this.storage,this.storageKey)),o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:m,password:v,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:E},xform:Hr})}else if("phone"in t){const{phone:m,password:v,options:g}=t;o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Hr})}else throw new Kl("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:dy})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:dy})}else throw new Kl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new th}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Yl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:l}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Hr});if(await Jl(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new th}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(ge(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:l}=t,u=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Hr}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new th}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,l;try{if("email"in t){const{email:u,options:d}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Ss(this.storage,this.storageKey));const{error:v}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:u,options:d}=t,{data:h,error:m}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new Kl("You must provide either an email or phone number.")}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Hr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Ss(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:QA})}catch(o){if(ge(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Wr;const{error:s}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:l}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:l,error:u}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Kl("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Yl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<eh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,h,m)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,m))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yr}):await this._useSession(async n=>{var r,s,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wr}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Yr})})}catch(n){if(ge(n))return SA(n)&&(await this._removeSession(),await Jl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Wr;const l=s.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Ss(this.storage,this.storageKey));const{data:h,error:m}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Yr});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:l}=rh(t.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Wr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Qn())throw new Ql("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ql(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new sy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ql("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sy("No code detected.");const{data:b,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=t;if(!o||!u||!l||!h)throw new Ql("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(u);let g=m+v;d&&(g=parseInt(d));const x=g-m;x*1e3<=js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const E=g-v;m-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,g,m):m-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,g,m);const{data:w,error:C}=await this._getUser(o);if(C)throw C;const k={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:g,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(r){if(ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Yl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(kA(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Jl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=OA(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ss(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ge(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var l,u,d,h,m;const{data:v,error:g}=o;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return Qn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ge(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)throw l;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await DA(async s=>(s>0&&await IA(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hr})),(s,o)=>{const l=200*Math.pow(2,s);return o&&nh(o)&&Date.now()+l-r<js})}catch(r){if(this._debug(n,"error",r),ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Qn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Yl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<eh;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${eh}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),nh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bc;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Wr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),ge(o)){const l={session:null,error:o};return nh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Jl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),js);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${js}ms, refresh threshold is ${Ef} ticks`),s<=Ef&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Ss(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:h}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:u}=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=rh(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r||(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+xA>Date.now()))return r;const{data:s,error:o}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ya("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(l=>l.kid===t),!r)throw new ya("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:x,error:E}=await this.getSession();if(E||!x.session)return{data:null,error:E};r=x.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:d}}=rh(r);if(HA(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:s,signature:l},error:null}}const h=ZA(s.alg),m=await this.fetchJwk(s.kid,n),v=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,v,l,LA(`${u}.${d}`)))throw new ya("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}}Ha.nextInstanceID=0;const aO=Ha;class lO extends aO{constructor(t){super(t)}}var uO=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(m){try{h(r.next(m))}catch(v){l(v)}}function d(m){try{h(r.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((r=r.apply(e,t||[])).next())})};class cO{constructor(t,n,r){var s,o,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=mA(t),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:aA,realtime:uA,auth:Object.assign(Object.assign({},lA),{storageKey:h}),global:oA},v=gA(r??{},m);this.storageKey=(s=v.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=v.auth)!==null&&l!==void 0?l:{},this.headers,v.global.fetch),this.fetch=fA(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new TL(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new iL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rA(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return uO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:l,lock:u,debug:d},h,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lO({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:u,debug:d,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new WL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dO=(e,t,n)=>new cO(e,t,n),hO="https://kvlfpyfvifspllbtafnj.supabase.co",fO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2bGZweWZ2aWZzcGxsYnRhZm5qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE5NjczNTksImV4cCI6MjA1NzU0MzM1OX0.Kjo7ersYhaPxFCIbYP2YVaSNGhCso3aMvnh50nIfwiM",fe=dO(hO,fO),rb=_.createContext(void 0);function pO({children:e}){const[t,n]=_.useState(null),[r,s]=_.useState(!0);_.useEffect(()=>{fe.auth.getSession().then(({data:d})=>{var h;n(((h=d.session)==null?void 0:h.user)??null),s(!1)});const{data:u}=fe.auth.onAuthStateChange((d,h)=>{n((h==null?void 0:h.user)??null),s(!1)});return()=>{u==null||u.subscription.unsubscribe()}},[]);const l={user:t,loading:r,signOut:async()=>{await fe.auth.signOut(),n(null)},setUser:n};return p.jsx(rb.Provider,{value:l,children:e})}function dr(){const e=_.useContext(rb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function mt({className:e,...t}){return p.jsx("div",{className:_e("animate-pulse rounded-md bg-muted",e),...t})}function ea({children:e}){const{user:t,loading:n}=dr(),r=Rr();return n?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx(mt,{className:"h-8 w-8 rounded-full"})}):t?p.jsx(p.Fragment,{children:e}):p.jsx(Vp,{to:"/login",state:{from:r},replace:!0})}function py({children:e}){const{user:t,loading:n}=dr(),r=Rr();return n?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx(mt,{className:"h-8 w-8 rounded-full"})}):t?p.jsx(Vp,{to:"/",state:{from:r},replace:!0}):p.jsx(p.Fragment,{children:e})}function mO({children:e}){const{user:t,loading:n}=dr(),r=Rr(),[s,o]=_.useState(null);return _.useEffect(()=>{(async()=>{if(!t){o(!1);return}try{const{data:u,error:d}=await fe.from("users").select("role").eq("id",t.id).single();if(d){console.error("Error checking admin status:",d),o(!1);return}o((u==null?void 0:u.role)==="admin")}catch(u){console.error("Error in checkAdminStatus:",u),o(!1)}})()},[t]),n||s===null?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx(mt,{className:"h-8 w-8 rounded-full"})}):!t||!s?p.jsx(Vp,{to:"/login",state:{from:r},replace:!0}):p.jsx(p.Fragment,{children:e})}const gO=Pc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-200 focus-visible:ring-opacity-75 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-900 text-white hover:bg-gray-800",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oe=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const l=r?rs:"button";return p.jsx(l,{className:_e(gO({variant:t,size:n,className:e})),ref:o,...s})});Oe.displayName="Button";const ss=_.forwardRef(({className:e,type:t,...n},r)=>p.jsx("input",{type:t,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ss.displayName="Input";var vO="Label",ib=_.forwardRef((e,t)=>p.jsx(qe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ib.displayName=vO;var sb=ib;const yO=Pc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wa=_.forwardRef(({className:e,...t},n)=>p.jsx(sb,{ref:n,className:_e(yO(),e),...t}));wa.displayName=sb.displayName;const bn=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));bn.displayName="Card";const or=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));or.displayName="CardHeader";const ar=_.forwardRef(({className:e,...t},n)=>p.jsx("h3",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));ar.displayName="CardTitle";const Jp=_.forwardRef(({className:e,...t},n)=>p.jsx("p",{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));Jp.displayName="CardDescription";const kn=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:_e("p-6 pt-0",e),...t}));kn.displayName="CardContent";const ob=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",e),...t}));ob.displayName="CardFooter";const _O=Pc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ab=_.forwardRef(({className:e,variant:t,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:_e(_O({variant:t}),e),...n}));ab.displayName="Alert";const wO=_.forwardRef(({className:e,...t},n)=>p.jsx("h5",{ref:n,className:_e("mb-1 font-medium leading-none tracking-tight",e),...t}));wO.displayName="AlertTitle";const lb=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:_e("text-sm [&_p]:leading-relaxed",e),...t}));lb.displayName="AlertDescription";const ub=({type:e})=>{const[t,n]=_.useState(""),[r,s]=_.useState(""),[o,l]=_.useState("user"),[u,d]=_.useState(!1),[h,m]=_.useState(!1),[v,g]=_.useState(null),{toast:x}=Xa(),E=cr(),w=async k=>{if(k.preventDefault(),m(!0),g(null),e==="signup"){const{data:b,error:P}=await fe.auth.signUp({email:t,password:r});if(P){g(P.message),m(!1);return}b.user&&await fe.from("users").insert([{id:b.user.id,email:t,role:o}]),x({title:"Success",description:"Account created! You can now log in."}),E("/login"),m(!1)}else{const{data:b,error:P}=await fe.auth.signInWithPassword({email:t,password:r});if(P){g(P.message),m(!1);return}const T=b.user.id;let{data:N,error:R}=await fe.from("users").select("*").eq("id",T).single();if(!N){const{error:M}=await fe.from("users").insert([{id:T,email:t,role:o}]);if(M){g("Login succeeded, but failed to create user profile."),m(!1);return}({data:N,error:R}=await fe.from("users").select("*").eq("id",T).single())}R?g("Login succeeded, but failed to fetch user metadata."):(x({title:"Success",description:"Logged in successfully!"}),E("/")),m(!1)}},C=()=>d(!u);return p.jsxs(bn,{className:"w-full max-w-md mx-auto animate-fade-in",children:[p.jsxs(or,{className:"space-y-1",children:[p.jsx(ar,{className:"text-2xl font-semibold tracking-tight",children:e==="login"?"Sign in to your account":"Create an account"}),p.jsx(Jp,{children:e==="login"?"Enter your email and password to sign in":"Enter your email, password, and role to create an account"})]}),p.jsxs("form",{onSubmit:w,children:[p.jsxs(kn,{className:"space-y-4",children:[v&&p.jsxs(ab,{variant:"destructive",className:"mb-4",children:[p.jsx(DE,{className:"h-4 w-4 mr-2"}),p.jsx(lb,{children:v})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(wa,{htmlFor:"email",children:"Email"}),p.jsx(ss,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:k=>n(k.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(wa,{htmlFor:"password",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(ss,{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:r,onChange:k=>s(k.target.value),required:!0,className:"pr-10"}),p.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600 hover:text-gray-900",onClick:C,children:u?p.jsx($E,{className:"h-4 w-4"}):p.jsx(BE,{className:"h-4 w-4"})})]})]}),e==="signup"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(wa,{htmlFor:"role",children:"Role"}),p.jsxs("select",{id:"role",value:o,onChange:k=>l(k.target.value),className:"w-full border rounded px-2 py-2",children:[p.jsx("option",{value:"admin",children:"Admin"}),p.jsx("option",{value:"user",children:"User"})]})]})]}),p.jsxs(ob,{className:"flex flex-col",children:[p.jsx(Oe,{type:"submit",className:"w-full transition-all duration-300 bg-gray-900 hover:bg-white hover:text-gray-900 border-2 border-gray-900 text-white",disabled:h,children:h?p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin mr-2"}),e==="login"?"Signing in...":"Creating account..."]}):e==="login"?"Sign in":"Create account"}),e==="login"&&null]})]})]})},Xp="/assets/LogoWide.png",xO=()=>p.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-4",children:[p.jsx("img",{src:Xp,alt:"UndergroundIQ",className:"h-12 w-auto mb-8"}),p.jsx(ub,{type:"login"})]}),bO=()=>p.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-4",children:[p.jsx("img",{src:Xp,alt:"UndergroundIQ",className:"h-12 w-auto mb-8"}),p.jsx(ub,{type:"signup"})]}),kO=()=>(Rr(),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})),Xl="https://newtiny-api.bluestakes.org/api";function SO(e){return e.reduce((t,n)=>{const r=t.find(s=>s.ticket===n.ticket);return!r||Number(n.revision)>Number(r.revision)?[...t.filter(o=>o.ticket!==n.ticket),n]:t},[])}const nr={async getAllTickets(e){const t=[];let r=0;const s=new Date,l=new Date(s.getTime()-28*24*60*60*1e3).toISOString().split("T")[0],u=s.toISOString().split("T")[0];let d=!0;try{for(;d;){const h=new URL(`${Xl}/tickets/search`);h.searchParams.append("limit","100"),h.searchParams.append("start",l),h.searchParams.append("end",u),r>0&&h.searchParams.append("offset",r.toString());const m=await fetch(h.toString(),{method:"GET",headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});if(!m.ok)throw new Error("Failed to fetch tickets from Blue Stakes");const v=await m.json(),g=Array.isArray(v)?v:v.data||[];t.push(...g),g.length<100?d=!1:r+=100}return SO(t)}catch(h){throw console.error("Error fetching all tickets:",h),h}},async getTicketSecondaryFunction(e,t){try{const n=await fetch(`${Xl}/tickets/${e}/secondary-functions`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});if(!n.ok)throw new Error(`Failed to fetch secondary functions for ticket ${e}`);return await n.json()}catch(n){throw console.error(`Error fetching secondary functions for ticket ${e}:`,n),n}},async getTicketByNumber(e,t){const n=t.startsWith("Bearer ")?t:"Bearer "+t,r=await fetch(`${Xl}/tickets/${e}`,{headers:{accept:"application/json",Authorization:n}});if(!r.ok)throw new Error("Failed to fetch ticket");return await r.json()},async getResponsesByTicket(e,t){try{const n=t.startsWith("Bearer ")?t:"Bearer "+t,r=await fetch(`${Xl}/tickets/${e}/responses`,{headers:{accept:"application/json",Authorization:n}});if(!r.ok){const d=await r.json().catch(()=>({}));throw new Error(d.message||"Failed to fetch ticket responses")}const s=await r.json(),o=Array.isArray(s)?s[0]:s;return((o==null?void 0:o.responses)||[]).map((d,h)=>({member_id:d.member_id||0,ticket:d.ticket||e,revision:d.revision||"",response:d.response||"",responded:d.responded||"",response_by:d.response_by||"",source:d.source||"",sys_id:d.sys_id||"",comments:d.comments||"",description:d.description||"",mbcode:d.mbcode||"",mbname:d.name||"",mbdescription:d.mbdescription||"",status:d.status||""}))}catch(n){throw console.error(`Error fetching responses for ticket ${e}:`,n),n}},async getTicketsNeedingUpdate(e){try{const{data:t,error:n}=await fe.from("project_tickets").select("ticket_number");if(n)throw new Error(`Failed to fetch assigned tickets: ${n.message}`);if(!(t!=null&&t.length))return[];const r=new Date;r.setDate(r.getDate()+7);const o=(await Promise.all(t.map(async({ticket_number:u})=>{try{return await this.getTicketByNumber(u,e)}catch(d){return console.error(`Error fetching details for ticket ${u}:`,d),null}}))).filter(u=>{if(!(u!=null&&u.replace_by_date))return!1;const d=new Date(u.replace_by_date);return d<=r&&d>=new Date});return(await Promise.all(o.map(async u=>{try{return(await this.getTicketSecondaryFunction(u.ticket,e)).update?u:null}catch(d){return console.error(`Error checking secondary functions for ticket ${u.ticket}:`,d),null}}))).filter(u=>u!==null)}catch(t){throw console.error("Error fetching tickets needing update:",t),t}},async assignTicketToProject(e,t){const{error:n}=await fe.from("project_tickets").insert([{project_id:t,ticket_number:e}]);if(n)throw new Error(`Failed to assign ticket to project: ${n.message}`)}};function em(){const{user:e}=dr(),[t,n]=_.useState(null),[r,s]=_.useState(!0),[o,l]=_.useState(null),u=async(h,m)=>{const v=await fetch("https://newtin-api.bluestakes.org/api/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:h,password:m}).toString()}),g=await v.json();if(!v.ok||!g.Authorization)throw new Error("Failed to log in to Blue Stakes");return g.Authorization.replace("Bearer ","")},d=async()=>{if(!e){n(null);return}s(!0),l(null);try{const{data:h,error:m}=await fe.from("users").select("company_id").eq("id",e.id).single();if(m)throw m;if(!(h!=null&&h.company_id))throw new Error("User does not have a company_id");const{data:v,error:g}=await fe.from("companies").select("bluestakes_username, bluestakes_password").eq("id",h.company_id).single();if(g)throw g;if(!(v!=null&&v.bluestakes_username)||!(v!=null&&v.bluestakes_password))throw new Error("Company Blue Stakes credentials not found");const x=await u(v.bluestakes_username,v.bluestakes_password);n(x)}catch(h){const m=h instanceof Error?h.message:"Failed to authenticate with Blue Stakes";l(m),n(null)}finally{s(!1)}};return _.useEffect(()=>{e?d():(n(null),s(!1))},[e]),{bluestakesToken:t,isLoading:r,error:o,refreshToken:d}}var jf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(un,function(n){var r="1.9.4";function s(i){var a,c,f,y;for(c=1,f=arguments.length;c<f;c++){y=arguments[c];for(a in y)i[a]=y[a]}return i}var o=Object.create||function(){function i(){}return function(a){return i.prototype=a,new i}}();function l(i,a){var c=Array.prototype.slice;if(i.bind)return i.bind.apply(i,c.call(arguments,1));var f=c.call(arguments,2);return function(){return i.apply(a,f.length?f.concat(c.call(arguments)):arguments)}}var u=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++u),i._leaflet_id}function h(i,a,c){var f,y,S,j;return j=function(){f=!1,y&&(S.apply(c,y),y=!1)},S=function(){f?y=arguments:(i.apply(c,arguments),setTimeout(j,a),f=!0)},S}function m(i,a,c){var f=a[1],y=a[0],S=f-y;return i===f&&c?i:((i-y)%S+S)%S+y}function v(){return!1}function g(i,a){if(a===!1)return i;var c=Math.pow(10,a===void 0?6:a);return Math.round(i*c)/c}function x(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function E(i){return x(i).split(/\s+/)}function w(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?o(i.options):{});for(var c in a)i.options[c]=a[c];return i.options}function C(i,a,c){var f=[];for(var y in i)f.push(encodeURIComponent(c?y.toUpperCase():y)+"="+encodeURIComponent(i[y]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function b(i,a){return i.replace(k,function(c,f){var y=a[f];if(y===void 0)throw new Error("No value provided for variable "+c);return typeof y=="function"&&(y=y(a)),y})}var P=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function T(i,a){for(var c=0;c<i.length;c++)if(i[c]===a)return c;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var M=0;function D(i){var a=+new Date,c=Math.max(0,16-(a-M));return M=a+c,window.setTimeout(i,c)}var F=window.requestAnimationFrame||R("RequestAnimationFrame")||D,Q=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Y(i,a,c){if(c&&F===D)i.call(a);else return F.call(window,l(i,a))}function K(i){i&&Q.call(window,i)}var oe={__proto__:null,extend:s,create:o,bind:l,get lastId(){return u},stamp:d,throttle:h,wrapNum:m,falseFn:v,formatNum:g,trim:x,splitWords:E,setOptions:w,getParamString:C,template:b,isArray:P,indexOf:T,emptyImageUrl:N,requestFn:F,cancelFn:Q,requestAnimFrame:Y,cancelAnimFrame:K};function q(){}q.extend=function(i){var a=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,f=o(c);f.constructor=a,a.prototype=f;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(a[y]=this[y]);return i.statics&&s(a,i.statics),i.includes&&(ne(i.includes),s.apply(null,[f].concat(i.includes))),s(f,i),delete f.statics,delete f.includes,f.options&&(f.options=c.options?o(c.options):{},s(f.options,i.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,j=f._initHooks.length;S<j;S++)f._initHooks[S].call(this)}},a},q.include=function(i){var a=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},q.mergeOptions=function(i){return s(this.prototype.options,i),this},q.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),c=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function ne(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=P(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(i,a,c){if(typeof i=="object")for(var f in i)this._on(f,i[f],a);else{i=E(i);for(var y=0,S=i.length;y<S;y++)this._on(i[y],a,c)}return this},off:function(i,a,c){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var f in i)this._off(f,i[f],a);else{i=E(i);for(var y=arguments.length===1,S=0,j=i.length;S<j;S++)y?this._off(i[S]):this._off(i[S],a,c)}return this},_on:function(i,a,c,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,c)===!1){c===this&&(c=void 0);var y={fn:a,ctx:c};f&&(y.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(y)}},_off:function(i,a,c){var f,y,S;if(this._events&&(f=this._events[i],!!f)){if(arguments.length===1){if(this._firingCount)for(y=0,S=f.length;y<S;y++)f[y].fn=v;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var j=this._listens(i,a,c);if(j!==!1){var O=f[j];this._firingCount&&(O.fn=v,this._events[i]=f=f.slice()),f.splice(j,1)}}},fire:function(i,a,c){if(!this.listens(i,c))return this;var f=s({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var y=this._events[i];if(y){this._firingCount=this._firingCount+1||1;for(var S=0,j=y.length;S<j;S++){var O=y[S],I=O.fn;O.once&&this.off(i,I,O.ctx),I.call(O.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(i,a,c,f){typeof i!="string"&&console.warn('"string" type argument expected');var y=a;typeof a!="function"&&(f=!!a,y=void 0,c=void 0);var S=this._events&&this._events[i];if(S&&S.length&&this._listens(i,y,c)!==!1)return!0;if(f){for(var j in this._eventParents)if(this._eventParents[j].listens(i,a,c,f))return!0}return!1},_listens:function(i,a,c){if(!this._events)return!1;var f=this._events[i]||[];if(!a)return!!f.length;c===this&&(c=void 0);for(var y=0,S=f.length;y<S;y++)if(f[y].fn===a&&f[y].ctx===c)return y;return!1},once:function(i,a,c){if(typeof i=="object")for(var f in i)this._on(f,i[f],a,!0);else{i=E(i);for(var y=0,S=i.length;y<S;y++)this._on(i[y],a,c,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var ue=q.extend(W);function A(i,a,c){this.x=c?Math.round(i):i,this.y=c?Math.round(a):a}var G=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(i){return this.clone()._add($(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract($(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new A(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new A(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(i){i=$(i);var a=i.x-this.x,c=i.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(i){return i=$(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=$(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function $(i,a,c){return i instanceof A?i:P(i)?new A(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new A(i.x,i.y):new A(i,a,c)}function Z(i,a){if(i)for(var c=a?[i,a]:i,f=0,y=c.length;f<y;f++)this.extend(c[f])}Z.prototype={extend:function(i){var a,c;if(!i)return this;if(i instanceof A||typeof i[0]=="number"||"x"in i)a=c=$(i);else if(i=z(i),a=i.min,c=i.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(i){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,c;return typeof i[0]=="number"||i instanceof A?i=$(i):i=z(i),i instanceof Z?(a=i.min,c=i.max):a=c=i,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(i){i=z(i);var a=this.min,c=this.max,f=i.min,y=i.max,S=y.x>=a.x&&f.x<=c.x,j=y.y>=a.y&&f.y<=c.y;return S&&j},overlaps:function(i){i=z(i);var a=this.min,c=this.max,f=i.min,y=i.max,S=y.x>a.x&&f.x<c.x,j=y.y>a.y&&f.y<c.y;return S&&j},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,c=this.max,f=Math.abs(a.x-c.x)*i,y=Math.abs(a.y-c.y)*i;return z($(a.x-f,a.y-y),$(c.x+f,c.y+y))},equals:function(i){return i?(i=z(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function z(i,a){return!i||i instanceof Z?i:new Z(i,a)}function H(i,a){if(i)for(var c=a?[i,a]:i,f=0,y=c.length;f<y;f++)this.extend(c[f])}H.prototype={extend:function(i){var a=this._southWest,c=this._northEast,f,y;if(i instanceof se)f=i,y=i;else if(i instanceof H){if(f=i._southWest,y=i._northEast,!f||!y)return this}else return i?this.extend(X(i)||te(i)):this;return!a&&!c?(this._southWest=new se(f.lat,f.lng),this._northEast=new se(y.lat,y.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),c.lat=Math.max(y.lat,c.lat),c.lng=Math.max(y.lng,c.lng)),this},pad:function(i){var a=this._southWest,c=this._northEast,f=Math.abs(a.lat-c.lat)*i,y=Math.abs(a.lng-c.lng)*i;return new H(new se(a.lat-f,a.lng-y),new se(c.lat+f,c.lng+y))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof se||"lat"in i?i=X(i):i=te(i);var a=this._southWest,c=this._northEast,f,y;return i instanceof H?(f=i.getSouthWest(),y=i.getNorthEast()):f=y=i,f.lat>=a.lat&&y.lat<=c.lat&&f.lng>=a.lng&&y.lng<=c.lng},intersects:function(i){i=te(i);var a=this._southWest,c=this._northEast,f=i.getSouthWest(),y=i.getNorthEast(),S=y.lat>=a.lat&&f.lat<=c.lat,j=y.lng>=a.lng&&f.lng<=c.lng;return S&&j},overlaps:function(i){i=te(i);var a=this._southWest,c=this._northEast,f=i.getSouthWest(),y=i.getNorthEast(),S=y.lat>a.lat&&f.lat<c.lat,j=y.lng>a.lng&&f.lng<c.lng;return S&&j},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=te(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function te(i,a){return i instanceof H?i:new H(i,a)}function se(i,a,c){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,c!==void 0&&(this.alt=+c)}se.prototype={equals:function(i,a){if(!i)return!1;i=X(i);var c=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return c<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+g(this.lat,i)+", "+g(this.lng,i)+")"},distanceTo:function(i){return ke.distance(this,X(i))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,c=a/Math.cos(Math.PI/180*this.lat);return te([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function X(i,a,c){return i instanceof se?i:P(i)&&typeof i[0]!="object"?i.length===3?new se(i[0],i[1],i[2]):i.length===2?new se(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new se(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new se(i,a,c)}var je={latLngToPoint:function(i,a){var c=this.projection.project(i),f=this.scale(a);return this.transformation._transform(c,f)},pointToLatLng:function(i,a){var c=this.scale(a),f=this.transformation.untransform(i,c);return this.projection.unproject(f)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(i),f=this.transformation.transform(a.min,c),y=this.transformation.transform(a.max,c);return new Z(f,y)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?m(i.lng,this.wrapLng,!0):i.lng,c=this.wrapLat?m(i.lat,this.wrapLat,!0):i.lat,f=i.alt;return new se(c,a,f)},wrapLatLngBounds:function(i){var a=i.getCenter(),c=this.wrapLatLng(a),f=a.lat-c.lat,y=a.lng-c.lng;if(f===0&&y===0)return i;var S=i.getSouthWest(),j=i.getNorthEast(),O=new se(S.lat-f,S.lng-y),I=new se(j.lat-f,j.lng-y);return new H(O,I)}},ke=s({},je,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var c=Math.PI/180,f=i.lat*c,y=a.lat*c,S=Math.sin((a.lat-i.lat)*c/2),j=Math.sin((a.lng-i.lng)*c/2),O=S*S+Math.cos(f)*Math.cos(y)*j*j,I=2*Math.atan2(Math.sqrt(O),Math.sqrt(1-O));return this.R*I}}),at=6378137,Ye={R:at,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,i.lat),-c),y=Math.sin(f*a);return new A(this.R*i.lng*a,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(i){var a=180/Math.PI;return new se((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:function(){var i=at*Math.PI;return new Z([-i,-i],[i,i])}()};function bt(i,a,c,f){if(P(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=c,this._d=f}bt.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new A((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function et(i,a,c,f){return new bt(i,a,c,f)}var lt=s({},ke,{code:"EPSG:3857",projection:Ye,transformation:function(){var i=.5/(Math.PI*Ye.R);return et(i,.5,-i,.5)}()}),Nt=s({},lt,{code:"EPSG:900913"});function hr(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Ft(i,a){var c="",f,y,S,j,O,I;for(f=0,S=i.length;f<S;f++){for(O=i[f],y=0,j=O.length;y<j;y++)I=O[y],c+=(y?"L":"M")+I.x+" "+I.y;c+=a?le.svg?"z":"x":""}return c||"M0 0"}var ee=document.documentElement.style,he="ActiveXObject"in window,ae=he&&!document.addEventListener,Ce="msLaunchUri"in navigator&&!("documentMode"in document),Lt=Zn("webkit"),$t=Zn("android"),tt=Zn("android 2")||Zn("android 3"),Mr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Hn=$t&&Zn("Google")&&Mr<537&&!("AudioNode"in window),fn=!!window.opera,Bt=!Ce&&Zn("chrome"),Cn=Zn("gecko")&&!Lt&&!fn&&!he,Yt=!Bt&&Zn("safari"),Ti=Zn("phantom"),ds="OTransition"in ee,ji=navigator.platform.indexOf("Win")===0,Ni=he&&"transition"in ee,Ir="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!tt,fr="MozPerspective"in ee,xe=!window.L_DISABLE_3D&&(Ni||Ir||fr)&&!ds&&!Ti,nt=typeof orientation<"u"||Zn("mobile"),ce=nt&&Lt,Pe=nt&&Ir,Ne=!window.PointerEvent&&window.MSPointerEvent,Jt=!!(window.PointerEvent||Ne),Xt="ontouchstart"in window||!!window.TouchEvent,hs=!window.L_NO_TOUCH&&(Xt||Jt),Wc=nt&&fn,Xb=nt&&Cn,e1=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,t1=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",v,a),window.removeEventListener("testPassiveEventSupport",v,a)}catch{}return i}(),n1=function(){return!!document.createElement("canvas").getContext}(),Hc=!!(document.createElementNS&&hr("svg").createSVGRect),r1=!!Hc&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),i1=!Hc&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),s1=navigator.platform.indexOf("Mac")===0,o1=navigator.platform.indexOf("Linux")===0;function Zn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var le={ie:he,ielt9:ae,edge:Ce,webkit:Lt,android:$t,android23:tt,androidStock:Hn,opera:fn,chrome:Bt,gecko:Cn,safari:Yt,phantom:Ti,opera12:ds,win:ji,ie3d:Ni,webkit3d:Ir,gecko3d:fr,any3d:xe,mobile:nt,mobileWebkit:ce,mobileWebkit3d:Pe,msPointer:Ne,pointer:Jt,touch:hs,touchNative:Xt,mobileOpera:Wc,mobileGecko:Xb,retina:e1,passiveEvents:t1,canvas:n1,svg:Hc,vml:i1,inlineSvg:r1,mac:s1,linux:o1},fm=le.msPointer?"MSPointerDown":"pointerdown",pm=le.msPointer?"MSPointerMove":"pointermove",mm=le.msPointer?"MSPointerUp":"pointerup",gm=le.msPointer?"MSPointerCancel":"pointercancel",Zc={touchstart:fm,touchmove:pm,touchend:mm,touchcancel:gm},vm={touchstart:h1,touchmove:ll,touchend:ll,touchcancel:ll},fs={},ym=!1;function a1(i,a,c){return a==="touchstart"&&d1(),vm[a]?(c=vm[a].bind(this,c),i.addEventListener(Zc[a],c,!1),c):(console.warn("wrong event specified:",a),v)}function l1(i,a,c){if(!Zc[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(Zc[a],c,!1)}function u1(i){fs[i.pointerId]=i}function c1(i){fs[i.pointerId]&&(fs[i.pointerId]=i)}function _m(i){delete fs[i.pointerId]}function d1(){ym||(document.addEventListener(fm,u1,!0),document.addEventListener(pm,c1,!0),document.addEventListener(mm,_m,!0),document.addEventListener(gm,_m,!0),ym=!0)}function ll(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in fs)a.touches.push(fs[c]);a.changedTouches=[a],i(a)}}function h1(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&vt(a),ll(i,a)}function f1(i){var a={},c,f;for(f in i)c=i[f],a[f]=c&&c.bind?c.bind(i):c;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var p1=200;function m1(i,a){i.addEventListener("dblclick",a);var c=0,f;function y(S){if(S.detail!==1){f=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var j=Sm(S);if(!(j.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})&&!j.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement}))){var O=Date.now();O-c<=p1?(f++,f===2&&a(f1(S))):f=1,c=O}}}return i.addEventListener("click",y),{dblclick:a,simDblclick:y}}function g1(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var Vc=dl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Lo=dl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wm=Lo==="webkitTransition"||Lo==="OTransition"?Lo+"End":"transitionend";function xm(i){return typeof i=="string"?document.getElementById(i):i}function Ao(i,a){var c=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(i,null);c=f?f[a]:null}return c==="auto"?null:c}function Le(i,a,c){var f=document.createElement(i);return f.className=a||"",c&&c.appendChild(f),f}function We(i){var a=i.parentNode;a&&a.removeChild(i)}function ul(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function ps(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function ms(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function qc(i,a){if(i.classList!==void 0)return i.classList.contains(a);var c=cl(i);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function ve(i,a){if(i.classList!==void 0)for(var c=E(a),f=0,y=c.length;f<y;f++)i.classList.add(c[f]);else if(!qc(i,a)){var S=cl(i);Gc(i,(S?S+" ":"")+a)}}function Je(i,a){i.classList!==void 0?i.classList.remove(a):Gc(i,x((" "+cl(i)+" ").replace(" "+a+" "," ")))}function Gc(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function cl(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function pn(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&v1(i,a)}function v1(i,a){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=i.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):i.style.filter+=" progid:"+f+"(opacity="+a+")"}function dl(i){for(var a=document.documentElement.style,c=0;c<i.length;c++)if(i[c]in a)return i[c];return!1}function Li(i,a,c){var f=a||new A(0,0);i.style[Vc]=(le.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function rt(i,a){i._leaflet_pos=a,le.any3d?Li(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function Ai(i){return i._leaflet_pos||new A(0,0)}var Oo,Ro,Kc;if("onselectstart"in document)Oo=function(){pe(window,"selectstart",vt)},Ro=function(){Ie(window,"selectstart",vt)};else{var Mo=dl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Oo=function(){if(Mo){var i=document.documentElement.style;Kc=i[Mo],i[Mo]="none"}},Ro=function(){Mo&&(document.documentElement.style[Mo]=Kc,Kc=void 0)}}function Qc(){pe(window,"dragstart",vt)}function Yc(){Ie(window,"dragstart",vt)}var hl,Jc;function Xc(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(fl(),hl=i,Jc=i.style.outlineStyle,i.style.outlineStyle="none",pe(window,"keydown",fl))}function fl(){hl&&(hl.style.outlineStyle=Jc,hl=void 0,Jc=void 0,Ie(window,"keydown",fl))}function bm(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function ed(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var y1={__proto__:null,TRANSFORM:Vc,TRANSITION:Lo,TRANSITION_END:wm,get:xm,getStyle:Ao,create:Le,remove:We,empty:ul,toFront:ps,toBack:ms,hasClass:qc,addClass:ve,removeClass:Je,setClass:Gc,getClass:cl,setOpacity:pn,testProp:dl,setTransform:Li,setPosition:rt,getPosition:Ai,get disableTextSelection(){return Oo},get enableTextSelection(){return Ro},disableImageDrag:Qc,enableImageDrag:Yc,preventOutline:Xc,restoreOutline:fl,getSizedParentNode:bm,getScale:ed};function pe(i,a,c,f){if(a&&typeof a=="object")for(var y in a)nd(i,y,a[y],c);else{a=E(a);for(var S=0,j=a.length;S<j;S++)nd(i,a[S],c,f)}return this}var Vn="_leaflet_events";function Ie(i,a,c,f){if(arguments.length===1)km(i),delete i[Vn];else if(a&&typeof a=="object")for(var y in a)rd(i,y,a[y],c);else if(a=E(a),arguments.length===2)km(i,function(O){return T(a,O)!==-1});else for(var S=0,j=a.length;S<j;S++)rd(i,a[S],c,f);return this}function km(i,a){for(var c in i[Vn]){var f=c.split(/\d/)[0];(!a||a(f))&&rd(i,f,null,null,c)}}var td={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function nd(i,a,c,f){var y=a+d(c)+(f?"_"+d(f):"");if(i[Vn]&&i[Vn][y])return this;var S=function(O){return c.call(f||i,O||window.event)},j=S;!le.touchNative&&le.pointer&&a.indexOf("touch")===0?S=a1(i,a,S):le.touch&&a==="dblclick"?S=m1(i,S):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(td[a]||a,S,le.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(S=function(O){O=O||window.event,sd(i,O)&&j(O)},i.addEventListener(td[a],S,!1)):i.addEventListener(a,j,!1):i.attachEvent("on"+a,S),i[Vn]=i[Vn]||{},i[Vn][y]=S}function rd(i,a,c,f,y){y=y||a+d(c)+(f?"_"+d(f):"");var S=i[Vn]&&i[Vn][y];if(!S)return this;!le.touchNative&&le.pointer&&a.indexOf("touch")===0?l1(i,a,S):le.touch&&a==="dblclick"?g1(i,S):"removeEventListener"in i?i.removeEventListener(td[a]||a,S,!1):i.detachEvent("on"+a,S),i[Vn][y]=null}function Oi(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function id(i){return nd(i,"wheel",Oi),this}function Io(i){return pe(i,"mousedown touchstart dblclick contextmenu",Oi),i._leaflet_disable_click=!0,this}function vt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Ri(i){return vt(i),Oi(i),this}function Sm(i){if(i.composedPath)return i.composedPath();for(var a=[],c=i.target;c;)a.push(c),c=c.parentNode;return a}function Pm(i,a){if(!a)return new A(i.clientX,i.clientY);var c=ed(a),f=c.boundingClientRect;return new A((i.clientX-f.left)/c.x-a.clientLeft,(i.clientY-f.top)/c.y-a.clientTop)}var _1=le.linux&&le.chrome?window.devicePixelRatio:le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Em(i){return le.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/_1:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function sd(i,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==i;)c=c.parentNode}catch{return!1}return c!==i}var w1={__proto__:null,on:pe,off:Ie,stopPropagation:Oi,disableScrollPropagation:id,disableClickPropagation:Io,preventDefault:vt,stop:Ri,getPropagationPath:Sm,getMousePosition:Pm,getWheelDelta:Em,isExternalTarget:sd,addListener:pe,removeListener:Ie},Cm=ue.extend({run:function(i,a,c,f){this.stop(),this._el=i,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Ai(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var c=this._startPos.add(this._offset.multiplyBy(i));a&&c._round(),rt(this._el,c),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Ee=ue.extend({options:{crs:lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=w(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(X(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Lo&&le.any3d&&!le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pe(this._proxy,wm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(X(i),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=s({animate:c.animate},c.zoom),c.pan=s({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,c.zoom):this._tryAnimatedPan(i,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,c){var f=this.getZoomScale(a),y=this.getSize().divideBy(2),S=i instanceof A?i:this.latLngToContainerPoint(i),j=S.subtract(y).multiplyBy(1-1/f),O=this.containerPointToLatLng(y.add(j));return this.setView(O,a,{zoom:c})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():te(i);var c=$(a.paddingTopLeft||a.padding||[0,0]),f=$(a.paddingBottomRight||a.padding||[0,0]),y=this.getBoundsZoom(i,!1,c.add(f));if(y=typeof a.maxZoom=="number"?Math.min(a.maxZoom,y):y,y===1/0)return{center:i.getCenter(),zoom:y};var S=f.subtract(c).divideBy(2),j=this.project(i.getSouthWest(),y),O=this.project(i.getNorthEast(),y),I=this.unproject(j.add(O).divideBy(2).add(S),y);return{center:I,zoom:y}},fitBounds:function(i,a){if(i=te(i),!i.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(i,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=$(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){ve(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,c){if(c=c||{},c.animate===!1||!le.any3d)return this.setView(i,a,c);this._stop();var f=this.project(this.getCenter()),y=this.project(i),S=this.getSize(),j=this._zoom;i=X(i),a=a===void 0?j:a;var O=Math.max(S.x,S.y),I=O*this.getZoomScale(j,a),U=y.distanceTo(f)||1,re=1.42,de=re*re;function we(it){var Pl=it?-1:1,lk=it?I:O,uk=I*I-O*O+Pl*de*de*U*U,ck=2*lk*de*U,gd=uk/ck,ag=Math.sqrt(gd*gd+1)-gd,dk=ag<1e-9?-18:Math.log(ag);return dk}function At(it){return(Math.exp(it)-Math.exp(-it))/2}function ht(it){return(Math.exp(it)+Math.exp(-it))/2}function gn(it){return At(it)/ht(it)}var Ut=we(0);function xs(it){return O*(ht(Ut)/ht(Ut+re*it))}function ik(it){return O*(ht(Ut)*gn(Ut+re*it)-At(Ut))/de}function sk(it){return 1-Math.pow(1-it,1.5)}var ok=Date.now(),sg=(we(1)-Ut)/re,ak=c.duration?1e3*c.duration:1e3*sg*.8;function og(){var it=(Date.now()-ok)/ak,Pl=sk(it)*sg;it<=1?(this._flyToFrame=Y(og,this),this._move(this.unproject(f.add(y.subtract(f).multiplyBy(ik(Pl)/U)),j),this.getScaleZoom(O/xs(Pl),j),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),og.call(this),this},flyToBounds:function(i,a){var c=this._getBoundsCenterZoom(i,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(i){return i=te(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,te(i));return c.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var c=$(a.paddingTopLeft||a.padding||[0,0]),f=$(a.paddingBottomRight||a.padding||[0,0]),y=this.project(this.getCenter()),S=this.project(i),j=this.getPixelBounds(),O=z([j.min.add(c),j.max.subtract(f)]),I=O.getSize();if(!O.contains(S)){this._enforcingBounds=!0;var U=S.subtract(O.getCenter()),re=O.extend(S).getSize().subtract(I);y.x+=U.x<0?-re.x:re.x,y.y+=U.y<0?-re.y:re.y,this.panTo(this.unproject(y),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=a.divideBy(2).round(),y=c.divideBy(2).round(),S=f.subtract(y);return!S.x&&!S.y?this:(i.animate&&i.pan?this.panBy(S):(i.pan&&this._rawPanBy(S),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,i):navigator.geolocation.getCurrentPosition(a,c,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,c=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,c=i.coords.longitude,f=new se(a,c),y=f.toBounds(i.coords.accuracy*2),S=this._locateOptions;if(S.setView){var j=this.getBoundsZoom(y);this.setView(f,S.maxZoom?Math.min(j,S.maxZoom):j)}var O={latlng:f,bounds:y,timestamp:i.timestamp};for(var I in i.coords)typeof i.coords[I]=="number"&&(O[I]=i.coords[I]);this.fire("locationfound",O)}},addHandler:function(i,a){if(!a)return this;var c=this[i]=new a(this);return this._handlers.push(c),this.options[i]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),We(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)We(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var c="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),f=Le("div",c,a||this._mapPane);return i&&(this._panes[i]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),c=this.unproject(i.getTopRight());return new H(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,c){i=te(i),c=$(c||[0,0]);var f=this.getZoom()||0,y=this.getMinZoom(),S=this.getMaxZoom(),j=i.getNorthWest(),O=i.getSouthEast(),I=this.getSize().subtract(c),U=z(this.project(O,f),this.project(j,f)).getSize(),re=le.any3d?this.options.zoomSnap:1,de=I.x/U.x,we=I.y/U.y,At=a?Math.max(de,we):Math.min(de,we);return f=this.getScaleZoom(At,f),re&&(f=Math.round(f/(re/100))*(re/100),f=a?Math.ceil(f/re)*re:Math.floor(f/re)*re),Math.max(y,Math.min(S,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var c=this._getTopLeftPoint(i,a);return new Z(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(i)/c.scale(a)},getScaleZoom:function(i,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var f=c.zoom(i*c.scale(a));return isNaN(f)?1/0:f},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(X(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng($(i),a)},layerPointToLatLng:function(i){var a=$(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(X(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(X(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(te(i))},distance:function(i,a){return this.options.crs.distance(X(i),X(a))},containerPointToLayerPoint:function(i){return $(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return $(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint($(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(i)))},mouseEventToContainerPoint:function(i){return Pm(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=xm(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pe(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&le.any3d,ve(i,"leaflet-container"+(le.touch?" leaflet-touch":"")+(le.retina?" leaflet-retina":"")+(le.ielt9?" leaflet-oldie":"")+(le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Ao(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rt(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ve(i.markerPane,"leaflet-zoom-hide"),ve(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,c){rt(this._mapPane,new A(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var y=this._zoom!==a;this._moveStart(y,c)._move(i,a)._moveEnd(y),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,c,f){a===void 0&&(a=this._zoom);var y=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),f?c&&c.pinch&&this.fire("zoom",c):((y||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){rt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var a=i?Ie:pe;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),le.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var c=[],f,y=a==="mouseout"||a==="mouseover",S=i.target||i.srcElement,j=!1;S;){if(f=this._targets[d(S)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){j=!0;break}if(f&&f.listens(a,!0)&&(y&&!sd(S,i)||(c.push(f),y))||S===this._container)break;S=S.parentNode}return!c.length&&!j&&!y&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var c=i.type;c==="mousedown"&&Xc(a),this._fireDOMEvent(i,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,c){if(i.type==="click"){var f=s({},i);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var y=this._findEventTargets(i,a);if(c){for(var S=[],j=0;j<c.length;j++)c[j].listens(a,!0)&&S.push(c[j]);y=S.concat(y)}if(y.length){a==="contextmenu"&&vt(i);var O=y[0],I={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var U=O.getLatLng&&(!O._radius||O._radius<=10);I.containerPoint=U?this.latLngToContainerPoint(O.getLatLng()):this.mouseEventToContainerPoint(i),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=U?O.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(j=0;j<y.length;j++)if(y[j].fire(a,I,!0),I.originalEvent._stopped||y[j].options.bubblingMouseEvents===!1&&T(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return Ai(this._mapPane)||new A(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var c=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var c=this.getSize()._divideBy(2);return this.project(i,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,c){var f=this._getNewPixelOrigin(c,a);return this.project(i,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(i,a,c){var f=this._getNewPixelOrigin(c,a);return z([this.project(i.getSouthWest(),a)._subtract(f),this.project(i.getNorthWest(),a)._subtract(f),this.project(i.getSouthEast(),a)._subtract(f),this.project(i.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,c){if(!c)return i;var f=this.project(i,a),y=this.getSize().divideBy(2),S=new Z(f.subtract(y),f.add(y)),j=this._getBoundsOffset(S,c,a);return Math.abs(j.x)<=1&&Math.abs(j.y)<=1?i:this.unproject(f.add(j),a)},_limitOffset:function(i,a){if(!a)return i;var c=this.getPixelBounds(),f=new Z(c.min.add(i),c.max.add(i));return i.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(i,a,c){var f=z(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),y=f.min.subtract(i.min),S=f.max.subtract(i.max),j=this._rebound(y.x,-S.x),O=this._rebound(y.y,-S.y);return new A(j,O)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),c=this.getMaxZoom(),f=le.any3d?this.options.zoomSnap:1;return f&&(i=Math.round(i/f)*f),Math.max(a,Math.min(c,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var c=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var i=this._proxy=Le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var c=Vc,f=this._proxy.style[c];Li(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){We(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();Li(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),y=this._getCenterOffset(i)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(y)?!1:(Y(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function x1(i,a){return new Ee(i,a)}var Tn=q.extend({options:{position:"topright"},initialize:function(i){w(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),c=this.getPosition(),f=i._controlCorners[c];return ve(a,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(We(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Do=function(i){return new Tn(i)};Ee.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",c=this._controlContainer=Le("div",a+"control-container",this._container);function f(y,S){var j=a+y+" "+a+S;i[y+S]=Le("div",j,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)We(this._controlCorners[i]);We(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Tm=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,c,f){return c<f?-1:f<c?1:0}},initialize:function(i,a,c){w(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in i)this._addLayer(i[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Tn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=Le("div",i),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Io(a),id(a);var f=this._section=Le("section",i+"-list");c&&(this._map.on("click",this.collapse,this),pe(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Le("a",i+"-toggle",a);y.href="#",y.title="Layers",y.setAttribute("role","button"),pe(y,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){vt(S),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Le("div",i+"-base",f),this._separator=Le("div",i+"-separator",f),this._overlaysList=Le("div",i+"-overlays",f),a.appendChild(f)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,c){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(f,y){return this.options.sortFunction(f.layer,y.layer,f.name,y.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ul(this._baseLayersList),ul(this._overlaysList),this._layerControlInputs=[];var i,a,c,f,y=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),a=a||f.overlay,i=i||!f.overlay,y+=f.overlay?0:1;return this.options.hideSingleBase&&(i=i&&y>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(d(i.target)),c=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(i,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(i){var a=document.createElement("label"),c=this._map.hasLayer(i.layer),f;i.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(f),f.layerId=d(i.layer),pe(f,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+i.name;var S=document.createElement("span");a.appendChild(S),S.appendChild(f),S.appendChild(y);var j=i.overlay?this._overlaysList:this._baseLayersList;return j.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,c,f=[],y=[];this._handlingClick=!0;for(var S=i.length-1;S>=0;S--)a=i[S],c=this._getLayer(a.layerId).layer,a.checked?f.push(c):a.checked||y.push(c);for(S=0;S<y.length;S++)this._map.hasLayer(y[S])&&this._map.removeLayer(y[S]);for(S=0;S<f.length;S++)this._map.hasLayer(f[S])||this._map.addLayer(f[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,c,f=this._map.getZoom(),y=i.length-1;y>=0;y--)a=i[y],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,pe(i,"click",vt),this.expand();var a=this;setTimeout(function(){Ie(i,"click",vt),a._preventClick=!1})}}),b1=function(i,a,c){return new Tm(i,a,c)},od=Tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",c=Le("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,c,f,y){var S=Le("a",c,f);return S.innerHTML=i,S.href="#",S.title=a,S.setAttribute("role","button"),S.setAttribute("aria-label",a),Io(S),pe(S,"click",Ri),pe(S,"click",y,this),pe(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";Je(this._zoomInButton,a),Je(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(ve(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(ve(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ee.mergeOptions({zoomControl:!0}),Ee.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new od,this.addControl(this.zoomControl))});var k1=function(i){return new od(i)},jm=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",c=Le("div",a),f=this.options;return this._addScales(f,a+"-line",c),i.on(f.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),c},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,c){i.metric&&(this._mScale=Le("div",a,c)),i.imperial&&(this._iScale=Le("div",a,c))},_update:function(){var i=this._map,a=i.getSize().y/2,c=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/i)},_updateImperial:function(i){var a=i*3.2808399,c,f,y;a>5280?(c=a/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(y=this._getRoundNum(a),this._updateScale(this._iScale,y+" ft",y/a))},_updateScale:function(i,a,c){i.style.width=Math.round(this.options.maxWidth*c)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),c=i/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),S1=function(i){return new jm(i)},P1='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ad=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(le.inlineSvg?P1+" ":"")+"Leaflet</a>"},initialize:function(i){w(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Le("div","leaflet-control-attribution"),Io(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),i.length&&c.push(i.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Ee.mergeOptions({attributionControl:!0}),Ee.addInitHook(function(){this.options.attributionControl&&new ad().addTo(this)});var E1=function(i){return new ad(i)};Tn.Layers=Tm,Tn.Zoom=od,Tn.Scale=jm,Tn.Attribution=ad,Do.layers=b1,Do.zoom=k1,Do.scale=S1,Do.attribution=E1;var qn=q.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qn.addTo=function(i,a){return i.addHandler(a,this),this};var C1={Events:W},Nm=le.touch?"touchstart mousedown":"mousedown",Dr=ue.extend({options:{clickTolerance:3},initialize:function(i,a,c,f){w(this,f),this._element=i,this._dragStartTarget=a||i,this._preventOutline=c},enable:function(){this._enabled||(pe(this._dragStartTarget,Nm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Dr._dragging===this&&this.finishDrag(!0),Ie(this._dragStartTarget,Nm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!qc(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Dr._dragging===this&&this.finishDrag();return}if(!(Dr._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Dr._dragging=this,this._preventOutline&&Xc(this._element),Qc(),Oo(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,c=bm(this._element);this._startPoint=new A(a.clientX,a.clientY),this._startPos=Ai(this._element),this._parentScale=ed(c);var f=i.type==="mousedown";pe(document,f?"mousemove":"touchmove",this._onMove,this),pe(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,c=new A(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,vt(i),this._moved||(this.fire("dragstart"),this._moved=!0,ve(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),rt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ie(document,"mousemove touchmove",this._onMove,this),Ie(document,"mouseup touchend touchcancel",this._onUp,this),Yc(),Ro();var a=this._moved&&this._moving;this._moving=!1,Dr._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Lm(i,a,c){var f,y=[1,4,2,8],S,j,O,I,U,re,de,we;for(S=0,re=i.length;S<re;S++)i[S]._code=Mi(i[S],a);for(O=0;O<4;O++){for(de=y[O],f=[],S=0,re=i.length,j=re-1;S<re;j=S++)I=i[S],U=i[j],I._code&de?U._code&de||(we=pl(U,I,de,a,c),we._code=Mi(we,a),f.push(we)):(U._code&de&&(we=pl(U,I,de,a,c),we._code=Mi(we,a),f.push(we)),f.push(I));i=f}return i}function Am(i,a){var c,f,y,S,j,O,I,U,re;if(!i||i.length===0)throw new Error("latlngs not passed");mn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var de=X([0,0]),we=te(i),At=we.getNorthWest().distanceTo(we.getSouthWest())*we.getNorthEast().distanceTo(we.getNorthWest());At<1700&&(de=ld(i));var ht=i.length,gn=[];for(c=0;c<ht;c++){var Ut=X(i[c]);gn.push(a.project(X([Ut.lat-de.lat,Ut.lng-de.lng])))}for(O=I=U=0,c=0,f=ht-1;c<ht;f=c++)y=gn[c],S=gn[f],j=y.y*S.x-S.y*y.x,I+=(y.x+S.x)*j,U+=(y.y+S.y)*j,O+=j*3;O===0?re=gn[0]:re=[I/O,U/O];var xs=a.unproject($(re));return X([xs.lat+de.lat,xs.lng+de.lng])}function ld(i){for(var a=0,c=0,f=0,y=0;y<i.length;y++){var S=X(i[y]);a+=S.lat,c+=S.lng,f++}return X([a/f,c/f])}var T1={__proto__:null,clipPolygon:Lm,polygonCenter:Am,centroid:ld};function Om(i,a){if(!a||!i.length)return i.slice();var c=a*a;return i=L1(i,c),i=N1(i,c),i}function Rm(i,a,c){return Math.sqrt(zo(i,a,c,!0))}function j1(i,a,c){return zo(i,a,c)}function N1(i,a){var c=i.length,f=typeof Uint8Array<"u"?Uint8Array:Array,y=new f(c);y[0]=y[c-1]=1,ud(i,y,a,0,c-1);var S,j=[];for(S=0;S<c;S++)y[S]&&j.push(i[S]);return j}function ud(i,a,c,f,y){var S=0,j,O,I;for(O=f+1;O<=y-1;O++)I=zo(i[O],i[f],i[y],!0),I>S&&(j=O,S=I);S>c&&(a[j]=1,ud(i,a,c,f,j),ud(i,a,c,j,y))}function L1(i,a){for(var c=[i[0]],f=1,y=0,S=i.length;f<S;f++)A1(i[f],i[y])>a&&(c.push(i[f]),y=f);return y<S-1&&c.push(i[S-1]),c}var Mm;function Im(i,a,c,f,y){var S=f?Mm:Mi(i,c),j=Mi(a,c),O,I,U;for(Mm=j;;){if(!(S|j))return[i,a];if(S&j)return!1;O=S||j,I=pl(i,a,O,c,y),U=Mi(I,c),O===S?(i=I,S=U):(a=I,j=U)}}function pl(i,a,c,f,y){var S=a.x-i.x,j=a.y-i.y,O=f.min,I=f.max,U,re;return c&8?(U=i.x+S*(I.y-i.y)/j,re=I.y):c&4?(U=i.x+S*(O.y-i.y)/j,re=O.y):c&2?(U=I.x,re=i.y+j*(I.x-i.x)/S):c&1&&(U=O.x,re=i.y+j*(O.x-i.x)/S),new A(U,re,y)}function Mi(i,a){var c=0;return i.x<a.min.x?c|=1:i.x>a.max.x&&(c|=2),i.y<a.min.y?c|=4:i.y>a.max.y&&(c|=8),c}function A1(i,a){var c=a.x-i.x,f=a.y-i.y;return c*c+f*f}function zo(i,a,c,f){var y=a.x,S=a.y,j=c.x-y,O=c.y-S,I=j*j+O*O,U;return I>0&&(U=((i.x-y)*j+(i.y-S)*O)/I,U>1?(y=c.x,S=c.y):U>0&&(y+=j*U,S+=O*U)),j=i.x-y,O=i.y-S,f?j*j+O*O:new A(y,S)}function mn(i){return!P(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Dm(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(i)}function zm(i,a){var c,f,y,S,j,O,I,U;if(!i||i.length===0)throw new Error("latlngs not passed");mn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var re=X([0,0]),de=te(i),we=de.getNorthWest().distanceTo(de.getSouthWest())*de.getNorthEast().distanceTo(de.getNorthWest());we<1700&&(re=ld(i));var At=i.length,ht=[];for(c=0;c<At;c++){var gn=X(i[c]);ht.push(a.project(X([gn.lat-re.lat,gn.lng-re.lng])))}for(c=0,f=0;c<At-1;c++)f+=ht[c].distanceTo(ht[c+1])/2;if(f===0)U=ht[0];else for(c=0,S=0;c<At-1;c++)if(j=ht[c],O=ht[c+1],y=j.distanceTo(O),S+=y,S>f){I=(S-f)/y,U=[O.x-I*(O.x-j.x),O.y-I*(O.y-j.y)];break}var Ut=a.unproject($(U));return X([Ut.lat+re.lat,Ut.lng+re.lng])}var O1={__proto__:null,simplify:Om,pointToSegmentDistance:Rm,closestPointOnSegment:j1,clipSegment:Im,_getEdgeIntersection:pl,_getBitCode:Mi,_sqClosestPointOnSegment:zo,isFlat:mn,_flat:Dm,polylineCenter:zm},cd={project:function(i){return new A(i.lng,i.lat)},unproject:function(i){return new se(i.y,i.x)},bounds:new Z([-180,-90],[180,90])},dd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,c=this.R,f=i.lat*a,y=this.R_MINOR/c,S=Math.sqrt(1-y*y),j=S*Math.sin(f),O=Math.tan(Math.PI/4-f/2)/Math.pow((1-j)/(1+j),S/2);return f=-c*Math.log(Math.max(O,1e-10)),new A(i.lng*a*c,f)},unproject:function(i){for(var a=180/Math.PI,c=this.R,f=this.R_MINOR/c,y=Math.sqrt(1-f*f),S=Math.exp(-i.y/c),j=Math.PI/2-2*Math.atan(S),O=0,I=.1,U;O<15&&Math.abs(I)>1e-7;O++)U=y*Math.sin(j),U=Math.pow((1-U)/(1+U),y/2),I=Math.PI/2-2*Math.atan(S*U)-j,j+=I;return new se(j*a,i.x*a/c)}},R1={__proto__:null,LonLat:cd,Mercator:dd,SphericalMercator:Ye},M1=s({},ke,{code:"EPSG:3395",projection:dd,transformation:function(){var i=.5/(Math.PI*dd.R);return et(i,.5,-i,.5)}()}),Fm=s({},ke,{code:"EPSG:4326",projection:cd,transformation:et(1/180,1,-1/180,.5)}),I1=s({},je,{projection:cd,transformation:et(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var c=a.lng-i.lng,f=a.lat-i.lat;return Math.sqrt(c*c+f*f)},infinite:!0});je.Earth=ke,je.EPSG3395=M1,je.EPSG3857=lt,je.EPSG900913=Nt,je.EPSG4326=Fm,je.Simple=I1;var jn=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Ee.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=d(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,a){for(var c in this._layers)i.call(a,this._layers[c]);return this},_addLayers:function(i){i=i?P(i)?i:[i]:[];for(var a=0,c=i.length;a<c;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=d(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var y=this._zoomBoundLayers[f].options;i=y.minZoom===void 0?i:Math.min(i,y.minZoom),a=y.maxZoom===void 0?a:Math.max(a,y.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var gs=jn.extend({initialize:function(i,a){w(this,a),this._layers={};var c,f;if(i)for(c=0,f=i.length;c<f;c++)this.addLayer(i[c])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[i]&&f[i].apply(f,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var c in this._layers)i.call(a,this._layers[c]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),D1=function(i,a){return new gs(i,a)},pr=gs.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),gs.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),gs.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new H;for(var a in this._layers){var c=this._layers[a];i.extend(c.getBounds?c.getBounds():c.getLatLng())}return i}}),z1=function(i,a){return new pr(i,a)},vs=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){w(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var c=this._getIconUrl(i);if(!c){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(i,a){var c=this.options,f=c[a+"Size"];typeof f=="number"&&(f=[f,f]);var y=$(f),S=$(a==="shadow"&&c.shadowAnchor||c.iconAnchor||y&&y.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(c.className||""),S&&(i.style.marginLeft=-S.x+"px",i.style.marginTop=-S.y+"px"),y&&(i.style.width=y.x+"px",i.style.height=y.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return le.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function F1(i){return new vs(i)}var Fo=vs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Fo.imagePath!="string"&&(Fo.imagePath=this._detectIconPath()),(this.options.imagePath||Fo.imagePath)+vs.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(c,f,y){var S=f.exec(c);return S&&S[y]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Le("div","leaflet-default-icon-path",document.body),a=Ao(i,"background-image")||Ao(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),$m=qn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Dr(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ve(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,c=a._map,f=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,S=Ai(a._icon),j=c.getPixelBounds(),O=c.getPixelOrigin(),I=z(j.min._subtract(O).add(y),j.max._subtract(O).subtract(y));if(!I.contains(S)){var U=$((Math.max(I.max.x,S.x)-I.max.x)/(j.max.x-I.max.x)-(Math.min(I.min.x,S.x)-I.min.x)/(j.min.x-I.min.x),(Math.max(I.max.y,S.y)-I.max.y)/(j.max.y-I.max.y)-(Math.min(I.min.y,S.y)-I.min.y)/(j.min.y-I.min.y)).multiplyBy(f);c.panBy(U,{animate:!1}),this._draggable._newPos._add(U),this._draggable._startPos._add(U),rt(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Y(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,c=a._shadow,f=Ai(a._icon),y=a._map.layerPointToLatLng(f);c&&rt(c,f),a._latlng=y,i.latlng=y,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),ml=jn.extend({options:{icon:new Fo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){w(this,a),this._latlng=X(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=X(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=i.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,i.title&&(c.title=i.title),c.tagName==="IMG"&&(c.alt=i.alt||"")),ve(c,a),i.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pe(c,"focus",this._panOnFocus,this);var y=i.icon.createShadow(this._shadow),S=!1;y!==this._shadow&&(this._removeShadow(),S=!0),y&&(ve(y,a),y.alt=""),this._shadow=y,i.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&S&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ie(this._icon,"focus",this._panOnFocus,this),We(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&We(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&rt(this._icon,i),this._shadow&&rt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$m)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $m(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&pn(this._icon,i),this._shadow&&pn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,c=a.iconSize?$(a.iconSize):$(0,0),f=a.iconAnchor?$(a.iconAnchor):$(0,0);i.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $1(i,a){return new ml(i,a)}var zr=jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return w(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gl=zr.extend({options:{fill:!0,radius:10},initialize:function(i,a){w(this,a),this._latlng=X(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=X(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return zr.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,c=this._clickTolerance(),f=[i+c,a+c];this._pxBounds=new Z(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function B1(i,a){return new gl(i,a)}var hd=gl.extend({initialize:function(i,a,c){if(typeof a=="number"&&(a=s({},c,{radius:a})),w(this,a),this._latlng=X(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new H(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:zr.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===ke.distance){var y=Math.PI/180,S=this._mRadius/ke.R/y,j=c.project([a+S,i]),O=c.project([a-S,i]),I=j.add(O).divideBy(2),U=c.unproject(I).lat,re=Math.acos((Math.cos(S*y)-Math.sin(a*y)*Math.sin(U*y))/(Math.cos(a*y)*Math.cos(U*y)))/y;(isNaN(re)||re===0)&&(re=S/Math.cos(Math.PI/180*a)),this._point=I.subtract(c.getPixelOrigin()),this._radius=isNaN(re)?0:I.x-c.project([U,i-re]).x,this._radiusY=I.y-j.y}else{var de=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(de).x}this._updateBounds()}});function U1(i,a,c){return new hd(i,a,c)}var mr=zr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){w(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,c=null,f=zo,y,S,j=0,O=this._parts.length;j<O;j++)for(var I=this._parts[j],U=1,re=I.length;U<re;U++){y=I[U-1],S=I[U];var de=f(i,y,S,!0);de<a&&(a=de,c=f(i,y,S))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zm(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=X(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new H,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],c=mn(i),f=0,y=i.length;f<y;f++)c?(a[f]=X(i[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(i[f]);return a},_project:function(){var i=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new A(i,i);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,c){var f=i[0]instanceof se,y=i.length,S,j;if(f){for(j=[],S=0;S<y;S++)j[S]=this._map.latLngToLayerPoint(i[S]),c.extend(j[S]);a.push(j)}else for(S=0;S<y;S++)this._projectLatlngs(i[S],a,c)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,f,y,S,j,O,I;for(c=0,y=0,S=this._rings.length;c<S;c++)for(I=this._rings[c],f=0,j=I.length;f<j-1;f++)O=Im(I[f],I[f+1],i,f,!0),O&&(a[y]=a[y]||[],a[y].push(O[0]),(O[1]!==I[f+1]||f===j-2)&&(a[y].push(O[1]),y++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,c=0,f=i.length;c<f;c++)i[c]=Om(i[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var c,f,y,S,j,O,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(c=0,S=this._parts.length;c<S;c++)for(O=this._parts[c],f=0,j=O.length,y=j-1;f<j;y=f++)if(!(!a&&f===0)&&Rm(i,O[y],O[f])<=I)return!0;return!1}});function W1(i,a){return new mr(i,a)}mr._flat=Dm;var ys=mr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Am(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=mr.prototype._convertLatLngs.call(this,i),c=a.length;return c>=2&&a[0]instanceof se&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(i){mr.prototype._setLatLngs.call(this,i),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,c=new A(a,a);if(i=new Z(i.min.subtract(c),i.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,y=this._rings.length,S;f<y;f++)S=Lm(this._rings[f],i,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,c,f,y,S,j,O,I,U;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(S=0,I=this._parts.length;S<I;S++)for(c=this._parts[S],j=0,U=c.length,O=U-1;j<U;O=j++)f=c[j],y=c[O],f.y>i.y!=y.y>i.y&&i.x<(y.x-f.x)*(i.y-f.y)/(y.y-f.y)+f.x&&(a=!a);return a||mr.prototype._containsPoint.call(this,i,!0)}});function H1(i,a){return new ys(i,a)}var gr=pr.extend({initialize:function(i,a){w(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=P(i)?i:i.features,c,f,y;if(a){for(c=0,f=a.length;c<f;c++)y=a[c],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var S=this.options;if(S.filter&&!S.filter(i))return this;var j=vl(i,S);return j?(j.feature=wl(i),j.defaultOptions=j.options,this.resetStyle(j),S.onEachFeature&&S.onEachFeature(i,j),this.addLayer(j)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function vl(i,a){var c=i.type==="Feature"?i.geometry:i,f=c?c.coordinates:null,y=[],S=a&&a.pointToLayer,j=a&&a.coordsToLatLng||fd,O,I,U,re;if(!f&&!c)return null;switch(c.type){case"Point":return O=j(f),Bm(S,i,O,a);case"MultiPoint":for(U=0,re=f.length;U<re;U++)O=j(f[U]),y.push(Bm(S,i,O,a));return new pr(y);case"LineString":case"MultiLineString":return I=yl(f,c.type==="LineString"?0:1,j),new mr(I,a);case"Polygon":case"MultiPolygon":return I=yl(f,c.type==="Polygon"?1:2,j),new ys(I,a);case"GeometryCollection":for(U=0,re=c.geometries.length;U<re;U++){var de=vl({geometry:c.geometries[U],type:"Feature",properties:i.properties},a);de&&y.push(de)}return new pr(y);case"FeatureCollection":for(U=0,re=c.features.length;U<re;U++){var we=vl(c.features[U],a);we&&y.push(we)}return new pr(y);default:throw new Error("Invalid GeoJSON object.")}}function Bm(i,a,c,f){return i?i(a,c):new ml(c,f&&f.markersInheritOptions&&f)}function fd(i){return new se(i[1],i[0],i[2])}function yl(i,a,c){for(var f=[],y=0,S=i.length,j;y<S;y++)j=a?yl(i[y],a-1,c):(c||fd)(i[y]),f.push(j);return f}function pd(i,a){return i=X(i),i.alt!==void 0?[g(i.lng,a),g(i.lat,a),g(i.alt,a)]:[g(i.lng,a),g(i.lat,a)]}function _l(i,a,c,f){for(var y=[],S=0,j=i.length;S<j;S++)y.push(a?_l(i[S],mn(i[S])?0:a-1,c,f):pd(i[S],f));return!a&&c&&y.length>0&&y.push(y[0].slice()),y}function _s(i,a){return i.feature?s({},i.feature,{geometry:a}):wl(a)}function wl(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var md={toGeoJSON:function(i){return _s(this,{type:"Point",coordinates:pd(this.getLatLng(),i)})}};ml.include(md),hd.include(md),gl.include(md),mr.include({toGeoJSON:function(i){var a=!mn(this._latlngs),c=_l(this._latlngs,a?1:0,!1,i);return _s(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),ys.include({toGeoJSON:function(i){var a=!mn(this._latlngs),c=a&&!mn(this._latlngs[0]),f=_l(this._latlngs,c?2:a?1:0,!0,i);return a||(f=[f]),_s(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),gs.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(i).geometry.coordinates)}),_s(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var c=a==="GeometryCollection",f=[];return this.eachLayer(function(y){if(y.toGeoJSON){var S=y.toGeoJSON(i);if(c)f.push(S.geometry);else{var j=wl(S);j.type==="FeatureCollection"?f.push.apply(f,j.features):f.push(j)}}}),c?_s(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Um(i,a){return new gr(i,a)}var Z1=Um,xl=jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,c){this._url=i,this._bounds=te(a),w(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){We(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&ps(this._image),this},bringToBack:function(){return this._map&&ms(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=te(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:Le("img");if(ve(a,"leaflet-image-layer"),this._zoomAnimated&&ve(a,"leaflet-zoom-animated"),this.options.className&&ve(a,this.options.className),a.onselectstart=v,a.onmousemove=v,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Li(this._image,c,a)},_reset:function(){var i=this._image,a=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();rt(i,a.min),i.style.width=c.x+"px",i.style.height=c.y+"px"},_updateOpacity:function(){pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),V1=function(i,a,c){return new xl(i,a,c)},Wm=xl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:Le("video");if(ve(a,"leaflet-image-layer"),this._zoomAnimated&&ve(a,"leaflet-zoom-animated"),this.options.className&&ve(a,this.options.className),a.onselectstart=v,a.onmousemove=v,a.onloadeddata=l(this.fire,this,"load"),i){for(var c=a.getElementsByTagName("source"),f=[],y=0;y<c.length;y++)f.push(c[y].src);this._url=c.length>0?f:[a.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var j=Le("source");j.src=this._url[S],a.appendChild(j)}}});function q1(i,a,c){return new Wm(i,a,c)}var Hm=xl.extend({_initImage:function(){var i=this._image=this._url;ve(i,"leaflet-image-layer"),this._zoomAnimated&&ve(i,"leaflet-zoom-animated"),this.options.className&&ve(i,this.options.className),i.onselectstart=v,i.onmousemove=v}});function G1(i,a,c){return new Hm(i,a,c)}var Gn=jn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof se||P(i))?(this._latlng=X(i),w(this,a)):(w(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&pn(this._container,1),this.bringToFront(),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(pn(this._container,0),this._removeTimeout=setTimeout(l(We,void 0,this._container),200)):We(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=X(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ps(this._container),this},bringToBack:function(){return this._map&&ms(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof pr){a=null;var c=this._source._layers;for(var f in c)if(c[f]._map){a=c[f];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=$(this.options.offset),c=this._getAnchor();this._zoomAnimated?rt(this._container,i.add(c)):a=a.add(i).add(c);var f=this._containerBottom=-a.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Ee.include({_initOverlay:function(i,a,c,f){var y=a;return y instanceof i||(y=new i(f).setContent(a)),c&&y.setLatLng(c),y}}),jn.include({_initOverlay:function(i,a,c,f){var y=c;return y instanceof i?(w(y,f),y._source=this):(y=a&&!f?a:new i(f,this),y.setContent(c)),y}});var bl=Gn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Gn.prototype.openOn.call(this,i)},onAdd:function(i){Gn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zr||this._source.on("preclick",Oi))},onRemove:function(i){Gn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zr||this._source.off("preclick",Oi))},getEvents:function(){var i=Gn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=Le("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Le("div",i+"-content-wrapper",a);if(this._contentNode=Le("div",i+"-content",c),Io(a),id(this._contentNode),pe(a,"contextmenu",Oi),this._tipContainer=Le("div",i+"-tip-container",a),this._tip=Le("div",i+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Le("a",i+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',pe(f,"click",function(y){vt(y),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var c=i.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var f=i.offsetHeight,y=this.options.maxHeight,S="leaflet-popup-scrolled";y&&f>y?(a.height=y+"px",ve(i,S)):Je(i,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),c=this._getAnchor();rt(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(Ao(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,f=this._containerWidth,y=new A(this._containerLeft,-c-this._containerBottom);y._add(Ai(this._container));var S=i.layerPointToContainerPoint(y),j=$(this.options.autoPanPadding),O=$(this.options.autoPanPaddingTopLeft||j),I=$(this.options.autoPanPaddingBottomRight||j),U=i.getSize(),re=0,de=0;S.x+f+I.x>U.x&&(re=S.x+f-U.x+I.x),S.x-re-O.x<0&&(re=S.x-O.x),S.y+c+I.y>U.y&&(de=S.y+c-U.y+I.y),S.y-de-O.y<0&&(de=S.y-O.y),(re||de)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([re,de]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),K1=function(i,a){return new bl(i,a)};Ee.mergeOptions({closePopupOnClick:!0}),Ee.include({openPopup:function(i,a,c){return this._initOverlay(bl,i,a,c).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),jn.include({bindPopup:function(i,a){return this._popup=this._initOverlay(bl,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof pr||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Ri(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof zr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var kl=Gn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Gn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Gn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Gn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Le("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,c,f=this._map,y=this._container,S=f.latLngToContainerPoint(f.getCenter()),j=f.layerPointToContainerPoint(i),O=this.options.direction,I=y.offsetWidth,U=y.offsetHeight,re=$(this.options.offset),de=this._getAnchor();O==="top"?(a=I/2,c=U):O==="bottom"?(a=I/2,c=0):O==="center"?(a=I/2,c=U/2):O==="right"?(a=0,c=U/2):O==="left"?(a=I,c=U/2):j.x<S.x?(O="right",a=0,c=U/2):(O="left",a=I+(re.x+de.x)*2,c=U/2),i=i.subtract($(a,c,!0)).add(re).add(de),Je(y,"leaflet-tooltip-right"),Je(y,"leaflet-tooltip-left"),Je(y,"leaflet-tooltip-top"),Je(y,"leaflet-tooltip-bottom"),ve(y,"leaflet-tooltip-"+O),rt(y,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&pn(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Q1=function(i,a){return new kl(i,a)};Ee.include({openTooltip:function(i,a,c){return this._initOverlay(kl,i,a,c).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),jn.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(kl,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof pr||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(pe(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),pe(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,c,f;this._tooltip.options.sticky&&i.originalEvent&&(c=this._map.mouseEventToContainerPoint(i.originalEvent),f=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var Zm=vs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),c=this.options;if(c.html instanceof Element?(ul(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=$(c.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Y1(i){return new Zm(i)}vs.Default=Fo;var $o=jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){w(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),We(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ps(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ms(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof A?i:new A(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,c=-i(-1/0,1/0),f=0,y=a.length,S;f<y;f++)S=a[f].style.zIndex,a[f]!==this._container&&S&&(c=i(c,+S));isFinite(c)&&(this.options.zIndex=c+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!le.ielt9){pn(this._container,this.options.opacity);var i=+new Date,a=!1,c=!1;for(var f in this._tiles){var y=this._tiles[f];if(!(!y.current||!y.loaded)){var S=Math.min(1,(i-y.loaded)/200);pn(y.el,S),S<1?a=!0:(y.active?c=!0:this._onOpaqueTile(y),y.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(K(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===i?(this._levels[c].el.style.zIndex=a-Math.abs(i-c),this._onUpdateLevel(c)):(We(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[i],y=this._map;return f||(f=this._levels[i]={},f.el=Le("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=y.project(y.unproject(y.getPixelOrigin()),i).round(),f.zoom=i,this._setZoomTransform(f,y.getCenter(),y.getZoom()),v(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var i,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)We(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,c,f){var y=Math.floor(i/2),S=Math.floor(a/2),j=c-1,O=new A(+y,+S);O.z=+j;var I=this._tileCoordsToKey(O),U=this._tiles[I];return U&&U.active?(U.retain=!0,!0):(U&&U.loaded&&(U.retain=!0),j>f?this._retainParent(y,S,j,f):!1)},_retainChildren:function(i,a,c,f){for(var y=2*i;y<2*i+2;y++)for(var S=2*a;S<2*a+2;S++){var j=new A(y,S);j.z=c+1;var O=this._tileCoordsToKey(j),I=this._tiles[O];if(I&&I.active){I.retain=!0;continue}else I&&I.loaded&&(I.retain=!0);c+1<f&&this._retainChildren(y,S,c+1,f)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,c,f){var y=Math.round(a);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var S=this.options.updateWhenZooming&&y!==this._tileZoom;(!f||S)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(i),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],i,a)},_setZoomTransform:function(i,a,c){var f=this._map.getZoomScale(c,i.zoom),y=i.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,c)).round();le.any3d?Li(i.el,y,f):rt(i.el,y)},_resetGrid:function(){var i=this._map,a=i.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],f).x/c.x),Math.ceil(i.project([0,a.wrapLng[1]],f).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],f).y/c.x),Math.ceil(i.project([a.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(c,this._tileZoom),y=a.project(i,this._tileZoom).floor(),S=a.getSize().divideBy(f*2);return new Z(y.subtract(S),y.add(S))},_update:function(i){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(i),y=this._pxBoundsToTileRange(f),S=y.getCenter(),j=[],O=this.options.keepBuffer,I=new Z(y.getBottomLeft().subtract([O,-O]),y.getTopRight().add([O,-O]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var U in this._tiles){var re=this._tiles[U].coords;(re.z!==this._tileZoom||!I.contains(new A(re.x,re.y)))&&(this._tiles[U].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(i,c);return}for(var de=y.min.y;de<=y.max.y;de++)for(var we=y.min.x;we<=y.max.x;we++){var At=new A(we,de);if(At.z=this._tileZoom,!!this._isValidTile(At)){var ht=this._tiles[this._tileCoordsToKey(At)];ht?ht.current=!0:j.push(At)}}if(j.sort(function(Ut,xs){return Ut.distanceTo(S)-xs.distanceTo(S)}),j.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gn=document.createDocumentFragment();for(we=0;we<j.length;we++)this._addTile(j[we],gn);this._level.el.appendChild(gn)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(i.x<c.min.x||i.x>c.max.x)||!a.wrapLat&&(i.y<c.min.y||i.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(i);return te(this.options.bounds).overlaps(f)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,c=this.getTileSize(),f=i.scaleBy(c),y=f.add(c),S=a.unproject(f,i.z),j=a.unproject(y,i.z);return[S,j]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),c=new H(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),c=new A(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(i){var a=this._tiles[i];a&&(We(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){ve(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=v,i.onmousemove=v,le.ielt9&&this.options.opacity<1&&pn(i,this.options.opacity)},_addTile:function(i,a){var c=this._getTilePos(i),f=this._tileCoordsToKey(i),y=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(y),this.createTile.length<2&&Y(l(this._tileReady,this,i,null,y)),rt(y,c),this._tiles[f]={el:y,coords:i,current:!0},a.appendChild(y),this.fire("tileloadstart",{tile:y,coords:i})},_tileReady:function(i,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:i});var f=this._tileCoordsToKey(i);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?(pn(c.el,0),K(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(ve(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),le.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new A(this._wrapX?m(i.x,this._wrapX):i.x,this._wrapY?m(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new Z(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function J1(i){return new $o(i)}var ws=$o.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=w(this,a),a.detectRetina&&le.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var c=document.createElement("img");return pe(c,"load",l(this._tileOnLoad,this,a,c)),pe(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(i),c},getTileUrl:function(i){var a={r:le.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=c),a["-y"]=c}return b(this._url,s(a,this.options))},_tileOnLoad:function(i,a){le.ielt9?setTimeout(l(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,c){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),i(c,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(i=a-i),i+f},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=v,a.onerror=v,!a.complete)){a.src=N;var c=this._tiles[i].coords;We(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",N),$o.prototype._removeTile.call(this,i)},_tileReady:function(i,a,c){if(!(!this._map||c&&c.getAttribute("src")===N))return $o.prototype._tileReady.call(this,i,a,c)}});function Vm(i,a){return new ws(i,a)}var qm=ws.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var c=s({},this.defaultWmsParams);for(var f in a)f in this.options||(c[f]=a[f]);a=w(this,a);var y=a.detectRetina&&le.retina?2:1,S=this.getTileSize();c.width=S.x*y,c.height=S.y*y,this.wmsParams=c},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,ws.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),c=this._crs,f=z(c.project(a[0]),c.project(a[1])),y=f.min,S=f.max,j=(this._wmsVersion>=1.3&&this._crs===Fm?[y.y,y.x,S.y,S.x]:[y.x,y.y,S.x,S.y]).join(","),O=ws.prototype.getTileUrl.call(this,i);return O+C(this.wmsParams,O,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+j},setParams:function(i,a){return s(this.wmsParams,i),a||this.redraw(),this}});function X1(i,a){return new qm(i,a)}ws.WMS=qm,Vm.wms=X1;var vr=jn.extend({options:{padding:.1},initialize:function(i){w(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var c=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,a),S=f.multiplyBy(-c).add(y).subtract(this._map._getNewPixelOrigin(i,a));le.any3d?Li(this._container,S,c):rt(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new Z(c,c.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gm=vr.extend({options:{tolerance:0},getEvents:function(){var i=vr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");pe(i,"mousemove",this._onMouseMove,this),pe(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pe(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,We(this._container),Ie(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vr.prototype._update.call(this);var i=this._bounds,a=this._container,c=i.getSize(),f=le.retina?2:1;rt(a,i.min),a.width=f*c.x,a.height=f*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",le.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){vr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,c=a.next,f=a.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),c=[],f,y;for(y=0;y<a.length;y++){if(f=Number(a[y]),isNaN(f))return;c.push(f)}i.options._dashArray=c}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)i=f.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var c,f,y,S,j=i._parts,O=j.length,I=this._ctx;if(O){for(I.beginPath(),c=0;c<O;c++){for(f=0,y=j[c].length;f<y;f++)S=j[c][f],I[f?"lineTo":"moveTo"](S.x,S.y);a&&I.closePath()}this._fillStroke(I,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,c=this._ctx,f=Math.max(Math.round(i._radius),1),y=(Math.max(Math.round(i._radiusY),1)||f)/f;y!==1&&(c.save(),c.scale(1,y)),c.beginPath(),c.arc(a.x,a.y/y,f,0,Math.PI*2,!1),y!==1&&c.restore(),this._fillStroke(c,i)}},_fillStroke:function(i,a){var c=a.options;c.fill&&(i.globalAlpha=c.fillOpacity,i.fillStyle=c.fillColor||c.color,i.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=c.opacity,i.lineWidth=c.weight,i.strokeStyle=c.color,i.lineCap=c.lineCap,i.lineJoin=c.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),c,f,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(Je(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var c,f,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(a)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(i),f&&(ve(this._container,"leaflet-interactive"),this._fireEvent([f],i,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,c){this._map._fireDOMEvent(a,c||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var c=a.next,f=a.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var c=a.next,f=a.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function Km(i){return le.canvas?new Gm(i):null}var Bo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ek={_initContainer:function(){this._container=Le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=Bo("shape");ve(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=Bo("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;We(a),i.removeInteractiveTarget(a),delete this._layers[d(i)]},_updateStyle:function(i){var a=i._stroke,c=i._fill,f=i.options,y=i._container;y.stroked=!!f.stroke,y.filled=!!f.fill,f.stroke?(a||(a=i._stroke=Bo("stroke")),y.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=P(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(y.removeChild(a),i._stroke=null),f.fill?(c||(c=i._fill=Bo("fill")),y.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(y.removeChild(c),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),c=Math.round(i._radius),f=Math.round(i._radiusY||c);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){ps(i._container)},_bringToBack:function(i){ms(i._container)}},Sl=le.vml?Bo:hr,Uo=vr.extend({_initContainer:function(){this._container=Sl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Sl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){We(this._container),Ie(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vr.prototype._update.call(this);var i=this._bounds,a=i.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),rt(c,i.min),c.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=Sl("path");i.options.className&&ve(a,i.options.className),i.options.interactive&&ve(a,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){We(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,c=i.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,Ft(i._parts,a))},_updateCircle:function(i){var a=i._point,c=Math.max(Math.round(i._radius),1),f=Math.max(Math.round(i._radiusY),1)||c,y="a"+c+","+f+" 0 1,0 ",S=i._empty()?"M0 0":"M"+(a.x-c)+","+a.y+y+c*2+",0 "+y+-c*2+",0 ";this._setPath(i,S)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){ps(i._path)},_bringToBack:function(i){ms(i._path)}});le.vml&&Uo.include(ek);function Qm(i){return le.svg||le.vml?new Uo(i):null}Ee.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&Km(i)||Qm(i)}});var Ym=ys.extend({initialize:function(i,a){ys.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=te(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function tk(i,a){return new Ym(i,a)}Uo.create=Sl,Uo.pointsToPath=Ft,gr.geometryToLayer=vl,gr.coordsToLatLng=fd,gr.coordsToLatLngs=yl,gr.latLngToCoords=pd,gr.latLngsToCoords=_l,gr.getFeature=_s,gr.asFeature=wl,Ee.mergeOptions({boxZoom:!0});var Jm=qn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ie(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){We(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Oo(),Qc(),this._startPoint=this._map.mouseEventToContainerPoint(i),pe(document,{contextmenu:Ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Le("div","leaflet-zoom-box",this._container),ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new Z(this._point,this._startPoint),c=a.getSize();rt(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(We(this._box),Je(this._container,"leaflet-crosshair")),Ro(),Yc(),Ie(document,{contextmenu:Ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new H(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ee.addInitHook("addHandler","boxZoom",Jm),Ee.mergeOptions({doubleClickZoom:!0});var Xm=qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,c=a.getZoom(),f=a.options.zoomDelta,y=i.originalEvent.shiftKey?c-f:c+f;a.options.doubleClickZoom==="center"?a.setZoom(y):a.setZoomAround(i.containerPoint,y)}});Ee.addInitHook("addHandler","doubleClickZoom",Xm),Ee.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var eg=qn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Dr(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=te(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,y=(f-a+c)%i+a-c,S=(f+a+c)%i-a-c,j=Math.abs(y+c)<Math.abs(S+c)?y:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=j},_onDragEnd:function(i){var a=this._map,c=a.options,f=!c.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),f)a.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,j=c.easeLinearity,O=y.multiplyBy(j/S),I=O.distanceTo([0,0]),U=Math.min(c.inertiaMaxSpeed,I),re=O.multiplyBy(U/I),de=U/(c.inertiaDeceleration*j),we=re.multiplyBy(-de/2).round();!we.x&&!we.y?a.fire("moveend"):(we=a._limitOffset(we,a.options.maxBounds),Y(function(){a.panBy(we,{duration:de,easeLinearity:j,noMoveStart:!0,animate:!0})}))}}});Ee.addInitHook("addHandler","dragging",eg),Ee.mergeOptions({keyboard:!0,keyboardPanDelta:80});var tg=qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),pe(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ie(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,c=i.scrollTop||a.scrollTop,f=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},c=this.keyCodes,f,y;for(f=0,y=c.left.length;f<y;f++)a[c.left[f]]=[-1*i,0];for(f=0,y=c.right.length;f<y;f++)a[c.right[f]]=[i,0];for(f=0,y=c.down.length;f<y;f++)a[c.down[f]]=[0,i];for(f=0,y=c.up.length;f<y;f++)a[c.up[f]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},c=this.keyCodes,f,y;for(f=0,y=c.zoomIn.length;f<y;f++)a[c.zoomIn[f]]=i;for(f=0,y=c.zoomOut.length;f<y;f++)a[c.zoomOut[f]]=-i},_addHooks:function(){pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ie(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,c=this._map,f;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[a],i.shiftKey&&(f=$(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset($(f),c.options.maxBounds)),c.options.worldCopyJump){var y=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(y)}else c.panBy(f)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Ri(i)}}});Ee.addInitHook("addHandler","keyboard",tg),Ee.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ng=qn.extend({addHooks:function(){pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ie(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=Em(i),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),Ri(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),c=this._map.options.zoomSnap||0;i._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,S=c?Math.ceil(y/c)*c:y,j=i._limitZoom(a+(this._delta>0?S:-S))-a;this._delta=0,this._startTime=null,j&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+j):i.setZoomAround(this._lastMousePos,a+j))}});Ee.addInitHook("addHandler","scrollWheelZoom",ng);var nk=600;Ee.mergeOptions({tapHold:le.touchNative&&le.safari&&le.mobile,tapTolerance:15});var rg=qn.extend({addHooks:function(){pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ie(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new A(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(pe(document,"touchend",vt),pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),nk),pe(document,"touchend touchcancel contextmenu",this._cancel,this),pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Ie(document,"touchend",vt),Ie(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Ie(document,"touchend touchcancel contextmenu",this._cancel,this),Ie(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new A(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var c=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});Ee.addInitHook("addHandler","tapHold",rg),Ee.mergeOptions({touchZoom:le.touch,bounceAtZoomLimits:!0});var ig=qn.extend({addHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Ie(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(i.touches[0]),f=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),pe(document,"touchmove",this._onTouchMove,this),pe(document,"touchend touchcancel",this._onTouchEnd,this),vt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(i.touches[0]),f=a.mouseEventToContainerPoint(i.touches[1]),y=c.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(y,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&y<1||this._zoom>a.getMaxZoom()&&y>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var S=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(y===1&&S.x===0&&S.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var j=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(j,this,!0),vt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),Ie(document,"touchmove",this._onTouchMove,this),Ie(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ee.addInitHook("addHandler","touchZoom",ig),Ee.BoxZoom=Jm,Ee.DoubleClickZoom=Xm,Ee.Drag=eg,Ee.Keyboard=tg,Ee.ScrollWheelZoom=ng,Ee.TapHold=rg,Ee.TouchZoom=ig,n.Bounds=Z,n.Browser=le,n.CRS=je,n.Canvas=Gm,n.Circle=hd,n.CircleMarker=gl,n.Class=q,n.Control=Tn,n.DivIcon=Zm,n.DivOverlay=Gn,n.DomEvent=w1,n.DomUtil=y1,n.Draggable=Dr,n.Evented=ue,n.FeatureGroup=pr,n.GeoJSON=gr,n.GridLayer=$o,n.Handler=qn,n.Icon=vs,n.ImageOverlay=xl,n.LatLng=se,n.LatLngBounds=H,n.Layer=jn,n.LayerGroup=gs,n.LineUtil=O1,n.Map=Ee,n.Marker=ml,n.Mixin=C1,n.Path=zr,n.Point=A,n.PolyUtil=T1,n.Polygon=ys,n.Polyline=mr,n.Popup=bl,n.PosAnimation=Cm,n.Projection=R1,n.Rectangle=Ym,n.Renderer=vr,n.SVG=Uo,n.SVGOverlay=Hm,n.TileLayer=ws,n.Tooltip=kl,n.Transformation=bt,n.Util=oe,n.VideoOverlay=Wm,n.bind=l,n.bounds=z,n.canvas=Km,n.circle=U1,n.circleMarker=B1,n.control=Do,n.divIcon=Y1,n.extend=s,n.featureGroup=z1,n.geoJSON=Um,n.geoJson=Z1,n.gridLayer=J1,n.icon=F1,n.imageOverlay=V1,n.latLng=X,n.latLngBounds=te,n.layerGroup=D1,n.map=x1,n.marker=$1,n.point=$,n.polygon=H1,n.polyline=W1,n.popup=K1,n.rectangle=tk,n.setOptions=w,n.stamp=d,n.svg=Qm,n.svgOverlay=G1,n.tileLayer=Vm,n.tooltip=Q1,n.transformation=et,n.version=r,n.videoOverlay=q1;var rk=window.L;n.noConflict=function(){return window.L=rk,this},window.L=n})})(jf,jf.exports);var PO=jf.exports;const Bi=Af(PO),EO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",CO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let TO=Bi.icon({iconUrl:EO,shadowUrl:CO,iconSize:[25,41],iconAnchor:[12,41]});Bi.Marker.prototype.options.icon=TO;function nc({lat:e,lng:t,height:n="350px",width:r="100%",zoom:s=17,workAreaGeoJSON:o,showTooltips:l=!0,onPolygonClick:u}){const d=_.useRef(null),h=_.useRef(null),m=_.useRef(null);return _.useEffect(()=>{if(h.current)return d.current?(m.current&&(m.current.remove(),m.current=null),o&&o.type?(m.current=Bi.geoJSON(o,{style:{color:"blue",fillColor:"#0000ff",fillOpacity:.3,weight:2,lineJoin:"round"},onEachFeature:(v,g)=>{if(v.properties){const x=v.properties.ticketNumber;l&&g.bindTooltip(`<div class="text-sm font-medium">Ticket: ${x}</div>`,{sticky:!1,permanent:!1,direction:"top",offset:[0,-10],opacity:.9,className:"custom-tooltip"}),u&&(g.on("click",()=>{u(x)}),g.setStyle({cursor:"pointer"}))}}}).addTo(d.current),d.current.fitBounds(m.current.getBounds())):d.current.setView([e,t],s)):(d.current=Bi.map(h.current,{attributionControl:!1,zoomControl:!1}).setView([e,t],s),Bi.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles  Esri",maxZoom:19}).addTo(d.current),o&&o.type?(m.current=Bi.geoJSON(o,{style:{color:"blue",fillColor:"#0000ff",fillOpacity:.3,weight:2,lineJoin:"round"},onEachFeature:(v,g)=>{if(v.properties){const x=v.properties.ticketNumber;l&&g.bindTooltip(`<div class="text-sm font-medium">Ticket: ${x}</div>`,{sticky:!1,permanent:!1,direction:"top",offset:[0,-10],opacity:.9,className:"custom-tooltip"}),u&&(g.on("click",()=>{u(x)}),g.setStyle({cursor:"pointer"}))}}}).addTo(d.current),d.current.fitBounds(m.current.getBounds())):Bi.marker([e,t]).addTo(d.current)),()=>{d.current&&(d.current.remove(),d.current=null,m.current=null)}},[e,t,s,o,l,u]),p.jsx("div",{ref:h,style:{height:n,width:r,borderRadius:"0.5rem",overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:p.jsx("style",{children:`
          .leaflet-control-attribution { display: none !important; }
          .custom-tooltip {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            padding: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            pointer-events: none;
          }
          .custom-tooltip:before {
            border-top-color: #e5e7eb !important;
            border-right-color: transparent !important;
            left: 50% !important;
            top: 100% !important;
            transform: translateX(-50%) !important;
          }
        `})})}const jO=()=>{const{ticketId:e}=AN(),t=cr(),[n]=Ax(),r=n.get("project"),[s,o]=_.useState(null),[l,u]=_.useState([]),[d,h]=_.useState(!0),[m,v]=_.useState(!0);dr();const{bluestakesToken:g,isLoading:x,error:E}=em(),[w,C]=_.useState(null),[k,b]=_.useState(null),[P,T]=_.useState(!0),{toast:N}=Xa();_.useEffect(()=>{(async()=>{if(!(!e||!g))try{h(!0);const W=await nr.getTicketByNumber(e,g);o(W)}catch(W){console.error("Error fetching ticket data:",W)}finally{h(!1)}})()},[e,g]),_.useEffect(()=>{const ne=Number(n.get("project"));ne&&fe.from("projects").select("name").eq("id",ne).single().then(({data:W})=>C((W==null?void 0:W.name)||null))},[n]),_.useEffect(()=>{(async()=>{if(!(!e||!g))try{v(!0);const W=await nr.getResponsesByTicket(e,g);u(W)}catch(W){console.error("Error fetching responses data:",W)}finally{v(!1)}})()},[e,g]),_.useEffect(()=>{(async()=>{if(!(!e||!g))try{T(!0);const W=await nr.getTicketSecondaryFunction(e,g);b(W)}catch(W){console.error("Error fetching secondary functions:",W)}finally{T(!1)}})()},[e,g]);const R=()=>{t(r?`/tickets?project=${encodeURIComponent(r)}`:"/")},M=async ne=>{if(!(!e||!g))try{N({title:"Not Implemented",description:`The ${ne} action is not yet implemented.`,variant:"destructive"})}catch(W){console.error(`Error performing ${ne}:`,W),N({title:"Error",description:`Failed to perform ${ne}. Please try again.`,variant:"destructive"})}};if(x)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[p.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-200"}),p.jsx("div",{className:"mt-4 h-4 w-24 bg-blue-200 rounded"})]})});if(E)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs(bn,{className:"w-full max-w-md",children:[p.jsx(or,{children:p.jsx(ar,{className:"text-center text-red-500",children:"Authentication Error"})}),p.jsxs(kn,{className:"text-center",children:[p.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Authentication Error"}),p.jsx("p",{className:"text-muted-foreground",children:E})]}),p.jsxs(Oe,{onClick:R,children:[p.jsx(wu,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})]})]})});if(d)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[p.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-200"}),p.jsx("div",{className:"mt-4 h-4 w-24 bg-blue-200 rounded"})]})});if(!s)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs(bn,{className:"w-full max-w-md",children:[p.jsx(or,{children:p.jsx(ar,{className:"text-center text-red-500",children:"Ticket Not Found"})}),p.jsxs(kn,{className:"text-center",children:[p.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Ticket Not Found"}),p.jsx("p",{className:"text-muted-foreground",children:"The ticket you're looking for doesn't exist or has been removed."})]}),p.jsxs(Oe,{onClick:R,children:[p.jsx(wu,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})]})]})});const F=s.expires&&new Date(s.expires)>new Date?"Active":s.expires?"Expired":s.status||s.type||s.revision||"No status",Q=ne=>{if(!ne)return"-";const W={weekday:"long",year:"numeric",month:"short",day:"numeric"};return new Date(ne).toLocaleDateString(void 0,W)},Y=ne=>{if(typeof ne=="number")return ne;if(!ne)return null;const W=String(ne).trim();if(W===""||W===" ")return null;const ue=Number(W);return isNaN(ue)?null:ue};let K=Y(s.centroid_y),oe=Y(s.centroid_x);if((K===null||oe===null)&&s.extent_top&&s.extent_left&&s.extent_bottom&&s.extent_right){const ne=Y(s.extent_top),W=Y(s.extent_left),ue=Y(s.extent_bottom),A=Y(s.extent_right);[ne,W,ue,A].every(G=>G!==null)&&(K=(ne+ue)/2,oe=(W+A)/2)}const q=K!==null&&oe!==null;return p.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs(Oe,{variant:"ghost",onClick:R,children:[p.jsx(wu,{className:"mr-2 h-4 w-4"}),"Back to ",w?`${w}`:"Dashboard"]}),!P&&k&&p.jsxs("div",{className:"flex gap-2",children:[k.cancel&&p.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>M("cancel"),children:"Cancel"}),k.remark&&p.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>M("remark"),children:"Remark"}),k.secondNotice&&p.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>M("second notice"),children:"Second Notice"}),k.update&&p.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>M("update"),children:"Update"})]})]}),p.jsxs(bn,{className:"mb-8 animate-fade-in",children:[p.jsx(or,{children:p.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Ticket Number"}),p.jsx(ar,{className:"text-2xl",children:s.ticket}),p.jsxs("div",{className:"text-gray-600 text-sm mt-1",children:["Revision: ",s.revision||"-"]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),p.jsx("p",{className:"text-xl font-semibold",children:F}),p.jsxs("div",{className:"text-gray-600 text-sm mt-1",children:["Type: ",s.type||"-"]})]})]})}),p.jsxs(kn,{children:[p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-8",children:[p.jsx("section",{children:p.jsx("h3",{className:"text-3xl font-medium mb-2 text-gray-600",children:"General Info"})}),p.jsxs("section",{children:[p.jsx("h3",{className:"text-xl font-medium mb-2",children:"Dates"}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"Legal Date:"})," ",Q(s.legal_date)]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"Update Date:"})," ",Q(s.replace_by_date)]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"Expiration Date:"})," ",Q(s.expires)]})]})]}),p.jsxs("section",{children:[p.jsx("h3",{className:"text-xl font-medium mb-2",children:"Work/Project Details"}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"Work Type:"})," ",s.work_type||"-"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"Done For:"})," ",s.done_for||"-"]})]})]}),p.jsxs("section",{children:[p.jsx("h3",{className:"text-xl font-medium mb-2",children:"Remarks/Notes"}),p.jsx("div",{className:"space-y-1",children:p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"Location:"})," ",s.location||"-"]})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-medium mb-2 text-gray-600",children:"Map & Location"}),q&&s.work_area&&s.work_area.type==="Feature"&&s.work_area.geometry?p.jsx(nc,{lat:K,lng:oe,workAreaGeoJSON:s.work_area,showTooltips:!1}):s.map_url?p.jsx("iframe",{src:s.map_url,title:"Ticket Map",width:"100%",height:"350",style:{border:0},allowFullScreen:!0,loading:"lazy"}):p.jsx("div",{className:"text-gray-500",children:"No map available for this ticket."}),p.jsxs("div",{className:"mt-4",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"Street:"})," ",s.street||"-"," "]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"City:"})," ",s.place||"-"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"County:"})," ",s.county||"-"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"State:"})," ",s.state||"-"]})]})]})]}),p.jsxs("div",{className:"mt-8",children:[p.jsx("h3",{className:"text-3xl font-medium mb-4 text-gray-600",children:"Ticket Responses"}),m?p.jsxs("div",{className:"animate-pulse flex flex-col items-center p-4",children:[p.jsx("div",{className:"h-4 w-24 bg-blue-200 rounded mb-2"}),p.jsx("div",{className:"h-4 w-48 bg-blue-200 rounded"})]}):l.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-gray-50",children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utility Name"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[300px]",children:"Response"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[300px]",children:"Description"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((ne,W)=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne.response||""}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ne.mbname||""}),p.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-[300px] break-words",children:ne.description||"PENDING"}),p.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-[300px] break-words",children:ne.mbdescription||""})]},W))})]})}):p.jsx("div",{className:"text-center text-gray-500 py-4",children:"No responses available for this ticket."})]})]})]})]})})};function Er(){const e=cr(),t=Rr(),{user:n,signOut:r}=dr(),[s,o]=_.useState(!1);_.useEffect(()=>{(async()=>{if(n){const{data:h,error:m}=await fe.from("users").select("role").eq("id",n.id).single();(h==null?void 0:h.role)==="admin"?o(!0):o(!1)}else o(!1)})()},[n]);const l=async()=>{await r(),e("/login")},u=d=>t.pathname==="/tickets"&&t.search.includes("project=")?!1:d==="/"&&(t.pathname==="/"||t.pathname==="/tickets"&&!t.search.includes("project="))?!0:t.pathname.startsWith(d)&&d!=="/";return p.jsx("nav",{className:"sticky top-0 z-50 bg-white shadow-sm border-b border-gray-200",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between h-16",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("img",{src:Xp,alt:"UndergroundIQ",className:"h-8 w-auto"})}),p.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[p.jsxs("button",{onClick:()=>e("/projects"),className:`border-b-2 px-1 pt-1 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-75 rounded-sm inline-flex items-center ${u("/projects")?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900"}`,children:[p.jsx(UE,{className:"h-4 w-4 mr-2"}),"Home"]}),s&&p.jsxs("button",{onClick:()=>e("/unassigned-tickets"),className:`border-b-2 px-1 pt-1 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-75 rounded-sm inline-flex items-center ${u("/unassigned-tickets")?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900"}`,children:[p.jsx(VE,{className:"h-4 w-4 mr-2"}),"To Do"]}),s&&p.jsxs("button",{onClick:()=>e("/admin"),className:`border-b-2 px-1 pt-1 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-200 focus:ring-opacity-75 rounded-sm inline-flex items-center ${u("/admin")?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900"}`,children:[p.jsx(ZE,{className:"h-4 w-4 mr-2"}),"Admin Panel"]})]})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center bg-gray-50 p-2 rounded-lg border border-gray-200",children:[p.jsx(GE,{className:"h-5 w-5 text-gray-600 mr-2"}),p.jsx("span",{className:"text-sm font-medium text-gray-700",children:n==null?void 0:n.username})]}),p.jsx(Oe,{variant:"outline",onClick:l,className:"border-gray-200 text-gray-700 hover:bg-gray-50",children:"Sign out"})]})]})})})}const _o=_.forwardRef(({className:e,...t},n)=>p.jsx("div",{className:"relative w-full overflow-auto",children:p.jsx("table",{ref:n,className:_e("w-full caption-bottom text-sm",e),...t})}));_o.displayName="Table";const wo=_.forwardRef(({className:e,...t},n)=>p.jsx("thead",{ref:n,className:_e("[&_tr]:border-b",e),...t}));wo.displayName="TableHeader";const xo=_.forwardRef(({className:e,...t},n)=>p.jsx("tbody",{ref:n,className:_e("[&_tr:last-child]:border-0",e),...t}));xo.displayName="TableBody";const NO=_.forwardRef(({className:e,...t},n)=>p.jsx("tfoot",{ref:n,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));NO.displayName="TableFooter";const Vt=_.forwardRef(({className:e,...t},n)=>p.jsx("tr",{ref:n,className:_e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Vt.displayName="TableRow";const ut=_.forwardRef(({className:e,...t},n)=>p.jsx("th",{ref:n,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ut.displayName="TableHead";const Ke=_.forwardRef(({className:e,...t},n)=>p.jsx("td",{ref:n,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ke.displayName="TableCell";const LO=_.forwardRef(({className:e,...t},n)=>p.jsx("caption",{ref:n,className:_e("mt-4 text-sm text-muted-foreground",e),...t}));LO.displayName="TableCaption";function AO(){const e=cr(),{user:t}=dr(),[n,r]=_.useState(null),[s,o]=_.useState(null),[l,u]=_.useState([]),[d,h]=_.useState(!0),[m,v]=_.useState(null),[g,x]=_.useState(!1),[E,w]=_.useState(""),[C,k]=_.useState("user"),[b,P]=_.useState(!1),[T,N]=_.useState(null);_.useState(!1),_.useState(null),_.useState(null);const R=async D=>{const{data:F,error:Q}=await fe.from("users").select("id, email, role, created_at").eq("company_id",D);if(Q){v("Failed to fetch employees"),h(!1);return}u(F)};_.useEffect(()=>{(async()=>{if(!t)return;const{data:F,error:Q}=await fe.from("users").select("role, company_id").eq("id",t.id).single();if(Q||(F==null?void 0:F.role)!=="admin"){e("/login");return}const Y=F.company_id;if(!Y){v("No company assigned to this user."),h(!1);return}o(Y);const{data:K,error:oe}=await fe.from("companies").select("name").eq("id",Y).single();if(oe){v("Failed to fetch company name"),h(!1);return}r(K.name),await R(Y),h(!1)})()},[t,e]);const M=async()=>{if(s){P(!0),N(null);try{const D=await fetch("https://kvlfpyfvifspllbtafnj.functions.supabase.co/invite-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E.trim(),role:C,company_id:s})}),F=await D.json();if(!D.ok){N(F.error||"Failed to invite user."),P(!1);return}x(!1),w(""),k("user"),P(!1),await R(s)}catch{N("Unexpected error occurred."),P(!1)}}};return d?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx(mt,{className:"h-8 w-8 rounded-full"})}):m?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[p.jsx("p",{className:"text-red-500 mb-4",children:m}),p.jsx(Oe,{onClick:()=>window.location.reload(),children:"Retry"})]}):p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Er,{}),p.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center p-4",children:[p.jsx(bn,{className:"w-full max-w-3xl animate-fade-in",children:p.jsxs(kn,{className:"pt-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Admin Panel"}),p.jsxs("h3",{className:"text-lg font-semibold mb-6",children:["Company: ",p.jsx("span",{className:"text-blue-700",children:n})]}),p.jsx("div",{className:"flex justify-end mb-4",children:p.jsx(Oe,{onClick:()=>x(!0),children:"Add User"})}),p.jsx("div",{className:"rounded-md border",children:p.jsxs(_o,{children:[p.jsx(wo,{children:p.jsxs(Vt,{children:[p.jsx(ut,{children:"Email"}),p.jsx(ut,{children:"Role"}),p.jsx(ut,{children:"Created At"})]})}),p.jsx(xo,{children:l.map(D=>p.jsxs(Vt,{children:[p.jsx(Ke,{children:D.email}),p.jsx(Ke,{children:D.role}),p.jsx(Ke,{children:new Date(D.created_at).toLocaleString()})]},D.id))})]})})]})}),g&&p.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add User"}),T&&p.jsx("p",{className:"text-red-500 mb-2",children:T}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block mb-1 font-medium",children:"Email"}),p.jsx("input",{type:"email",className:"w-full border rounded px-3 py-2",value:E,onChange:D=>w(D.target.value)})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block mb-1 font-medium",children:"Role"}),p.jsxs("select",{className:"w-full border rounded px-3 py-2",value:C,onChange:D=>k(D.target.value),children:[p.jsx("option",{value:"user",children:"User"}),p.jsx("option",{value:"admin",children:"Admin"})]})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Oe,{variant:"outline",onClick:()=>{x(!1),N(null)},children:"Cancel"}),p.jsx(Oe,{onClick:M,disabled:b||!E||!E.includes("@"),children:b?"Adding...":"Add User"})]})]})})]})]})}function my(){const{user:e}=dr(),t=cr(),[n,r]=_.useState(""),[s,o]=_.useState([]),[l,u]=_.useState(!0),[d,h]=_.useState(!1),[m,v]=_.useState(""),[g,x]=_.useState(!1),[E,w]=_.useState(""),[C,k]=_.useState(""),[b,P]=_.useState("");async function T(){if(!e)return;const{data:F,error:Q}=await fe.from("users").select("*").eq("id",e.id).single();F!=null&&F.role&&P(F.role);const{data:Y,error:K}=await fe.from("companies").select("*").eq("id",F==null?void 0:F.company_id).single();!K&&Y&&k(Y.name)}async function N(){u(!0);const{data:F,error:Q}=await fe.from("users").select("company_id").eq("id",e.id).single();if(Q||!(F!=null&&F.company_id)){o([]),u(!1);return}const Y=F.company_id,{data:K,error:oe}=await fe.from("company_projects").select("projects(*)").eq("company_id",Y);o(oe?[]:(K||[]).map(q=>q.projects)),u(!1)}_.useEffect(()=>{e&&(N(),T())},[e]);const R=s.filter(F=>!n||F.name.toLowerCase().includes(n.toLowerCase())),M=F=>{t(`/tickets?project=${F.id}`)},D=async()=>{if(x(!0),w(""),!m.trim()){w("Project name is required"),x(!1);return}const{data:F,error:Q}=await fe.from("users").select("company_id").eq("id",e.id).single();if(Q||!(F!=null&&F.company_id)){w("Could not determine company"),x(!1);return}const Y=F.company_id,{data:K,error:oe}=await fe.from("projects").insert([{name:m.trim(),created_by:e.id}]).select();if(oe){w(oe.message),x(!1);return}if(K&&K.length>0){const q=K[0],{error:ne}=await fe.from("company_projects").insert([{company_id:Y,project_id:q.id}]);if(ne){w("Project created, but failed to link to company."),x(!1);return}}h(!1),v(""),x(!1),N()};return l?p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Er,{}),p.jsx("div",{className:"container mx-auto px-4 py-8",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx(mt,{className:"h-10 w-full"}),p.jsx(mt,{className:"h-20 w-full"}),p.jsx(mt,{className:"h-20 w-full"}),p.jsx(mt,{className:"h-20 w-full"})]})})]}):p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Er,{}),p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[p.jsx("div",{children:p.jsx("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:C})}),b==="admin"&&p.jsxs(Oe,{onClick:()=>h(!0),className:"ml-4 flex items-center gap-2",children:[p.jsx(Tw,{className:"h-4 w-4"})," New Project"]})]}),b==="admin"&&d&&p.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create New Project"}),p.jsx(ss,{placeholder:"Project Name",value:m,onChange:F=>v(F.target.value),className:"mb-4"}),E&&p.jsx("div",{className:"text-red-500 mb-2",children:E}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx(Oe,{onClick:()=>h(!1),variant:"outline",children:"Cancel"}),p.jsx(Oe,{onClick:D,disabled:g,children:g?"Creating...":"Create"})]})]})}),p.jsx("div",{className:"mb-6",children:p.jsxs("div",{className:"relative",children:[p.jsx(HE,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),p.jsx(ss,{placeholder:"Search projects by name...",value:n,onChange:F=>r(F.target.value),className:"pl-10"})]})}),p.jsxs(bn,{children:[p.jsxs(or,{children:[p.jsx(ar,{children:"Projects"}),p.jsx(Jp,{children:"Click on a project to view its tickets"})]}),p.jsx(kn,{children:p.jsxs(_o,{children:[p.jsx(wo,{children:p.jsxs(Vt,{children:[p.jsx(ut,{children:"Project Name"}),p.jsx(ut,{children:"Action"})]})}),p.jsx(xo,{children:R.length===0?p.jsx(Vt,{children:p.jsx(Ke,{colSpan:2,className:"text-center text-gray-500 py-8",children:"No projects found"})}):R.map(F=>p.jsxs(Vt,{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>M(F),children:[p.jsx(Ke,{children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(WE,{className:"h-4 w-4 text-gray-400"}),p.jsx("div",{children:p.jsx("div",{className:"font-medium",children:F.name||"Unknown Project"})})]})}),p.jsx(Ke,{className:"text-right",children:p.jsx(Oe,{variant:"ghost",size:"sm",children:p.jsx(FE,{className:"h-4 w-4"})})})]},F.id))})]})})]})]})]})}function OO({trigger:e,children:t,align:n="right"}){const[r,s]=_.useState(!1),o=_.useRef(null);return _.useEffect(()=>{function l(u){o.current&&!o.current.contains(u.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),p.jsxs("div",{className:"relative",ref:o,children:[p.jsx("div",{onClick:()=>s(!r),children:e}),r&&p.jsx("div",{className:_e("absolute z-50 mt-1 w-[14rem] rounded-md border bg-white p-1 shadow-md",n==="right"?"right-0":"left-0"),children:t})]})}function eu({children:e,className:t,...n}){return p.jsx("button",{className:_e("w-full whitespace-nowrap flex items-center rounded-sm px-2 py-1.5 text-sm text-left hover:bg-gray-100",t),...n,children:e})}function RO(){return p.jsx("div",{className:"my-1 h-px bg-gray-200"})}function MO({children:e}){const[t,n]=_.useState(!1),r=_.useRef(null);_.useEffect(()=>{function o(l){r.current&&!r.current.contains(l.target)&&n(!1)}return t&&(document.addEventListener("mousedown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",o),document.body.style.overflow="unset"}},[t]);const s={isOpen:t,setIsOpen:n};return p.jsx(ol.Provider,{value:s,children:e})}const ol=J.createContext({isOpen:!1,setIsOpen:()=>{}});function IO({children:e,asChild:t}){const{setIsOpen:n}=J.useContext(ol);return J.cloneElement(e,{onClick:()=>n(!0)})}function DO({children:e,className:t}){const{isOpen:n,setIsOpen:r}=J.useContext(ol),s=_.useRef(null);return n?p.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:p.jsx("div",{ref:s,className:_e("fixed left-[50%] top-[50%] z-50 w-full max-w-lg translate-x-[-50%] translate-y-[-50%] rounded-lg bg-white p-6 shadow-lg",t),children:e})}):null}function zO({children:e}){return p.jsx("div",{className:"mb-4",children:e})}function FO({children:e}){return p.jsx("div",{className:"mt-6 flex justify-end gap-3",children:e})}function $O({children:e}){return p.jsx("h2",{className:"text-lg font-semibold",children:e})}function BO({children:e}){return p.jsx("p",{className:"mt-2 text-sm text-gray-500",children:e})}function UO({children:e,className:t,...n}){const{setIsOpen:r}=J.useContext(ol);return p.jsx("button",{className:_e("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-white shadow-sm",t),onClick:()=>{var s;(s=n.onClick)==null||s.call(n,new MouseEvent("click")),r(!1)},...n,children:e})}function WO({children:e,className:t,...n}){const{setIsOpen:r}=J.useContext(ol);return p.jsx("button",{className:_e("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",t),onClick:()=>r(!1),...n,children:e})}var ih="focusScope.autoFocusOnMount",sh="focusScope.autoFocusOnUnmount",gy={bubbles:!1,cancelable:!0},HO="FocusScope",tm=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[u,d]=_.useState(null),h=En(s),m=En(o),v=_.useRef(null),g=xt(t,w=>d(w)),x=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let w=function(P){if(x.paused||!u)return;const T=P.target;u.contains(T)?v.current=T:Zr(v.current,{select:!0})},C=function(P){if(x.paused||!u)return;const T=P.relatedTarget;T!==null&&(u.contains(T)||Zr(v.current,{select:!0}))},k=function(P){if(document.activeElement===document.body)for(const N of P)N.removedNodes.length>0&&Zr(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const b=new MutationObserver(k);return u&&b.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),b.disconnect()}}},[r,u,x.paused]),_.useEffect(()=>{if(u){yy.add(x);const w=document.activeElement;if(!u.contains(w)){const k=new CustomEvent(ih,gy);u.addEventListener(ih,h),u.dispatchEvent(k),k.defaultPrevented||(ZO(QO(cb(u)),{select:!0}),document.activeElement===w&&Zr(u))}return()=>{u.removeEventListener(ih,h),setTimeout(()=>{const k=new CustomEvent(sh,gy);u.addEventListener(sh,m),u.dispatchEvent(k),k.defaultPrevented||Zr(w??document.body,{select:!0}),u.removeEventListener(sh,m),yy.remove(x)},0)}}},[u,h,m,x]);const E=_.useCallback(w=>{if(!n&&!r||x.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,k=document.activeElement;if(C&&k){const b=w.currentTarget,[P,T]=VO(b);P&&T?!w.shiftKey&&k===T?(w.preventDefault(),n&&Zr(P,{select:!0})):w.shiftKey&&k===P&&(w.preventDefault(),n&&Zr(T,{select:!0})):k===b&&w.preventDefault()}},[n,r,x.paused]);return p.jsx(qe.div,{tabIndex:-1,...l,ref:g,onKeyDown:E})});tm.displayName=HO;function ZO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Zr(r,{select:t}),document.activeElement!==n)return}function VO(e){const t=cb(e),n=vy(t,e),r=vy(t.reverse(),e);return[n,r]}function cb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function vy(e,t){for(const n of e)if(!qO(n,{upTo:t}))return n}function qO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GO(e){return e instanceof HTMLInputElement&&"select"in e}function Zr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&GO(e)&&t&&e.select()}}var yy=KO();function KO(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_y(e,t),e.unshift(t)},remove(t){var n;e=_y(e,t),(n=e[0])==null||n.resume()}}}function _y(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function QO(e){return e.filter(t=>t.tagName!=="A")}var oh=0;function db(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wy()),document.body.insertAdjacentElement("beforeend",e[1]??wy()),oh++,()=>{oh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),oh--}},[])}function wy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rr=function(){return rr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},rr.apply(this,arguments)};function hb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function YO(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var ku="right-scroll-bar-position",Su="width-before-scroll-bar",JO="with-scroll-bars-hidden",XO="--removed-body-scroll-bar-size";function ah(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eR(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var tR=typeof window<"u"?_.useLayoutEffect:_.useEffect,xy=new WeakMap;function nR(e,t){var n=eR(null,function(r){return e.forEach(function(s){return ah(s,r)})});return tR(function(){var r=xy.get(n);if(r){var s=new Set(r),o=new Set(e),l=n.current;s.forEach(function(u){o.has(u)||ah(u,null)}),o.forEach(function(u){s.has(u)||ah(u,l)})}xy.set(n,e)},[e]),n}function rR(e){return e}function iR(e,t){t===void 0&&(t=rR);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(o),l=n}var d=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function sR(e){e===void 0&&(e={});var t=iR(null);return t.options=rr({async:!0,ssr:!1},e),t}var fb=function(e){var t=e.sideCar,n=hb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,rr({},n))};fb.isSideCarExport=!0;function oR(e,t){return e.useMedium(t),fb}var pb=sR(),lh=function(){},Uc=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:lh,onWheelCapture:lh,onTouchMoveCapture:lh}),s=r[0],o=r[1],l=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,v=e.shards,g=e.sideCar,x=e.noIsolation,E=e.inert,w=e.allowPinchZoom,C=e.as,k=C===void 0?"div":C,b=e.gapMode,P=hb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=g,N=nR([n,t]),R=rr(rr({},P),s);return _.createElement(_.Fragment,null,m&&_.createElement(T,{sideCar:pb,removeScrollBar:h,shards:v,noIsolation:x,inert:E,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:b}),l?_.cloneElement(_.Children.only(u),rr(rr({},R),{ref:N})):_.createElement(k,rr({},R,{className:d,ref:N}),u))});Uc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uc.classNames={fullWidth:Su,zeroRight:ku};var aR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=aR();return t&&e.setAttribute("nonce",t),e}function uR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=lR())&&(uR(t,n),cR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hR=function(){var e=dR();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},mb=function(){var e=hR(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},fR={left:0,top:0,right:0,gap:0},uh=function(e){return parseInt(e||"",10)||0},pR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[uh(n),uh(r),uh(s)]},mR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fR;var t=pR(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},gR=mb(),Ys="data-scroll-locked",vR=function(e,t,n,r){var s=e.left,o=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(JO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ys,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ku,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Su,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ku," .").concat(ku,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Su," .").concat(Su,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ys,`] {
    `).concat(XO,": ").concat(u,`px;
  }
`)},by=function(){var e=parseInt(document.body.getAttribute(Ys)||"0",10);return isFinite(e)?e:0},yR=function(){_.useEffect(function(){return document.body.setAttribute(Ys,(by()+1).toString()),function(){var e=by()-1;e<=0?document.body.removeAttribute(Ys):document.body.setAttribute(Ys,e.toString())}},[])},_R=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;yR();var o=_.useMemo(function(){return mR(s)},[s]);return _.createElement(gR,{styles:vR(o,!t,s,n?"":"!important")})},Nf=!1;if(typeof window<"u")try{var tu=Object.defineProperty({},"passive",{get:function(){return Nf=!0,!0}});window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{Nf=!1}var Es=Nf?{passive:!1}:!1,wR=function(e){return e.tagName==="TEXTAREA"},gb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wR(e)&&n[t]==="visible")},xR=function(e){return gb(e,"overflowY")},bR=function(e){return gb(e,"overflowX")},ky=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vb(e,r);if(s){var o=yb(e,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kR=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},SR=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vb=function(e,t){return e==="v"?xR(t):bR(t)},yb=function(e,t){return e==="v"?kR(t):SR(t)},PR=function(e,t){return e==="h"&&t==="rtl"?-1:1},ER=function(e,t,n,r,s){var o=PR(e,window.getComputedStyle(t).direction),l=o*r,u=n.target,d=t.contains(u),h=!1,m=l>0,v=0,g=0;do{var x=yb(e,u),E=x[0],w=x[1],C=x[2],k=w-C-o*E;(E||k)&&vb(e,u)&&(v+=k,g+=E),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&(Math.abs(v)<1||!s)||!m&&(Math.abs(g)<1||!s))&&(h=!0),h},nu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Sy=function(e){return[e.deltaX,e.deltaY]},Py=function(e){return e&&"current"in e?e.current:e},CR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jR=0,Cs=[];function NR(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(jR++)[0],o=_.useState(mb)[0],l=_.useRef(e);_.useEffect(function(){l.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=YO([e.lockRef.current],(e.shards||[]).map(Py),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=_.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var k=nu(w),b=n.current,P="deltaX"in w?w.deltaX:b[0]-k[0],T="deltaY"in w?w.deltaY:b[1]-k[1],N,R=w.target,M=Math.abs(P)>Math.abs(T)?"h":"v";if("touches"in w&&M==="h"&&R.type==="range")return!1;var D=ky(M,R);if(!D)return!0;if(D?N=M:(N=M==="v"?"h":"v",D=ky(M,R)),!D)return!1;if(!r.current&&"changedTouches"in w&&(P||T)&&(r.current=N),!N)return!0;var F=r.current||N;return ER(F,C,w,F==="h"?P:T,!0)},[]),d=_.useCallback(function(w){var C=w;if(!(!Cs.length||Cs[Cs.length-1]!==o)){var k="deltaY"in C?Sy(C):nu(C),b=t.current.filter(function(N){return N.name===C.type&&(N.target===C.target||C.target===N.shadowParent)&&CR(N.delta,k)})[0];if(b&&b.should){C.cancelable&&C.preventDefault();return}if(!b){var P=(l.current.shards||[]).map(Py).filter(Boolean).filter(function(N){return N.contains(C.target)}),T=P.length>0?u(C,P[0]):!l.current.noIsolation;T&&C.cancelable&&C.preventDefault()}}},[]),h=_.useCallback(function(w,C,k,b){var P={name:w,delta:C,target:k,should:b,shadowParent:LR(k)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(T){return T!==P})},1)},[]),m=_.useCallback(function(w){n.current=nu(w),r.current=void 0},[]),v=_.useCallback(function(w){h(w.type,Sy(w),w.target,u(w,e.lockRef.current))},[]),g=_.useCallback(function(w){h(w.type,nu(w),w.target,u(w,e.lockRef.current))},[]);_.useEffect(function(){return Cs.push(o),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Es),document.addEventListener("touchmove",d,Es),document.addEventListener("touchstart",m,Es),function(){Cs=Cs.filter(function(w){return w!==o}),document.removeEventListener("wheel",d,Es),document.removeEventListener("touchmove",d,Es),document.removeEventListener("touchstart",m,Es)}},[]);var x=e.removeScrollBar,E=e.inert;return _.createElement(_.Fragment,null,E?_.createElement(o,{styles:TR(s)}):null,x?_.createElement(_R,{gapMode:e.gapMode}):null)}function LR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const AR=oR(pb,NR);var nm=_.forwardRef(function(e,t){return _.createElement(Uc,rr({},e,{ref:t,sideCar:AR}))});nm.classNames=Uc.classNames;var OR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ts=new WeakMap,ru=new WeakMap,iu={},ch=0,_b=function(e){return e&&(e.host||_b(e.parentNode))},RR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=_b(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},MR=function(e,t,n,r){var s=RR(t,Array.isArray(e)?e:[e]);iu[n]||(iu[n]=new WeakMap);var o=iu[n],l=[],u=new Set,d=new Set(s),h=function(v){!v||u.has(v)||(u.add(v),h(v.parentNode))};s.forEach(h);var m=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(g){if(u.has(g))m(g);else try{var x=g.getAttribute(r),E=x!==null&&x!=="false",w=(Ts.get(g)||0)+1,C=(o.get(g)||0)+1;Ts.set(g,w),o.set(g,C),l.push(g),w===1&&E&&ru.set(g,!0),C===1&&g.setAttribute(n,"true"),E||g.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return m(t),u.clear(),ch++,function(){l.forEach(function(v){var g=Ts.get(v)-1,x=o.get(v)-1;Ts.set(v,g),o.set(v,x),g||(ru.has(v)||v.removeAttribute(r),ru.delete(v)),x||v.removeAttribute(n)}),ch--,ch||(Ts=new WeakMap,Ts=new WeakMap,ru=new WeakMap,iu={})}},wb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=OR(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),MR(r,s,n,"aria-hidden")):function(){return null}},rm="Dialog",[xb,O2]=wc(rm),[IR,Wn]=xb(rm),bb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,u=_.useRef(null),d=_.useRef(null),[h=!1,m]=Cp({prop:r,defaultProp:s,onChange:o});return p.jsx(IR,{scope:t,triggerRef:u,contentRef:d,contentId:xu(),titleId:xu(),descriptionId:xu(),open:h,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(v=>!v),[m]),modal:l,children:n})};bb.displayName=rm;var kb="DialogTrigger",DR=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(kb,n),o=xt(t,s.triggerRef);return p.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":om(s.open),...r,ref:o,onClick:Re(e.onClick,s.onOpenToggle)})});DR.displayName=kb;var im="DialogPortal",[zR,Sb]=xb(im,{forceMount:void 0}),Pb=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Wn(im,t);return p.jsx(zR,{scope:t,forceMount:n,children:_.Children.map(r,l=>p.jsx(Si,{present:n||o.open,children:p.jsx(xc,{asChild:!0,container:s,children:l})}))})};Pb.displayName=im;var rc="DialogOverlay",Eb=_.forwardRef((e,t)=>{const n=Sb(rc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Wn(rc,e.__scopeDialog);return o.modal?p.jsx(Si,{present:r||o.open,children:p.jsx(FR,{...s,ref:t})}):null});Eb.displayName=rc;var FR=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(rc,n);return p.jsx(nm,{as:rs,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(qe.div,{"data-state":om(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),os="DialogContent",Cb=_.forwardRef((e,t)=>{const n=Sb(os,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Wn(os,e.__scopeDialog);return p.jsx(Si,{present:r||o.open,children:o.modal?p.jsx($R,{...s,ref:t}):p.jsx(BR,{...s,ref:t})})});Cb.displayName=os;var $R=_.forwardRef((e,t)=>{const n=Wn(os,e.__scopeDialog),r=_.useRef(null),s=xt(t,n.contentRef,r);return _.useEffect(()=>{const o=r.current;if(o)return wb(o)},[]),p.jsx(Tb,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Re(e.onFocusOutside,o=>o.preventDefault())})}),BR=_.forwardRef((e,t)=>{const n=Wn(os,e.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return p.jsx(Tb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Tb=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,u=Wn(os,n),d=_.useRef(null),h=xt(t,d);return db(),p.jsxs(p.Fragment,{children:[p.jsx(tm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:p.jsx(el,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":om(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(UR,{titleId:u.titleId}),p.jsx(HR,{contentRef:d,descriptionId:u.descriptionId})]})]})}),sm="DialogTitle",jb=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(sm,n);return p.jsx(qe.h2,{id:s.titleId,...r,ref:t})});jb.displayName=sm;var Nb="DialogDescription",Lb=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(Nb,n);return p.jsx(qe.p,{id:s.descriptionId,...r,ref:t})});Lb.displayName=Nb;var Ab="DialogClose",Ob=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(Ab,n);return p.jsx(qe.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,()=>s.onOpenChange(!1))})});Ob.displayName=Ab;function om(e){return e?"open":"closed"}var Rb="DialogTitleWarning",[R2,Mb]=YP(Rb,{contentName:os,titleName:sm,docsSlug:"dialog"}),UR=({titleId:e})=>{const t=Mb(Rb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},WR="DialogDescriptionWarning",HR=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Mb(WR).contentName}}.`;return _.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ZR=bb,VR=Pb,Ib=Eb,Db=Cb,zb=jb,Fb=Lb,qR=Ob;const $b=ZR,GR=VR,Bb=_.forwardRef(({className:e,...t},n)=>p.jsx(Ib,{ref:n,className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Bb.displayName=Ib.displayName;const am=_.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(GR,{children:[p.jsx(Bb,{}),p.jsxs(Db,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(qR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(jw,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));am.displayName=Db.displayName;const lm=({className:e,...t})=>p.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});lm.displayName="DialogHeader";const um=({className:e,...t})=>p.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});um.displayName="DialogFooter";const cm=_.forwardRef(({className:e,...t},n)=>p.jsx(zb,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));cm.displayName=zb.displayName;const KR=_.forwardRef(({className:e,...t},n)=>p.jsx(Fb,{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));KR.displayName=Fb.displayName;function ta(e){if(!(e!=null&&e.expires))return"Unknown";const t=new Date;return new Date(e.expires)>t?"Active":"Expired"}function QR(e){if(!e)return"-";try{return new Date(e).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}catch{return e}}function su(e){return typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"}function YR(){const{toast:e}=Xa(),{user:t}=dr(),{bluestakesToken:n,isLoading:r,error:s}=em(),[o]=Ax(),l=cr(),[u,d]=_.useState([]),[h,m]=_.useState(!0),[v,g]=_.useState(""),[x,E]=_.useState(null),[w,C]=_.useState(!1),[k,b]=_.useState(!1),[P,T]=_.useState(""),[N,R]=_.useState(!1),[M,D]=_.useState(!1),[F,Q]=_.useState(null),[Y,K]=_.useState(null),oe=[{id:1,name:"John Smith",role:"Project Manager",email:"john.smith@example.com"},{id:2,name:"Sarah Johnson",role:"Field Supervisor",email:"sarah.j@example.com"},{id:3,name:"Mike Wilson",role:"Crew Lead",email:"mike.w@example.com"}];_.useEffect(()=>{async function z(){if(!t){d([]),m(!1);return}m(!0),g("");try{const H=Number(o.get("project"));if(!H){d([]),m(!1);return}const{data:te,error:se}=await fe.from("project_tickets").select("ticket_number, project_id").eq("project_id",H);if(se)throw se;d(te||[]),n&&await ne(te||[],n)}catch(H){g(su(H)?H.message:"Failed to fetch tickets")}finally{m(!1)}}t&&z()},[t,o,n]),_.useEffect(()=>{const z=Number(o.get("project"));z&&fe.from("projects").select("name").eq("id",z).single().then(({data:H})=>E((H==null?void 0:H.name)||null))},[o]);const q=z=>{const H=o.toString(),te=H?`/tickets/${z.ticket}?${H}`:`/tickets/${z.ticket}`;l(te)},ne=async(z,H)=>{D(!0);try{const te=await Promise.all(z.map(async se=>{try{const X=await nr.getTicketByNumber(se.ticket_number,H);return{...se,bluestakes_data:X}}catch(X){return console.error(`Failed to fetch BlueStakes data for ticket ${se.ticket_number}:`,X),se}}));d(te)}catch(te){console.error("Error enriching tickets:",te),e({title:"Warning",description:"Some ticket data may be incomplete",variant:"destructive"})}finally{D(!1)}},W=async()=>{if(n){m(!0);try{const z=Number(o.get("project"));if(!z){d([]);return}const{data:H,error:te}=await fe.from("project_tickets").select("ticket_number, project_id").eq("project_id",z);if(te)throw te;d(H||[]),await ne(H||[],n)}catch(z){g(su(z)?z.message:"Failed to refresh tickets")}finally{m(!1)}}},ue=async()=>{const z=Number(o.get("project"));if(z){C(!0);try{const{error:H}=await fe.from("project_tickets").delete().eq("project_id",z);if(H)throw H;const{error:te}=await fe.from("projects").delete().eq("id",z);if(te)throw te;l("/")}catch(H){g(su(H)?H.message:"Failed to delete project")}finally{C(!1)}}};function A(z){var X,je,ke,at,Ye,bt,et,lt,Nt;if(!z)return"-";const H=[],te=(X=z.st_from_address)==null?void 0:X.trim(),se=(je=z.st_to_address)==null?void 0:je.trim();return te&&se&&te!=="0"&&se!=="0"?te===se?H.push(`${te} ${(ke=z.street)==null?void 0:ke.trim()}`):H.push(`${(at=z.street)==null?void 0:at.trim()} from ${te} to ${se}`):(Ye=z.cross1)!=null&&Ye.trim()&&((bt=z.cross2)!=null&&bt.trim())?H.push(`${(et=z.street)==null?void 0:et.trim()} from ${z.cross1.trim()} to ${z.cross2.trim()}`):(lt=z.street)!=null&&lt.trim()&&H.push(z.street.trim()),(Nt=z.place)!=null&&Nt.trim()&&H.push(z.place.trim()),H.join(", ")}const G=async()=>{const z=P.trim().toUpperCase();if(!z){e({title:"Error",description:"Please enter a ticket number",variant:"destructive"});return}const H=Number(o.get("project"));if(H){R(!0);try{if(!n)throw new Error("Not authenticated with BlueStakes");const te=await nr.getTicketByNumber(z,n);if(!te)throw new Error("Ticket not found in BlueStakes");const{data:se,error:X}=await fe.from("project_tickets").select("ticket_number").eq("project_id",H).eq("ticket_number",z).single();if(X&&X.code!=="PGRST116")throw X;if(se)throw new Error("Ticket is already assigned to this project");const{error:je}=await fe.from("project_tickets").insert([{project_id:H,ticket_number:z}]);if(je)throw je;d(ke=>[...ke,{ticket_number:z,project_id:H,bluestakes_data:te}]),e({title:"Success",description:"Ticket added successfully"}),b(!1),T("")}catch(te){e({title:"Error",description:su(te)?te.message:"Failed to add ticket",variant:"destructive"})}finally{R(!1)}}},$=u.filter(z=>z.bluestakes_data?ta(z.bluestakes_data)==="Active":!0),Z=z=>{const H=z.filter(ke=>ke.bluestakes_data&&ta(ke.bluestakes_data)==="Active");if(H.length===0)return;let te=0,se=0,X=0;const je=H.filter(ke=>{var lt,Nt;const at=(lt=ke.bluestakes_data)==null?void 0:lt.latitude,Ye=(Nt=ke.bluestakes_data)==null?void 0:Nt.longitude;if(!at||!Ye)return!1;const bt=Number(at),et=Number(Ye);return!isNaN(bt)&&!isNaN(et)?(te+=bt,se+=et,X++,!0):!1}).map(ke=>({...ke.bluestakes_data.work_area,properties:{...ke.bluestakes_data.work_area.properties,ticketNumber:ke.ticket_number,status:ta(ke.bluestakes_data)}}));X>0&&Q({lat:te/X,lng:se/X}),je.length>0&&K({type:"FeatureCollection",features:je})};return _.useEffect(()=>{u.length>0&&Z(u)},[u]),r?p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Er,{}),p.jsx("div",{className:"container mx-auto px-4 py-8",children:p.jsx(mt,{className:"h-20 w-full"})})]}):s?p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Er,{}),p.jsx("div",{className:"container mx-auto px-4 py-8",children:p.jsxs(bn,{children:[p.jsx(or,{children:p.jsx(ar,{className:"text-center text-red-500",children:"Authentication Error"})}),p.jsx(kn,{className:"text-center",children:p.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Authentication Error"}),p.jsx("p",{className:"text-muted-foreground",children:s})]})})]})})]}):p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Er,{}),p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsxs(Oe,{variant:"ghost",onClick:()=>l("/"),className:"mb-4",children:[p.jsx(wu,{className:"mr-2 h-4 w-4"}),"Back to Projects"]}),p.jsxs(bn,{children:[p.jsxs(or,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs(ar,{children:["Tickets for ",x||"Project"]}),M&&p.jsx("span",{className:"text-sm text-muted-foreground",children:"(Updating ticket data...)"})]}),p.jsxs(OO,{trigger:p.jsxs(Oe,{variant:"ghost",className:"h-8 w-8 p-0",children:[p.jsx("span",{className:"sr-only",children:"Open menu"}),p.jsx(zE,{className:"h-4 w-4"})]}),children:[p.jsxs(eu,{onClick:()=>b(!0),children:[p.jsx(Tw,{className:"mr-2 h-4 w-4"}),"Add Ticket"]}),p.jsx(eu,{onClick:W,children:"Refresh Tickets"}),p.jsx(eu,{onClick:()=>l("/unassigned-tickets"),children:"View Unassigned Tickets"}),p.jsx(RO,{}),p.jsxs(MO,{children:[p.jsx(IO,{asChild:!0,children:p.jsxs(eu,{className:"text-red-600 hover:text-red-700 hover:bg-red-50",onSelect:z=>z.preventDefault(),children:[p.jsx(qE,{className:"mr-2 h-4 w-4"}),"Delete Project"]})}),p.jsxs(DO,{children:[p.jsxs(zO,{children:[p.jsx($O,{children:"Are you sure?"}),p.jsx(BO,{children:"This action cannot be undone. This will permanently delete the project and remove all associated tickets from your project."})]}),p.jsxs(FO,{children:[p.jsx(WO,{children:"Cancel"}),p.jsx(UO,{onClick:ue,className:"bg-red-600 hover:bg-red-700",disabled:w,children:w?"Deleting...":"Delete Project"})]})]})]})]})]}),p.jsxs(kn,{children:[F&&p.jsx("div",{className:"mb-16",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium mb-2",children:"Project Details"}),p.jsx("div",{className:"space-y-2",children:p.jsxs("div",{className:"text-sm text-muted-foreground",children:["Active Tickets: ",$.length]})})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium mb-2",children:"Project Assignees"}),p.jsx("div",{className:"space-y-3",children:oe.map(z=>p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-sm font-medium text-gray-600",children:z.name.split(" ").map(H=>H[0]).join("")}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-medium",children:z.name}),p.jsx("div",{className:"text-xs text-muted-foreground",children:z.role}),p.jsx("div",{className:"text-xs text-muted-foreground",children:z.email})]})]},z.id))})]})]}),p.jsx("div",{className:"h-[300px]",children:p.jsx(nc,{lat:F.lat,lng:F.lng,zoom:13,workAreaGeoJSON:Y,onPolygonClick:z=>{const H=o.toString(),te=H?`/tickets/${z}?${H}`:`/tickets/${z}`;l(te)}})})]})}),h?p.jsx(mt,{className:"h-20 w-full"}):v?p.jsx("div",{className:"text-red-500",children:v}):$.length===0?p.jsx("div",{className:"text-gray-500",children:"No active tickets assigned to this project."}):p.jsxs(_o,{children:[p.jsx(wo,{children:p.jsxs(Vt,{children:[p.jsx(ut,{children:"Ticket #"}),p.jsx(ut,{children:"Status"}),p.jsx(ut,{children:"Update Date"}),p.jsx(ut,{children:"Address"})]})}),p.jsx(xo,{children:$.map(z=>p.jsxs(Vt,{onClick:()=>z.bluestakes_data&&q(z.bluestakes_data),style:{cursor:z.bluestakes_data?"pointer":"default"},className:z.bluestakes_data?"":"opacity-50",children:[p.jsx(Ke,{children:z.ticket_number}),p.jsx(Ke,{children:z.bluestakes_data?p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ta(z.bluestakes_data)==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ta(z.bluestakes_data)}):p.jsx("span",{className:"text-muted-foreground",children:"Loading..."})}),p.jsx(Ke,{children:z.bluestakes_data?QR(z.bluestakes_data.replace_by_date):p.jsx("span",{className:"text-muted-foreground",children:"Loading..."})}),p.jsx(Ke,{children:z.bluestakes_data?A(z.bluestakes_data):p.jsx("span",{className:"text-muted-foreground",children:"Loading..."})})]},z.ticket_number))})]})]})]}),p.jsx($b,{open:k,onOpenChange:b,children:p.jsxs(am,{children:[p.jsx(lm,{children:p.jsx(cm,{children:"Add Ticket to Project"})}),p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"grid gap-2",children:[p.jsx(wa,{htmlFor:"ticket-number",children:"Ticket Number"}),p.jsx(ss,{id:"ticket-number",value:P,onChange:z=>T(z.target.value),placeholder:"Enter BlueStakes ticket number",disabled:N})]})}),p.jsxs(um,{children:[p.jsx(Oe,{variant:"outline",onClick:()=>b(!1),disabled:N,children:"Cancel"}),p.jsx(Oe,{onClick:G,disabled:N,children:N?"Adding...":"Add Ticket"})]})]})})]})]})}var dm="Popover",[Ub,M2]=wc(dm,[jc]),al=jc(),[JR,Ci]=Ub(dm),Wb=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!1}=e,u=al(t),d=_.useRef(null),[h,m]=_.useState(!1),[v=!1,g]=Cp({prop:r,defaultProp:s,onChange:o});return p.jsx(gj,{...u,children:p.jsx(JR,{scope:t,contentId:xu(),triggerRef:d,open:v,onOpenChange:g,onOpenToggle:_.useCallback(()=>g(x=>!x),[g]),hasCustomAnchor:h,onCustomAnchorAdd:_.useCallback(()=>m(!0),[]),onCustomAnchorRemove:_.useCallback(()=>m(!1),[]),modal:l,children:n})})};Wb.displayName=dm;var Hb="PopoverAnchor",XR=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ci(Hb,n),o=al(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=s;return _.useEffect(()=>(l(),()=>u()),[l,u]),p.jsx($p,{...o,...r,ref:t})});XR.displayName=Hb;var Zb="PopoverTrigger",Vb=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ci(Zb,n),o=al(n),l=xt(t,s.triggerRef),u=p.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Yb(s.open),...r,ref:l,onClick:Re(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:p.jsx($p,{asChild:!0,...o,children:u})});Vb.displayName=Zb;var hm="PopoverPortal",[e2,t2]=Ub(hm,{forceMount:void 0}),qb=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=Ci(hm,t);return p.jsx(e2,{scope:t,forceMount:n,children:p.jsx(Si,{present:n||o.open,children:p.jsx(xc,{asChild:!0,container:s,children:r})})})};qb.displayName=hm;var bo="PopoverContent",Gb=_.forwardRef((e,t)=>{const n=t2(bo,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=Ci(bo,e.__scopePopover);return p.jsx(Si,{present:r||o.open,children:o.modal?p.jsx(n2,{...s,ref:t}):p.jsx(r2,{...s,ref:t})})});Gb.displayName=bo;var n2=_.forwardRef((e,t)=>{const n=Ci(bo,e.__scopePopover),r=_.useRef(null),s=xt(t,r),o=_.useRef(!1);return _.useEffect(()=>{const l=r.current;if(l)return wb(l)},[]),p.jsx(nm,{as:rs,allowPinchZoom:!0,children:p.jsx(Kb,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),o.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Re(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),r2=_.forwardRef((e,t)=>{const n=Ci(bo,e.__scopePopover),r=_.useRef(!1),s=_.useRef(!1);return p.jsx(Kb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Kb=_.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,...v}=e,g=Ci(bo,n),x=al(n);return db(),p.jsx(tm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:p.jsx(el,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:p.jsx(ix,{"data-state":Yb(g.open),role:"dialog",id:g.contentId,...x,...v,ref:t,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Qb="PopoverClose",i2=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ci(Qb,n);return p.jsx(qe.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,()=>s.onOpenChange(!1))})});i2.displayName=Qb;var s2="PopoverArrow",o2=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=al(n);return p.jsx(sx,{...s,...r,ref:t})});o2.displayName=s2;function Yb(e){return e?"open":"closed"}var a2=Wb,l2=Vb,u2=qb,Jb=Gb;const Ey=a2,Cy=l2,Lf=_.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>p.jsx(u2,{children:p.jsx(Jb,{ref:s,align:t,sideOffset:n,className:_e("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Lf.displayName=Jb.displayName;function c2(e){if(!e)return"-";try{return new Date(e).toLocaleString()}catch{return e}}function dh(e){return typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"}async function d2(e,t){if(e&&!e.company_id){const{data:n,error:r}=await fe.from("users").select("company_id").eq("id",e.id).single();if(!r&&n&&n.company_id)return t({...e,company_id:n.company_id}),n.company_id}return e==null?void 0:e.company_id}function Ty(e){try{const t=JSON.parse(sessionStorage.getItem(e));return t?Date.now()>t.expiry?(sessionStorage.removeItem(e),null):t.value:null}catch{return null}}function jy(e,t,n=5*60*1e3){const r={value:t,expiry:Date.now()+n};sessionStorage.setItem(e,JSON.stringify(r))}function Ny(e){function t(s){if(typeof s=="number")return s;if(!s)return null;const o=String(s).trim();if(o===""||o===" ")return null;const l=Number(o);return isNaN(l)?null:l}let n=t(e.centroid_y),r=t(e.centroid_x);if((n===null||r===null)&&e.extent_top&&e.extent_left&&e.extent_bottom&&e.extent_right){const s=t(e.extent_top),o=t(e.extent_left),l=t(e.extent_bottom),u=t(e.extent_right);[s,o,l,u].every(d=>d!==null)&&(n=(s+l)/2,r=(o+u)/2)}return(n===null||r===null)&&(n=t(e.latitude),r=t(e.longitude)),{lat:n,lng:r}}function h2(e){const t=_.useRef(null);return r=>{!t.current||t.current.closed?t.current=window.open(r,e):t.current.focus()}}function f2(){const{toast:e}=Xa(),{user:t,setUser:n}=dr(),{bluestakesToken:r,isLoading:s,error:o}=em(),[l,u]=_.useState([]),[d,h]=_.useState([]),[m,v]=_.useState(!0),[g,x]=_.useState(!0),[E,w]=_.useState(""),[C,k]=_.useState([]),[b,P]=_.useState(null),[T,N]=_.useState(""),[R,M]=_.useState(!1),[D,F]=_.useState(""),[Q,Y]=_.useState("");_.useState(null);const[K,oe]=_.useState(!1),[q,ne]=_.useState(""),[W,ue]=_.useState(!1),[A,G]=_.useState(null),[$,Z]=_.useState({}),[z,H]=_.useState(!1),te=h2("bluestakes_ticket_entry"),se=async ee=>{try{const{data:he,error:ae}=await fe.from("project_tickets").select("project_id, projects(name)").eq("ticket_number",ee).maybeSingle();if(ae&&ae.code!=="PGRST116")throw ae;const Ce=Array.isArray(he==null?void 0:he.projects)?he.projects[0]:he==null?void 0:he.projects;return(Ce==null?void 0:Ce.name)||"Unassigned"}catch(he){return console.error("Error fetching project for ticket:",he),"Unassigned"}},[X,je]=_.useState({});async function ke(){if(!r)return;v(!0),x(!0),w("");const ee=Ty("ticketsNeedingUpdate"),he=Ty("unassignedTickets");if(ee&&he){h(ee),u(he),v(!1),x(!1);return}try{const ae=await nr.getTicketsNeedingUpdate(r),Ce=new Set,$t=ae.filter(xe=>Ce.has(xe.ticket)?!1:(Ce.add(xe.ticket),!0)).sort((xe,nt)=>{const ce=xe.replace_by_date?new Date(xe.replace_by_date).getTime():1/0,Pe=nt.replace_by_date?new Date(nt.replace_by_date).getTime():1/0;return ce-Pe});if(h($t),jy("ticketsNeedingUpdate",$t),t&&!t.company_id&&typeof n=="function"){const xe=await d2(t,n);xe&&(t.company_id=xe)}const tt=await nr.getAllTickets(r),{data:Mr,error:Hn}=await fe.from("project_tickets").select("ticket_number");if(Hn)throw Hn;const fn=new Set((Mr||[]).map(xe=>xe.ticket_number)),Bt=new Date,Cn=tt.filter(xe=>!fn.has(xe.ticket)&&xe.expires&&new Date(xe.expires)>Bt),Yt=Cn.map(async xe=>{try{const nt=await nr.getTicketByNumber(xe.ticket,r);if(nt.original_ticket){const{data:ce,error:Pe}=await fe.from("project_tickets").select("project_id").eq("ticket_number",nt.original_ticket).maybeSingle();if(Pe)throw Pe;if(ce){const{error:Ne}=await fe.from("project_tickets").update({ticket_number:xe.ticket,replace_by_date:nt.replace_by_date}).eq("ticket_number",nt.original_ticket);if(Ne)throw Ne;return!0}}return!1}catch(nt){return console.error(`Error processing ticket ${xe.ticket}:`,nt),!1}}),Ti=await Promise.all(Yt),{data:ds,error:ji}=await fe.from("project_tickets").select("ticket_number");if(ji)throw ji;const Ni=new Set((ds||[]).map(xe=>xe.ticket_number)),Ir=new Set,fr=Cn.filter((xe,nt)=>Ir.has(xe.ticket)||Ti[nt]||Ni.has(xe.ticket)?!1:(Ir.add(xe.ticket),!0));if(u(fr),jy("unassignedTickets",fr),t&&t.company_id){const{data:xe,error:nt}=await fe.from("projects").select("id, name").eq("company_id",t.company_id),ce=(xe||[]).map(Pe=>({project_id:Pe.id,project_name:Pe.name}));k(ce)}else k([])}catch(ae){w(dh(ae)?ae.message:"Failed to fetch tickets")}finally{v(!1),x(!1)}}_.useEffect(()=>{t&&r&&ke()},[t,r]),_.useEffect(()=>{(async()=>{if(d.length===0)return;const he={};await Promise.all(d.map(async ae=>{const Ce=await se(ae.ticket);he[ae.ticket]=Ce})),je(he)})()},[d]);const at=ee=>{P(ee),N(""),F(""),Y("")},Ye=()=>{P(null),N(""),F(""),Y("")},bt=async()=>{if(!T){F("Please select a project");return}M(!0),F(""),Y("");try{const ee=await nr.getTicketByNumber(b.ticket,r),{error:he}=await fe.from("project_tickets").insert([{project_id:T,ticket_number:b.ticket,replace_by_date:ee.replace_by_date}]);he?F(he.message):(Y("Ticket assigned successfully!"),u(ae=>ae.filter(Ce=>Ce.ticket!==b.ticket)),setTimeout(()=>{Ye()},1e3))}catch(ee){F(dh(ee)?ee.message:"Failed to assign ticket")}finally{M(!1)}},et=async ee=>{try{const he="https://newtin.bluestakes.org/newtinweb/UTAH_ticketentry.html";await navigator.clipboard.writeText(ee.ticket),e({title:"Ticket Number Copied",description:`Ticket number ${ee.ticket} has been copied to clipboard`}),te(he)}catch{e({title:"Error",description:"Failed to copy ticket number or open URL",variant:"destructive"})}},lt=ee=>{var Lt,$t,tt,Mr,Hn,fn,Bt,Cn,Yt;const he=[],ae=(Lt=ee.st_from_address)==null?void 0:Lt.trim(),Ce=($t=ee.st_to_address)==null?void 0:$t.trim();return ae&&Ce&&ae!=="0"&&Ce!=="0"?ae===Ce?he.push(`${ae} ${(tt=ee.street)==null?void 0:tt.trim()}`):he.push(`${(Mr=ee.street)==null?void 0:Mr.trim()} from ${ae} to ${Ce}`):(Hn=ee.cross1)!=null&&Hn.trim()&&((fn=ee.cross2)!=null&&fn.trim())?he.push(`${(Bt=ee.street)==null?void 0:Bt.trim()} from ${ee.cross1.trim()} to ${ee.cross2.trim()}`):(Cn=ee.street)!=null&&Cn.trim()&&he.push(ee.street.trim()),(Yt=ee.place)!=null&&Yt.trim()&&he.push(ee.place.trim()),he.join(", ")},Nt=async()=>{if(!q.trim()){e({title:"Error",description:"Please enter a project name",variant:"destructive"});return}ue(!0);try{const{data:ee,error:he}=await fe.from("projects").insert([{name:q.trim()}]).select().single();if(he)throw he;const{error:ae}=await fe.from("user_projects").insert([{user_id:t.id,project_id:ee.id}]);if(ae)throw ae;k(Ce=>[...Ce,{project_id:ee.id,project_name:ee.name}]),N(ee.id.toString()),e({title:"Success",description:"Project created successfully"}),oe(!1),ne("")}catch(ee){e({title:"Error",description:dh(ee)?ee.message:"Failed to create project",variant:"destructive"})}finally{ue(!1)}},hr=()=>{sessionStorage.removeItem("ticketsNeedingUpdate"),sessionStorage.removeItem("unassignedTickets"),ke()};async function Ft(ee){G(ee),H(!0);try{const he=await nr.getTicketByNumber(ee,r);Z(ae=>({...ae,[ee]:he}))}catch{Z(he=>({...he,[ee]:null}))}finally{H(!1)}}return s?p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Er,{}),p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsx(mt,{className:"h-10 w-full"}),p.jsx(mt,{className:"h-20 w-full"})]})]}):o||E?p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Er,{}),p.jsx("div",{className:"container mx-auto px-4 py-8",children:p.jsx(bn,{children:p.jsx(kn,{className:"p-8 text-center",children:p.jsx("p",{className:"text-red-500 text-lg",children:o||E})})})})]}):p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Er,{}),p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsx("div",{className:"flex justify-end mb-4",children:p.jsx(Oe,{onClick:hr,children:"Refresh Page Data"})}),p.jsxs(bn,{className:"mb-4",children:[p.jsx(or,{children:p.jsx(ar,{children:"Tickets To Update"})}),p.jsx(kn,{children:g?p.jsxs("div",{className:"space-y-2",children:[p.jsx(mt,{className:"h-10"}),p.jsx(mt,{className:"h-10"}),p.jsx(mt,{className:"h-10"})]}):p.jsxs(_o,{children:[p.jsx(wo,{children:p.jsxs(Vt,{children:[p.jsx(ut,{children:"Ticket Number"}),p.jsx(ut,{children:"Project"}),p.jsx(ut,{children:"Update Date"}),p.jsx(ut,{className:"w-40 text-center",children:"Action"})]})}),p.jsx(xo,{children:d.length===0?p.jsx(Vt,{children:p.jsx(Ke,{colSpan:4,className:"text-center text-gray-500 py-8",children:"No tickets need updates"})}):d.map((ee,he)=>{const ae=$[ee.ticket],{lat:Ce,lng:Lt}=ae?Ny(ae):{lat:null,lng:null},$t=ae&&Ce!==null&&Lt!==null&&ae.work_area&&ae.work_area.type&&ae.work_area.geometry;return p.jsxs(Ey,{open:A===ee.ticket,onOpenChange:tt=>{tt||G(null)},children:[p.jsx(Cy,{asChild:!0,children:p.jsx("div",{role:"row",tabIndex:0,className:"contents cursor-pointer",onClick:()=>Ft(ee.ticket),children:p.jsxs(Vt,{children:[p.jsx(Ke,{children:ee.ticket}),p.jsx(Ke,{children:X[ee.ticket]||p.jsx("span",{className:"text-gray-400",children:"Loading..."})}),p.jsx(Ke,{children:c2(ee.replace_by_date).split(",")[0]}),p.jsx(Ke,{className:"w-40 flex justify-center",children:p.jsx(Oe,{size:"sm",onClick:tt=>{tt.stopPropagation(),et(ee)},children:"Update"})})]})})}),p.jsx(Lf,{align:"end",sideOffset:8,className:"w-[350px] p-0",children:z&&A===ee.ticket?p.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[p.jsx(Sv,{className:"animate-spin mr-2"})," Loading map..."]}):$t?p.jsx(nc,{lat:Ce,lng:Lt,workAreaGeoJSON:ae.work_area,height:"300px",width:"100%",showTooltips:!1},ee.ticket):p.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:"No map data available"})})]},`update-${ee.ticket}-${he}`)})})]})})]}),p.jsxs(bn,{children:[p.jsx(or,{children:p.jsx(ar,{children:"Unassigned Tickets"})}),p.jsx(kn,{children:m?p.jsxs("div",{className:"space-y-2",children:[p.jsx(mt,{className:"h-10"}),p.jsx(mt,{className:"h-10"}),p.jsx(mt,{className:"h-10"})]}):p.jsxs(_o,{children:[p.jsx(wo,{children:p.jsxs(Vt,{children:[p.jsx(ut,{children:"Ticket Number"}),p.jsx(ut,{children:"Contact"}),p.jsx(ut,{children:"Done For"}),p.jsx(ut,{children:"Address"}),p.jsx(ut,{className:"w-40 text-center",children:"Action"})]})}),p.jsx(xo,{children:l.length===0?p.jsx(Vt,{children:p.jsx(Ke,{colSpan:5,className:"text-center text-gray-500 py-8",children:"All Tickets have been assigned"})}):l.map((ee,he)=>{const ae=$[ee.ticket],{lat:Ce,lng:Lt}=ae?Ny(ae):{lat:null,lng:null},$t=ae&&Ce!==null&&Lt!==null&&ae.work_area&&ae.work_area.type&&ae.work_area.geometry;return p.jsxs(Ey,{open:A===ee.ticket,onOpenChange:tt=>{tt||G(null)},children:[p.jsx(Cy,{asChild:!0,children:p.jsx("div",{role:"row",tabIndex:0,className:"contents cursor-pointer",onClick:()=>Ft(ee.ticket),children:p.jsxs(Vt,{children:[p.jsx(Ke,{children:ee.ticket}),p.jsx(Ke,{children:ee.contact}),p.jsx(Ke,{children:ee.done_for}),p.jsx(Ke,{children:lt(ee)}),p.jsx(Ke,{className:"w-40 flex justify-center",children:p.jsx(Oe,{size:"sm",onClick:tt=>{tt.stopPropagation(),at(ee)},children:"Assign to Project"})})]})})}),p.jsx(Lf,{align:"end",sideOffset:8,className:"w-[350px] p-0",children:z&&A===ee.ticket?p.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[p.jsx(Sv,{className:"animate-spin mr-2"})," Loading map..."]}):$t?p.jsx(nc,{lat:Ce,lng:Lt,workAreaGeoJSON:ae.work_area,height:"300px",width:"100%",showTooltips:!1},ee.ticket):p.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:"No map data available"})})]},`unassigned-${ee.ticket}-${he}`)})})]})})]}),b&&p.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md",children:[p.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Assign Ticket ",b.ticket," to Project"]}),p.jsx("div",{className:"mb-4",children:p.jsxs("div",{className:"flex gap-2 mb-2",children:[p.jsxs("select",{className:"flex-1 border rounded p-2",value:T,onChange:ee=>N(ee.target.value),disabled:R,children:[p.jsx("option",{value:"",children:"-- Select a project --"}),C.map(ee=>p.jsx("option",{value:ee.project_id,children:ee.project_name},ee.project_id))]}),p.jsx(Oe,{variant:"outline",onClick:()=>oe(!0),disabled:R,children:"New Project"})]})}),D&&p.jsx("div",{className:"text-red-500 mb-2",children:D}),Q&&p.jsx("div",{className:"text-green-600 mb-2",children:Q}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx(Oe,{onClick:Ye,variant:"outline",disabled:R,children:"Cancel"}),p.jsx(Oe,{onClick:bt,disabled:R||!T,children:R?"Assigning...":"Assign"})]})]})}),p.jsx($b,{open:K,onOpenChange:oe,children:p.jsxs(am,{children:[p.jsx(lm,{children:p.jsx(cm,{children:"Create New Project"})}),p.jsx("div",{className:"py-4",children:p.jsx(ss,{placeholder:"Enter project name",value:q,onChange:ee=>ne(ee.target.value),disabled:W})}),p.jsxs(um,{children:[p.jsx(Oe,{variant:"outline",onClick:()=>oe(!1),disabled:W,children:"Cancel"}),p.jsx(Oe,{onClick:Nt,disabled:W||!q.trim(),children:W?"Creating...":"Create Project"})]})]})})]})]})}function p2(){const[e,t]=_.useState(""),[n,r]=_.useState(""),[s,o]=_.useState(""),[l,u]=_.useState(""),d=cr();_.useEffect(()=>{let m=window.location.hash;m.includes("#")&&m.indexOf("#",1)!==-1?m=m.substring(m.indexOf("#",1)+1):m=m.substring(1);const v=new URLSearchParams(m),g=v.get("access_token"),x=v.get("refresh_token");v.get("type")==="invite"&&g?(o(g),u(x||"")):r("Invalid or expired invite link.")},[]);const h=async m=>{if(m.preventDefault(),!s)return;const{error:v}=await fe.auth.setSession({access_token:s,refresh_token:l});if(v){r(v.message);return}const{error:g}=await fe.auth.updateUser({password:e});g?r(g.message):(r("Password set! Redirecting..."),setTimeout(()=>{d("/")},1e3))};return s?p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:p.jsxs("form",{onSubmit:h,className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[p.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Set Your Password"}),p.jsx("input",{type:"password",placeholder:"New password",value:e,onChange:m=>t(m.target.value),required:!0,className:"w-full px-4 py-2 mb-4 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),p.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Set Password"}),n&&p.jsx("div",{className:"mt-4 text-center text-red-500",children:n})]})}):p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:p.jsx("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:p.jsx("div",{className:"text-center text-red-500",children:n})})})}const m2=new nN;function g2(){const e=cr();return _.useEffect(()=>{const t=new URLSearchParams(window.location.hash.substring(1)),n=t.get("access_token");t.get("type")==="invite"&&n&&e("/set-password"+window.location.hash,{replace:!0})},[e]),null}const v2=()=>p.jsx(iN,{client:m2,children:p.jsx(QN,{children:p.jsxs(Oj,{children:[p.jsx(NC,{}),p.jsx(sT,{}),p.jsxs(pO,{children:[p.jsx(g2,{}),p.jsxs(VN,{children:[p.jsx(Ln,{path:"/",element:p.jsx(ea,{children:p.jsx(my,{})})}),p.jsx(Ln,{path:"/tickets",element:p.jsx(ea,{children:p.jsx(YR,{})})}),p.jsx(Ln,{path:"/projects",element:p.jsx(ea,{children:p.jsx(my,{})})}),p.jsx(Ln,{path:"/tickets/:ticketId",element:p.jsx(ea,{children:p.jsx(jO,{})})}),p.jsx(Ln,{path:"/login",element:p.jsx(py,{children:p.jsx(xO,{})})}),p.jsx(Ln,{path:"/signup",element:p.jsx(py,{children:p.jsx(bO,{})})}),p.jsx(Ln,{path:"/admin",element:p.jsx(mO,{children:p.jsx(AO,{})})}),p.jsx(Ln,{path:"/unassigned-tickets",element:p.jsx(ea,{children:p.jsx(f2,{})})}),p.jsx(Ln,{path:"/set-password",element:p.jsx(p2,{})}),p.jsx(Ln,{path:"*",element:p.jsx(kO,{})})]})]})]})})});X0(document.getElementById("root")).render(p.jsx(v2,{}));export{Af as g};
